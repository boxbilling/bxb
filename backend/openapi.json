{"openapi": "3.1.0", "info": {"title": "BxB Billing API", "description": "A comprehensive usage-based billing platform API. Manage customers, plans, subscriptions, invoices, payments, wallets, coupons, credit notes, taxes, webhooks, and more.", "version": "1.0.0"}, "paths": {"/dashboard/stats": {"get": {"tags": ["Dashboard"], "summary": "Get dashboard statistics", "description": "Get dashboard statistics.", "operationId": "get_stats_dashboard_stats_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardStatsResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/dashboard/activity": {"get": {"tags": ["Dashboard"], "summary": "Get recent activity feed", "description": "Get recent billing activity.", "operationId": "get_recent_activity_dashboard_activity_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/RecentActivityResponse"}, "type": "array", "title": "Response Get Recent Activity Dashboard Activity Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/dashboard/revenue": {"get": {"tags": ["Dashboard"], "summary": "Get revenue analytics", "description": "Get revenue analytics: MRR, total this month, outstanding, overdue, and trend.", "operationId": "get_revenue_dashboard_revenue_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RevenueResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/dashboard/customers": {"get": {"tags": ["Dashboard"], "summary": "Get customer metrics", "description": "Get customer metrics: total, new this month, churned this month.", "operationId": "get_customer_metrics_dashboard_customers_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerMetricsResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/dashboard/subscriptions": {"get": {"tags": ["Dashboard"], "summary": "Get subscription metrics", "description": "Get subscription metrics: active, new, canceled, by-plan breakdown.", "operationId": "get_subscription_metrics_dashboard_subscriptions_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionMetricsResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/dashboard/usage": {"get": {"tags": ["Dashboard"], "summary": "Get top usage metrics", "description": "Get top billable metrics by usage volume in the last 30 days.", "operationId": "get_usage_metrics_dashboard_usage_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageMetricsResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/items/update-prices": {"post": {"tags": ["Items"], "summary": "Enqueue price update", "description": "Enqueue a background task to update all item prices.", "operationId": "enqueue_update_prices_items_update_prices_post", "responses": {"202": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Response Enqueue Update Prices Items Update Prices Post"}}}}}}}, "/items/": {"get": {"tags": ["Items"], "summary": "List items", "description": "List all items with pagination.", "operationId": "list_items_items__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/ItemResponse"}, "title": "Response List Items Items  Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Items"], "summary": "Create item", "description": "Create a new item.", "operationId": "create_item_items__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemResponse"}}}}, "422": {"description": "Validation error"}}}}, "/items/{item_id}": {"get": {"tags": ["Items"], "summary": "Get item", "description": "Get an item by ID.", "operationId": "get_item_items__item_id__get", "parameters": [{"name": "item_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Item Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemResponse"}}}}, "404": {"description": "Item not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Items"], "summary": "Update item", "description": "Update an existing item.", "operationId": "update_item_items__item_id__put", "parameters": [{"name": "item_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Item Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemResponse"}}}}, "404": {"description": "Item not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["Items"], "summary": "Delete item", "description": "Delete an item by ID.", "operationId": "delete_item_items__item_id__delete", "parameters": [{"name": "item_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Item Id"}}], "responses": {"204": {"description": "Successful Response"}, "404": {"description": "Item not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/customers/": {"get": {"tags": ["Customers"], "summary": "List customers", "description": "List all customers with pagination.", "operationId": "list_customers_v1_customers__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/CustomerResponse"}, "title": "Response List Customers V1 Customers  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Customers"], "summary": "Create customer", "description": "Create a new customer.", "operationId": "create_customer_v1_customers__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Customer with this external_id already exists"}, "422": {"description": "Validation error"}}}}, "/v1/customers/{customer_id}": {"get": {"tags": ["Customers"], "summary": "Get customer", "description": "Get a customer by ID.", "operationId": "get_customer_v1_customers__customer_id__get", "parameters": [{"name": "customer_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Customer Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Customers"], "summary": "Update customer", "description": "Update a customer.", "operationId": "update_customer_v1_customers__customer_id__put", "parameters": [{"name": "customer_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Customer Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Customers"], "summary": "Delete customer", "description": "Delete a customer.", "operationId": "delete_customer_v1_customers__customer_id__delete", "parameters": [{"name": "customer_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Customer Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/customers/{customer_id}/applied_coupons": {"get": {"tags": ["Customers"], "summary": "List customer applied coupons", "description": "List applied coupons for a customer.", "operationId": "list_applied_coupons_v1_customers__customer_id__applied_coupons_get", "parameters": [{"name": "customer_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Customer Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AppliedCouponResponse"}, "title": "Response List Applied Coupons V1 Customers  Customer Id  Applied Coupons Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/billable_metrics/": {"get": {"tags": ["Customers"], "summary": "List billable metrics", "description": "List all billable metrics with pagination.", "operationId": "list_billable_metrics_v1_billable_metrics__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/BillableMetricResponse"}, "title": "Response List Billable Metrics V1 Billable Metrics  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Customers"], "summary": "Create billable metric", "description": "Create a new billable metric.", "operationId": "create_billable_metric_v1_billable_metrics__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Billable metric with this code already exists"}, "422": {"description": "Validation error"}}}}, "/v1/billable_metrics/{metric_id}": {"get": {"tags": ["Customers"], "summary": "Get billable metric", "description": "Get a billable metric by ID.", "operationId": "get_billable_metric_v1_billable_metrics__metric_id__get", "parameters": [{"name": "metric_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Metric Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Customers"], "summary": "Update billable metric", "description": "Update a billable metric.", "operationId": "update_billable_metric_v1_billable_metrics__metric_id__put", "parameters": [{"name": "metric_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Metric Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Customers"], "summary": "Delete billable metric", "description": "Delete a billable metric.", "operationId": "delete_billable_metric_v1_billable_metrics__metric_id__delete", "parameters": [{"name": "metric_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Metric Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/billable_metrics/{code}/filters": {"post": {"tags": ["Customers"], "summary": "Create metric filter", "description": "Add a filter to a billable metric.", "operationId": "create_billable_metric_filter_v1_billable_metrics__code__filters_post", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricFilterCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricFilterResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Customers"], "summary": "List metric filters", "description": "List filters for a billable metric.", "operationId": "list_billable_metric_filters_v1_billable_metrics__code__filters_get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/BillableMetricFilterResponse"}, "title": "Response List Billable Metric Filters V1 Billable Metrics  Code  Filters Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/billable_metrics/{code}/filters/{filter_id}": {"delete": {"tags": ["Customers"], "summary": "Delete metric filter", "description": "Remove a filter from a billable metric.", "operationId": "delete_billable_metric_filter_v1_billable_metrics__code__filters__filter_id__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}, {"name": "filter_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Filter Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric or filter not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/plans/": {"get": {"tags": ["Plans"], "summary": "List plans", "description": "List all plans with pagination.", "operationId": "list_plans_v1_plans__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PlanResponse"}, "title": "Response List Plans V1 Plans  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Plans"], "summary": "Create plan", "description": "Create a new plan.", "operationId": "create_plan_v1_plans__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanResponse"}}}}, "400": {"description": "Invalid billable metric or filter reference"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Plan with this code already exists"}, "422": {"description": "Validation error"}}}}, "/v1/plans/{plan_id}": {"get": {"tags": ["Plans"], "summary": "Get plan", "description": "Get a plan by ID.", "operationId": "get_plan_v1_plans__plan_id__get", "parameters": [{"name": "plan_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Plan Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Plans"], "summary": "Update plan", "description": "Update a plan.", "operationId": "update_plan_v1_plans__plan_id__put", "parameters": [{"name": "plan_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Plan Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanResponse"}}}}, "400": {"description": "Invalid billable metric or filter reference"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Plans"], "summary": "Delete plan", "description": "Delete a plan.", "operationId": "delete_plan_v1_plans__plan_id__delete", "parameters": [{"name": "plan_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Plan Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/": {"get": {"tags": ["Subscriptions"], "summary": "List subscriptions", "description": "List all subscriptions with pagination. Optionally filter by customer_id.", "operationId": "list_subscriptions_v1_subscriptions__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/SubscriptionResponse"}, "title": "Response List Subscriptions V1 Subscriptions  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Subscriptions"], "summary": "Create subscription", "description": "Create a new subscription.", "operationId": "create_subscription_v1_subscriptions__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "400": {"description": "Invalid customer or plan reference"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Subscription with this external_id already exists"}, "422": {"description": "Validation error"}}}}, "/v1/subscriptions/{subscription_id}": {"get": {"tags": ["Subscriptions"], "summary": "Get subscription", "description": "Get a subscription by ID.", "operationId": "get_subscription_v1_subscriptions__subscription_id__get", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Subscriptions"], "summary": "Update subscription", "description": "Update a subscription.", "operationId": "update_subscription_v1_subscriptions__subscription_id__put", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Subscriptions"], "summary": "Terminate subscription", "description": "Terminate a subscription with configurable financial action.", "operationId": "terminate_subscription_v1_subscriptions__subscription_id__delete", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}, {"name": "on_termination_action", "in": "query", "required": false, "schema": {"$ref": "#/components/schemas/TerminationAction", "description": "Termination action", "default": "generate_invoice"}, "description": "Termination action"}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/cancel": {"post": {"tags": ["Subscriptions"], "summary": "Cancel subscription", "description": "Cancel a subscription with configurable financial action.", "operationId": "cancel_subscription_v1_subscriptions__subscription_id__cancel_post", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}, {"name": "on_termination_action", "in": "query", "required": false, "schema": {"$ref": "#/components/schemas/TerminationAction", "description": "Cancellation action", "default": "generate_invoice"}, "description": "Cancellation action"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/events/": {"get": {"tags": ["Events"], "summary": "List events", "description": "List events with optional filters.", "operationId": "list_events_v1_events__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "external_customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "External Customer Id"}}, {"name": "code", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Code"}}, {"name": "from_timestamp", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "From Timestamp"}}, {"name": "to_timestamp", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "To Timestamp"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/EventResponse"}, "title": "Response List Events V1 Events  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Events"], "summary": "Ingest event", "description": "Ingest a single event.\n\nIf an event with the same transaction_id already exists, returns the existing event.\nThis provides idempotent event ingestion.", "operationId": "create_event_v1_events__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Billable metric code does not exist"}}}}, "/v1/events/{event_id}": {"get": {"tags": ["Events"], "summary": "Get event", "description": "Get an event by ID.", "operationId": "get_event_v1_events__event_id__get", "parameters": [{"name": "event_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Event Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Event not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/events/batch": {"post": {"tags": ["Events"], "summary": "Ingest event batch", "description": "Ingest a batch of events (up to 100).\n\nDuplicate transaction_ids are handled gracefully - existing events are returned\nwithout error. The response includes counts of newly ingested vs duplicate events.", "operationId": "create_events_batch_v1_events_batch_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventBatchCreate"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventBatchResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Billable metric code does not exist"}}}}, "/v1/fees/": {"get": {"tags": ["Fees"], "summary": "List fees", "description": "List fees with optional filters.", "operationId": "list_fees_v1_fees__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "invoice_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "subscription_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}}, {"name": "fee_type", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/FeeType"}, {"type": "null"}], "title": "Fee Type"}}, {"name": "payment_status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/FeePaymentStatus"}, {"type": "null"}], "title": "Payment Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/FeeResponse"}, "title": "Response List Fees V1 Fees  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/fees/{fee_id}": {"get": {"tags": ["Fees"], "summary": "Get fee", "description": "Get a fee by ID.", "operationId": "get_fee_v1_fees__fee_id__get", "parameters": [{"name": "fee_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Fee Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeeResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Fee not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Fees"], "summary": "Update fee", "description": "Update a fee.", "operationId": "update_fee_v1_fees__fee_id__put", "parameters": [{"name": "fee_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Fee Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeeUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeeResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Fee not found"}, "422": {"description": "Validation error"}}}}, "/v1/invoices/": {"get": {"tags": ["Invoices"], "summary": "List invoices", "description": "List invoices with optional filters.", "operationId": "list_invoices_v1_invoices__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "subscription_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/InvoiceStatus"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/InvoiceResponse"}, "title": "Response List Invoices V1 Invoices  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}": {"get": {"tags": ["Invoices"], "summary": "Get invoice", "description": "Get an invoice by ID.", "operationId": "get_invoice_v1_invoices__invoice_id__get", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Invoices"], "summary": "Update invoice", "description": "Update an invoice.", "operationId": "update_invoice_v1_invoices__invoice_id__put", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Invoices"], "summary": "Delete draft invoice", "description": "Delete a draft invoice.", "operationId": "delete_invoice_v1_invoices__invoice_id__delete", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Only draft invoices can be deleted"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/finalize": {"post": {"tags": ["Invoices"], "summary": "Finalize invoice", "description": "Finalize a draft invoice and apply wallet credits if available.", "operationId": "finalize_invoice_v1_invoices__invoice_id__finalize_post", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "400": {"description": "Invoice cannot be finalized in current state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/pay": {"post": {"tags": ["Invoices"], "summary": "Mark invoice paid", "description": "Mark an invoice as paid.", "operationId": "mark_invoice_paid_v1_invoices__invoice_id__pay_post", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "400": {"description": "Invoice cannot be marked paid in current state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/void": {"post": {"tags": ["Invoices"], "summary": "Void invoice", "description": "Void an invoice.", "operationId": "void_invoice_v1_invoices__invoice_id__void_post", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "400": {"description": "Invoice cannot be voided in current state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/settlements": {"get": {"tags": ["Invoices"], "summary": "List invoice settlements", "description": "List all settlements for an invoice.", "operationId": "list_invoice_settlements_v1_invoices__invoice_id__settlements_get", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/InvoiceSettlementResponse"}, "title": "Response List Invoice Settlements V1 Invoices  Invoice Id  Settlements Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/": {"get": {"tags": ["Payments"], "summary": "List payments", "description": "List payments with optional filters.", "operationId": "list_payments_v1_payments__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "invoice_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/PaymentStatus"}, {"type": "null"}], "title": "Status"}}, {"name": "provider", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/PaymentProvider"}, {"type": "null"}], "title": "Provider"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PaymentResponse"}, "title": "Response List Payments V1 Payments  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/{payment_id}": {"get": {"tags": ["Payments"], "summary": "Get payment", "description": "Get a payment by ID.", "operationId": "get_payment_v1_payments__payment_id__get", "parameters": [{"name": "payment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["Payments"], "summary": "Delete payment", "description": "Delete a pending payment.", "operationId": "delete_payment_v1_payments__payment_id__delete", "parameters": [{"name": "payment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Id"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Only pending payments can be deleted"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/checkout": {"post": {"tags": ["Payments"], "summary": "Create checkout session", "description": "Create a checkout session for an invoice.\n\nThis creates a payment record and returns a URL where the customer\ncan complete the payment.", "operationId": "create_checkout_session_v1_payments_checkout_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CheckoutSessionCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CheckoutSessionResponse"}}}}, "400": {"description": "Only finalized invoices can be paid"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "500": {"description": "Failed to create checkout session"}, "503": {"description": "Payment provider not configured"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/webhook/{provider}": {"post": {"tags": ["Payments"], "summary": "Handle payment webhook", "description": "Handle payment provider webhooks.\n\nThis endpoint receives webhook events from payment providers\nand updates payment/invoice status accordingly.", "operationId": "handle_webhook_v1_payments_webhook__provider__post", "parameters": [{"name": "provider", "in": "path", "required": true, "schema": {"$ref": "#/components/schemas/PaymentProvider"}}, {"name": "Stripe-Signature", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Stripe-Signature"}}, {"name": "X-UCP-Signature", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Ucp-Signature"}}, {"name": "Webhook-Signature", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Webhook-Signature"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Response Handle Webhook V1 Payments Webhook  Provider  Post"}}}}, "400": {"description": "Invalid provider or JSON payload"}, "401": {"description": "Invalid webhook signature"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/{payment_id}/mark-paid": {"post": {"tags": ["Payments"], "summary": "Mark payment paid", "description": "Manually mark a payment as paid (for manual/offline payments).", "operationId": "mark_payment_paid_v1_payments__payment_id__mark_paid_post", "parameters": [{"name": "payment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentResponse"}}}}, "400": {"description": "Only pending payments can be marked as paid"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/{payment_id}/refund": {"post": {"tags": ["Payments"], "summary": "Refund payment", "description": "Refund a succeeded payment.", "operationId": "refund_payment_v1_payments__payment_id__refund_post", "parameters": [{"name": "payment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentResponse"}}}}, "400": {"description": "Only succeeded payments can be refunded"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/": {"post": {"tags": ["Wallets"], "summary": "Create wallet", "description": "Create a wallet for a customer.", "operationId": "create_wallet_v1_wallets__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletResponse"}}}}, "400": {"description": "Invalid customer reference or validation error"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Wallets"], "summary": "List wallets", "description": "List wallets with optional filters.", "operationId": "list_wallets_v1_wallets__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/WalletStatus"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WalletResponse"}, "title": "Response List Wallets V1 Wallets  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/{wallet_id}": {"get": {"tags": ["Wallets"], "summary": "Get wallet", "description": "Get a wallet by ID.", "operationId": "get_wallet_v1_wallets__wallet_id__get", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Wallets"], "summary": "Update wallet", "description": "Update a wallet (name, expiration_at, priority).", "operationId": "update_wallet_v1_wallets__wallet_id__put", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Wallets"], "summary": "Terminate wallet", "description": "Terminate a wallet (soft delete: sets status=terminated).", "operationId": "terminate_wallet_v1_wallets__wallet_id__delete", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Wallet cannot be terminated in current state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/{wallet_id}/top_up": {"post": {"tags": ["Wallets"], "summary": "Top up wallet", "description": "Top up a wallet with credits.", "operationId": "top_up_wallet_v1_wallets__wallet_id__top_up_post", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletTopUp"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletResponse"}}}}, "400": {"description": "Invalid top-up amount or wallet state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/{wallet_id}/transactions": {"get": {"tags": ["Wallets"], "summary": "List wallet transactions", "description": "List transactions for a wallet.", "operationId": "list_wallet_transactions_v1_wallets__wallet_id__transactions_get", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WalletTransactionResponse"}, "title": "Response List Wallet Transactions V1 Wallets  Wallet Id  Transactions Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/coupons/": {"post": {"tags": ["Coupons"], "summary": "Create coupon", "description": "Create a new coupon.", "operationId": "create_coupon_v1_coupons__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Coupon with this code already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Coupons"], "summary": "List coupons", "description": "List coupons with optional status filter.", "operationId": "list_coupons_v1_coupons__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/CouponStatus"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/CouponResponse"}, "title": "Response List Coupons V1 Coupons  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/coupons/{code}": {"get": {"tags": ["Coupons"], "summary": "Get coupon", "description": "Get a coupon by code.", "operationId": "get_coupon_v1_coupons__code__get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Coupons"], "summary": "Update coupon", "description": "Update a coupon by code.", "operationId": "update_coupon_v1_coupons__code__put", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Coupons"], "summary": "Terminate coupon", "description": "Terminate a coupon by code.", "operationId": "terminate_coupon_v1_coupons__code__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/coupons/apply": {"post": {"tags": ["Coupons"], "summary": "Apply coupon to customer", "description": "Apply a coupon to a customer.", "operationId": "apply_coupon_v1_coupons_apply_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApplyCouponRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AppliedCouponResponse"}}}}, "400": {"description": "Coupon is not active"}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon or customer not found"}, "409": {"description": "Coupon already applied to this customer"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/add_ons/": {"post": {"tags": ["Add-ons"], "summary": "Create add-on", "description": "Create a new add-on.", "operationId": "create_add_on_v1_add_ons__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Add-on with this code already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Add-ons"], "summary": "List add-ons", "description": "List add-ons with pagination.", "operationId": "list_add_ons_v1_add_ons__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AddOnResponse"}, "title": "Response List Add Ons V1 Add Ons  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/add_ons/{code}": {"get": {"tags": ["Add-ons"], "summary": "Get add-on", "description": "Get an add-on by code.", "operationId": "get_add_on_v1_add_ons__code__get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Add-on not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Add-ons"], "summary": "Update add-on", "description": "Update an add-on by code.", "operationId": "update_add_on_v1_add_ons__code__put", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Add-on not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Add-ons"], "summary": "Delete add-on", "description": "Delete an add-on by code.", "operationId": "delete_add_on_v1_add_ons__code__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Add-on not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/add_ons/apply": {"post": {"tags": ["Add-ons"], "summary": "Apply add-on to customer", "description": "Apply an add-on to a customer.", "operationId": "apply_add_on_v1_add_ons_apply_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApplyAddOnRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AppliedAddOnResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Add-on or customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/credit_notes/": {"post": {"tags": ["Credit Notes"], "summary": "Create credit note", "description": "Create a new credit note with optional items.", "operationId": "create_credit_note_v1_credit_notes__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Credit note with this number already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Credit Notes"], "summary": "List credit notes", "description": "List credit notes with optional filters.", "operationId": "list_credit_notes_v1_credit_notes__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "invoice_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/CreditNoteStatus"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/CreditNoteResponse"}, "title": "Response List Credit Notes V1 Credit Notes  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/credit_notes/{credit_note_id}": {"get": {"tags": ["Credit Notes"], "summary": "Get credit note", "description": "Get a credit note by ID.", "operationId": "get_credit_note_v1_credit_notes__credit_note_id__get", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Credit Notes"], "summary": "Update credit note", "description": "Update a credit note (only allowed in draft status).", "operationId": "update_credit_note_v1_credit_notes__credit_note_id__put", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "400": {"description": "Only draft credit notes can be updated"}, "401": {"description": "Unauthorized"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation error"}}}}, "/v1/credit_notes/{credit_note_id}/finalize": {"post": {"tags": ["Credit Notes"], "summary": "Finalize credit note", "description": "Finalize a credit note.", "operationId": "finalize_credit_note_v1_credit_notes__credit_note_id__finalize_post", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "400": {"description": "Only draft credit notes can be finalized"}, "401": {"description": "Unauthorized"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/credit_notes/{credit_note_id}/void": {"post": {"tags": ["Credit Notes"], "summary": "Void credit note", "description": "Void a credit note.", "operationId": "void_credit_note_v1_credit_notes__credit_note_id__void_post", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "400": {"description": "Only finalized credit notes can be voided"}, "401": {"description": "Unauthorized"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/": {"post": {"tags": ["Taxes"], "summary": "Create tax", "description": "Create a new tax.", "operationId": "create_tax_v1_taxes__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Tax with this code already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Taxes"], "summary": "List taxes", "description": "List all taxes.", "operationId": "list_taxes_v1_taxes__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/TaxResponse"}, "title": "Response List Taxes V1 Taxes  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/applied": {"get": {"tags": ["Taxes"], "summary": "List applied taxes", "description": "List applied taxes for a given entity.", "operationId": "list_applied_taxes_v1_taxes_applied_get", "parameters": [{"name": "taxable_type", "in": "query", "required": true, "schema": {"type": "string", "maxLength": 50, "title": "Taxable Type"}}, {"name": "taxable_id", "in": "query", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Taxable Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AppliedTaxResponse"}, "title": "Response List Applied Taxes V1 Taxes Applied Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/apply": {"post": {"tags": ["Taxes"], "summary": "Apply tax to entity", "description": "Apply a tax to an entity.", "operationId": "apply_tax_v1_taxes_apply_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApplyTaxRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AppliedTaxResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Tax not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/applied/{applied_tax_id}": {"delete": {"tags": ["Taxes"], "summary": "Remove applied tax", "description": "Remove an applied tax by ID.", "operationId": "remove_applied_tax_v1_taxes_applied__applied_tax_id__delete", "parameters": [{"name": "applied_tax_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Applied Tax Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Applied tax not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/{code}": {"get": {"tags": ["Taxes"], "summary": "Get tax", "description": "Get a tax by code.", "operationId": "get_tax_v1_taxes__code__get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Tax not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Taxes"], "summary": "Update tax", "description": "Update a tax by code.", "operationId": "update_tax_v1_taxes__code__put", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Tax not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Taxes"], "summary": "Delete tax", "description": "Delete a tax by code.", "operationId": "delete_tax_v1_taxes__code__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Tax not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/": {"post": {"tags": ["Webhooks"], "summary": "Create webhook endpoint", "description": "Create a new webhook endpoint.", "operationId": "create_webhook_endpoint_v1_webhook_endpoints__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointResponse"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Webhooks"], "summary": "List webhook endpoints", "description": "List all webhook endpoints.", "operationId": "list_webhook_endpoints_v1_webhook_endpoints__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WebhookEndpointResponse"}, "title": "Response List Webhook Endpoints V1 Webhook Endpoints  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/{endpoint_id}": {"get": {"tags": ["Webhooks"], "summary": "Get webhook endpoint", "description": "Get a webhook endpoint by ID.", "operationId": "get_webhook_endpoint_v1_webhook_endpoints__endpoint_id__get", "parameters": [{"name": "endpoint_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Endpoint Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Webhook endpoint not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Webhooks"], "summary": "Update webhook endpoint", "description": "Update a webhook endpoint.", "operationId": "update_webhook_endpoint_v1_webhook_endpoints__endpoint_id__put", "parameters": [{"name": "endpoint_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Endpoint Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Webhook endpoint not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Webhooks"], "summary": "Delete webhook endpoint", "description": "Delete a webhook endpoint.", "operationId": "delete_webhook_endpoint_v1_webhook_endpoints__endpoint_id__delete", "parameters": [{"name": "endpoint_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Endpoint Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Webhook endpoint not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/hooks/list": {"get": {"tags": ["Webhooks"], "summary": "List recent webhooks", "description": "List recent webhooks with optional filters.", "operationId": "list_webhooks_v1_webhook_endpoints_hooks_list_get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "webhook_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Webhook Type"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WebhookResponse"}, "title": "Response List Webhooks V1 Webhook Endpoints Hooks List Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/hooks/{webhook_id}": {"get": {"tags": ["Webhooks"], "summary": "Get webhook details", "description": "Get webhook details.", "operationId": "get_webhook_v1_webhook_endpoints_hooks__webhook_id__get", "parameters": [{"name": "webhook_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Webhook Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookResponse"}}}}, "404": {"description": "Webhook not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/hooks/{webhook_id}/retry": {"post": {"tags": ["Webhooks"], "summary": "Retry failed webhook", "description": "Manually retry a failed webhook.", "operationId": "retry_webhook_v1_webhook_endpoints_hooks__webhook_id__retry_post", "parameters": [{"name": "webhook_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Webhook Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookResponse"}}}}, "400": {"description": "Only failed webhooks can be retried"}, "404": {"description": "Webhook not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/organizations/": {"post": {"tags": ["Organizations"], "summary": "Create organization", "description": "Create a new organization with an initial API key.", "operationId": "create_organization_v1_organizations__post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationCreate"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationCreateResponse"}}}}, "422": {"description": "Validation error"}}}}, "/v1/organizations/current": {"get": {"tags": ["Organizations"], "summary": "Get current organization", "description": "Get the current organization (identified by API key).", "operationId": "get_current_org_v1_organizations_current_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Organization not found"}}}, "put": {"tags": ["Organizations"], "summary": "Update current organization", "description": "Update the current organization.", "operationId": "update_current_org_v1_organizations_current_put", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationUpdate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Organization not found"}, "422": {"description": "Validation error"}}}}, "/v1/organizations/current/api_keys": {"post": {"tags": ["Organizations"], "summary": "Create API key", "description": "Generate a new API key for the current organization.", "operationId": "create_api_key_v1_organizations_current_api_keys_post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiKeyCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiKeyCreateResponse"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Organizations"], "summary": "List API keys", "description": "List API keys for the current organization (prefix and name only).", "operationId": "list_api_keys_v1_organizations_current_api_keys_get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/ApiKeyListResponse"}, "title": "Response List Api Keys V1 Organizations Current Api Keys Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/organizations/current/api_keys/{api_key_id}": {"delete": {"tags": ["Organizations"], "summary": "Revoke API key", "description": "Revoke an API key.", "operationId": "revoke_api_key_v1_organizations_current_api_keys__api_key_id__delete", "parameters": [{"name": "api_key_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Api Key Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "API key not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/dunning_campaigns/": {"post": {"tags": ["Dunning"], "summary": "Create dunning campaign", "description": "Create a new dunning campaign.", "operationId": "create_dunning_campaign_v1_dunning_campaigns__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Dunning campaign with this code already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Dunning"], "summary": "List dunning campaigns", "description": "List dunning campaigns with optional status filter.", "operationId": "list_dunning_campaigns_v1_dunning_campaigns__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/DunningCampaignResponse"}, "title": "Response List Dunning Campaigns V1 Dunning Campaigns  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/dunning_campaigns/{campaign_id}": {"get": {"tags": ["Dunning"], "summary": "Get dunning campaign", "description": "Get a dunning campaign by ID.", "operationId": "get_dunning_campaign_v1_dunning_campaigns__campaign_id__get", "parameters": [{"name": "campaign_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Campaign Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Dunning campaign not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Dunning"], "summary": "Update dunning campaign", "description": "Update a dunning campaign.", "operationId": "update_dunning_campaign_v1_dunning_campaigns__campaign_id__put", "parameters": [{"name": "campaign_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Campaign Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Dunning campaign not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Dunning"], "summary": "Delete dunning campaign", "description": "Delete a dunning campaign.", "operationId": "delete_dunning_campaign_v1_dunning_campaigns__campaign_id__delete", "parameters": [{"name": "campaign_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Campaign Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Dunning campaign not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payment_requests/": {"post": {"tags": ["Payment Requests"], "summary": "Create payment request", "description": "Create a manual payment request.", "operationId": "create_payment_request_v1_payment_requests__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentRequestCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentRequestResponse"}}}}, "400": {"description": "Invalid customer or invoice reference"}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["Payment Requests"], "summary": "List payment requests", "description": "List payment requests with optional filters.", "operationId": "list_payment_requests_v1_payment_requests__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "payment_status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Payment Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PaymentRequestResponse"}, "title": "Response List Payment Requests V1 Payment Requests  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payment_requests/{request_id}": {"get": {"tags": ["Payment Requests"], "summary": "Get payment request", "description": "Get a payment request by ID.", "operationId": "get_payment_request_v1_payment_requests__request_id__get", "parameters": [{"name": "request_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Request Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentRequestResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Payment request not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/plans/{plan_code}/commitments": {"get": {"tags": ["Commitments"], "summary": "List plan commitments", "description": "List all commitments for a plan.", "operationId": "list_commitments_for_plan_v1_plans__plan_code__commitments_get", "parameters": [{"name": "plan_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Plan Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/CommitmentResponse"}, "title": "Response List Commitments For Plan V1 Plans  Plan Code  Commitments Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Commitments"], "summary": "Create commitment", "description": "Add a commitment to a plan.", "operationId": "create_commitment_v1_plans__plan_code__commitments_post", "parameters": [{"name": "plan_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Plan Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CommitmentCreateAPI"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CommitmentResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation error"}}}}, "/v1/commitments/{commitment_id}": {"put": {"tags": ["Commitments"], "summary": "Update commitment", "description": "Update a commitment.", "operationId": "update_commitment_v1_commitments__commitment_id__put", "parameters": [{"name": "commitment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Commitment Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CommitmentUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CommitmentResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Commitment not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Commitments"], "summary": "Delete commitment", "description": "Remove a commitment.", "operationId": "delete_commitment_v1_commitments__commitment_id__delete", "parameters": [{"name": "commitment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Commitment Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Commitment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/plans/{plan_code}/usage_thresholds": {"post": {"tags": ["Thresholds"], "summary": "Create plan usage threshold", "description": "Add a usage threshold to a plan.", "operationId": "create_plan_usage_threshold_v1_plans__plan_code__usage_thresholds_post", "parameters": [{"name": "plan_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Plan Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageThresholdCreateAPI"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageThresholdResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Thresholds"], "summary": "List plan usage thresholds", "description": "List all usage thresholds for a plan.", "operationId": "list_plan_usage_thresholds_v1_plans__plan_code__usage_thresholds_get", "parameters": [{"name": "plan_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Plan Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/UsageThresholdResponse"}, "title": "Response List Plan Usage Thresholds V1 Plans  Plan Code  Usage Thresholds Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/usage_thresholds": {"post": {"tags": ["Thresholds"], "summary": "Create subscription usage threshold", "description": "Add a usage threshold to a subscription.", "operationId": "create_subscription_usage_threshold_v1_subscriptions__subscription_id__usage_thresholds_post", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageThresholdCreateAPI"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageThresholdResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Thresholds"], "summary": "List subscription usage thresholds", "description": "List all usage thresholds for a subscription.", "operationId": "list_subscription_usage_thresholds_v1_subscriptions__subscription_id__usage_thresholds_get", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/UsageThresholdResponse"}, "title": "Response List Subscription Usage Thresholds V1 Subscriptions  Subscription Id  Usage Thresholds Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/current_usage": {"get": {"tags": ["Thresholds"], "summary": "Get current subscription usage", "description": "Get current period usage amount for a subscription.", "operationId": "get_current_usage_v1_subscriptions__subscription_id__current_usage_get", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CurrentUsageResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Subscription, plan, or customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/usage_thresholds/{threshold_id}": {"delete": {"tags": ["Thresholds"], "summary": "Delete usage threshold", "description": "Remove a usage threshold.", "operationId": "delete_usage_threshold_v1_usage_thresholds__threshold_id__delete", "parameters": [{"name": "threshold_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Threshold Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Usage threshold not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/data_exports/": {"post": {"tags": ["Data Exports"], "summary": "Create data export", "description": "Create a new data export and enqueue background processing.", "operationId": "create_data_export_v1_data_exports__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataExportCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataExportResponse"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Data Exports"], "summary": "List data exports", "description": "List data exports for the organization.", "operationId": "list_data_exports_v1_data_exports__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/DataExportResponse"}, "title": "Response List Data Exports V1 Data Exports  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/data_exports/{export_id}": {"get": {"tags": ["Data Exports"], "summary": "Get data export", "description": "Get a data export by ID.", "operationId": "get_data_export_v1_data_exports__export_id__get", "parameters": [{"name": "export_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Export Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataExportResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Data export not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/data_exports/{export_id}/download": {"get": {"tags": ["Data Exports"], "summary": "Download data export", "description": "Download the CSV file for a completed data export.", "operationId": "download_data_export_v1_data_exports__export_id__download_get", "parameters": [{"name": "export_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Export Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Export is not completed"}, "401": {"description": "Unauthorized"}, "404": {"description": "Data export or file not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/integrations/": {"post": {"tags": ["Integrations"], "summary": "Create integration", "description": "Create a new integration.", "operationId": "create_integration_v1_integrations__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Integration with this provider already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Integrations"], "summary": "List integrations", "description": "List integrations for the organization.", "operationId": "list_integrations_v1_integrations__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/IntegrationResponse"}, "title": "Response List Integrations V1 Integrations  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/integrations/{integration_id}": {"get": {"tags": ["Integrations"], "summary": "Get integration", "description": "Get an integration by ID.", "operationId": "get_integration_v1_integrations__integration_id__get", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Integrations"], "summary": "Update integration", "description": "Update an integration's settings.", "operationId": "update_integration_v1_integrations__integration_id__put", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Integrations"], "summary": "Delete integration", "description": "Remove an integration.", "operationId": "delete_integration_v1_integrations__integration_id__delete", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/integrations/{integration_id}/test": {"post": {"tags": ["Integrations"], "summary": "Test integration connection", "description": "Test an integration's connection credentials.", "operationId": "test_integration_connection_v1_integrations__integration_id__test_post", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Response Test Integration Connection V1 Integrations  Integration Id  Test Post"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Unsupported integration type"}}}}, "/": {"get": {"summary": "Root", "operationId": "root__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Response Root  Get"}}}}}}}, "/health": {"get": {"summary": "Health", "operationId": "health_health_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Response Health Health Get"}}}}}}}}, "components": {"schemas": {"AddOnCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}, "amount_currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Amount Currency", "default": "USD"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "required": ["code", "name", "amount_cents"], "title": "AddOnCreate"}, "AddOnResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "amount_currency": {"type": "string", "title": "Amount Currency"}, "invoice_display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invoice Display Name"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "amount_cents", "amount_currency", "created_at", "updated_at"], "title": "AddOnResponse"}, "AddOnUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Amount Currency"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "title": "AddOnUpdate"}, "AggregationType": {"type": "string", "enum": ["count", "sum", "max", "unique_count", "weighted_sum", "latest", "custom"], "title": "AggregationType"}, "ApiKeyCreate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}}, "type": "object", "title": "ApiKeyCreate"}, "ApiKeyCreateResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "key_prefix": {"type": "string", "title": "Key Prefix"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "last_used_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Used At"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}, "status": {"type": "string", "title": "Status"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "raw_key": {"type": "string", "title": "Raw Key"}}, "type": "object", "required": ["id", "organization_id", "key_prefix", "name", "last_used_at", "expires_at", "status", "created_at", "updated_at", "raw_key"], "title": "ApiKeyCreateResponse", "description": "Returned only on creation \u2014 includes the raw API key."}, "ApiKeyListResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "key_prefix": {"type": "string", "title": "Key Prefix"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "last_used_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Used At"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}, "status": {"type": "string", "title": "Status"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "key_prefix", "name", "last_used_at", "expires_at", "status", "created_at"], "title": "ApiKeyListResponse"}, "AppliedAddOnResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "add_on_id": {"type": "string", "format": "uuid", "title": "Add On Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "amount_currency": {"type": "string", "title": "Amount Currency"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "add_on_id", "customer_id", "amount_cents", "amount_currency", "created_at"], "title": "AppliedAddOnResponse"}, "AppliedCouponResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "coupon_id": {"type": "string", "format": "uuid", "title": "Coupon Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount_cents": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Amount Currency"}, "percentage_rate": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Percentage Rate"}, "frequency": {"type": "string", "title": "Frequency"}, "frequency_duration": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Frequency Duration"}, "frequency_duration_remaining": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Frequency Duration Remaining"}, "status": {"type": "string", "title": "Status"}, "terminated_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Terminated At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "coupon_id", "customer_id", "frequency", "status", "created_at", "updated_at"], "title": "AppliedCouponResponse"}, "AppliedTaxResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "tax_id": {"type": "string", "format": "uuid", "title": "Tax Id"}, "taxable_type": {"type": "string", "title": "Taxable Type"}, "taxable_id": {"type": "string", "format": "uuid", "title": "Taxable Id"}, "tax_rate": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Tax Rate"}, "tax_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Tax Amount Cents"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "tax_id", "taxable_type", "taxable_id", "tax_amount_cents", "created_at"], "title": "AppliedTaxResponse"}, "ApplyAddOnRequest": {"properties": {"add_on_code": {"type": "string", "title": "Add On Code"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Amount Currency"}}, "type": "object", "required": ["add_on_code", "customer_id"], "title": "ApplyAddOnRequest"}, "ApplyCouponRequest": {"properties": {"coupon_code": {"type": "string", "title": "Coupon Code"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Amount Currency"}, "percentage_rate": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Percentage Rate"}}, "type": "object", "required": ["coupon_code", "customer_id"], "title": "ApplyCouponRequest"}, "ApplyTaxRequest": {"properties": {"tax_code": {"type": "string", "title": "Tax Code"}, "taxable_type": {"type": "string", "maxLength": 50, "title": "Taxable Type"}, "taxable_id": {"type": "string", "format": "uuid", "title": "Taxable Id"}}, "type": "object", "required": ["tax_code", "taxable_type", "taxable_id"], "title": "ApplyTaxRequest"}, "BillableMetricCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "aggregation_type": {"$ref": "#/components/schemas/AggregationType"}, "field_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Field Name"}, "recurring": {"type": "boolean", "title": "Recurring", "default": false}, "rounding_function": {"anyOf": [{"type": "string", "enum": ["round", "ceil", "floor"]}, {"type": "null"}], "title": "Rounding Function"}, "rounding_precision": {"anyOf": [{"type": "integer", "maximum": 15.0, "minimum": 0.0}, {"type": "null"}], "title": "Rounding Precision"}, "expression": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Expression"}}, "type": "object", "required": ["code", "name", "aggregation_type"], "title": "BillableMetricCreate"}, "BillableMetricFilterCreate": {"properties": {"key": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Key"}, "values": {"items": {}, "type": "array", "title": "Values"}}, "type": "object", "required": ["key"], "title": "BillableMetricFilterCreate"}, "BillableMetricFilterResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "billable_metric_id": {"type": "string", "format": "uuid", "title": "Billable Metric Id"}, "key": {"type": "string", "title": "Key"}, "values": {"items": {}, "type": "array", "title": "Values"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "billable_metric_id", "key", "values", "created_at", "updated_at"], "title": "BillableMetricFilterResponse"}, "BillableMetricResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "aggregation_type": {"$ref": "#/components/schemas/AggregationType"}, "field_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Field Name"}, "recurring": {"type": "boolean", "title": "Recurring"}, "rounding_function": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Rounding Function"}, "rounding_precision": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Rounding Precision"}, "expression": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Expression"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "description", "aggregation_type", "field_name", "recurring", "rounding_function", "rounding_precision", "expression", "created_at", "updated_at"], "title": "BillableMetricResponse"}, "BillableMetricUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "field_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Field Name"}, "recurring": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Recurring"}, "rounding_function": {"anyOf": [{"type": "string", "enum": ["round", "ceil", "floor"]}, {"type": "null"}], "title": "Rounding Function"}, "rounding_precision": {"anyOf": [{"type": "integer", "maximum": 15.0, "minimum": 0.0}, {"type": "null"}], "title": "Rounding Precision"}, "expression": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Expression"}}, "type": "object", "title": "BillableMetricUpdate"}, "BillingTime": {"type": "string", "enum": ["calendar", "anniversary"], "title": "BillingTime"}, "ChargeFilterInput": {"properties": {"billable_metric_filter_id": {"type": "string", "format": "uuid", "title": "Billable Metric Filter Id"}, "values": {"items": {"type": "string"}, "type": "array", "title": "Values"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "required": ["billable_metric_filter_id"], "title": "ChargeFilterInput", "description": "Filter configuration for a charge within a plan."}, "ChargeInput": {"properties": {"billable_metric_id": {"type": "string", "format": "uuid", "title": "Billable Metric Id"}, "charge_model": {"$ref": "#/components/schemas/ChargeModel"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "filters": {"items": {"$ref": "#/components/schemas/ChargeFilterInput"}, "type": "array", "title": "Filters"}}, "type": "object", "required": ["billable_metric_id", "charge_model"], "title": "ChargeInput", "description": "Charge input when creating/updating a plan."}, "ChargeModel": {"type": "string", "enum": ["standard", "graduated", "volume", "package", "percentage", "graduated_percentage", "custom", "dynamic"], "title": "ChargeModel"}, "ChargeOutput": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "billable_metric_id": {"type": "string", "format": "uuid", "title": "Billable Metric Id"}, "charge_model": {"$ref": "#/components/schemas/ChargeModel"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "plan_id", "billable_metric_id", "charge_model", "properties", "created_at", "updated_at"], "title": "ChargeOutput", "description": "Charge output in plan responses."}, "CheckoutSessionCreate": {"properties": {"invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "success_url": {"type": "string", "title": "Success Url", "description": "URL to redirect after successful payment"}, "cancel_url": {"type": "string", "title": "Cancel Url", "description": "URL to redirect if payment is canceled"}, "provider": {"$ref": "#/components/schemas/PaymentProvider", "description": "Payment provider to use (stripe, ucp, manual)", "default": "stripe"}}, "type": "object", "required": ["invoice_id", "success_url", "cancel_url"], "title": "CheckoutSessionCreate", "description": "Schema for creating a checkout session."}, "CheckoutSessionResponse": {"properties": {"payment_id": {"type": "string", "format": "uuid", "title": "Payment Id"}, "checkout_url": {"type": "string", "title": "Checkout Url"}, "provider": {"type": "string", "title": "Provider"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}}, "type": "object", "required": ["payment_id", "checkout_url", "provider"], "title": "CheckoutSessionResponse", "description": "Schema for checkout session response."}, "CommitmentCreateAPI": {"properties": {"commitment_type": {"type": "string", "maxLength": 50, "title": "Commitment Type", "default": "minimum_commitment"}, "amount_cents": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "required": ["amount_cents"], "title": "CommitmentCreateAPI"}, "CommitmentResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "commitment_type": {"type": "string", "title": "Commitment Type"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "invoice_display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invoice Display Name"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "plan_id", "commitment_type", "amount_cents", "created_at", "updated_at"], "title": "CommitmentResponse"}, "CommitmentUpdate": {"properties": {"commitment_type": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Commitment Type"}, "amount_cents": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "title": "CommitmentUpdate"}, "CouponCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "coupon_type": {"$ref": "#/components/schemas/CouponType"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Amount Currency"}, "percentage_rate": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Percentage Rate"}, "frequency": {"$ref": "#/components/schemas/CouponFrequency"}, "frequency_duration": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Frequency Duration"}, "reusable": {"type": "boolean", "title": "Reusable", "default": true}, "expiration": {"$ref": "#/components/schemas/CouponExpiration", "default": "no_expiration"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}}, "type": "object", "required": ["code", "name", "coupon_type", "frequency"], "title": "CouponCreate"}, "CouponExpiration": {"type": "string", "enum": ["no_expiration", "time_limit"], "title": "CouponExpiration"}, "CouponFrequency": {"type": "string", "enum": ["once", "recurring", "forever"], "title": "CouponFrequency"}, "CouponResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "coupon_type": {"type": "string", "title": "Coupon Type"}, "amount_cents": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Amount Currency"}, "percentage_rate": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Percentage Rate"}, "frequency": {"type": "string", "title": "Frequency"}, "frequency_duration": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Frequency Duration"}, "reusable": {"type": "boolean", "title": "Reusable"}, "expiration": {"type": "string", "title": "Expiration"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "status": {"type": "string", "title": "Status"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "coupon_type", "frequency", "reusable", "expiration", "status", "created_at", "updated_at"], "title": "CouponResponse"}, "CouponStatus": {"type": "string", "enum": ["active", "terminated"], "title": "CouponStatus"}, "CouponType": {"type": "string", "enum": ["fixed_amount", "percentage"], "title": "CouponType"}, "CouponUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "expiration": {"anyOf": [{"$ref": "#/components/schemas/CouponExpiration"}, {"type": "null"}]}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "status": {"anyOf": [{"$ref": "#/components/schemas/CouponStatus"}, {"type": "null"}]}}, "type": "object", "title": "CouponUpdate"}, "CreditNoteCreate": {"properties": {"number": {"type": "string", "maxLength": 50, "title": "Number"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "credit_note_type": {"$ref": "#/components/schemas/CreditNoteType"}, "reason": {"$ref": "#/components/schemas/CreditNoteReason"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "credit_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Credit Amount Cents", "default": "0"}, "refund_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Refund Amount Cents", "default": "0"}, "total_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Total Amount Cents", "default": "0"}, "taxes_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Taxes Amount Cents", "default": "0"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency"}, "items": {"items": {"$ref": "#/components/schemas/CreditNoteItemCreate"}, "type": "array", "title": "Items"}}, "type": "object", "required": ["number", "invoice_id", "customer_id", "credit_note_type", "reason", "currency"], "title": "CreditNoteCreate"}, "CreditNoteItemCreate": {"properties": {"fee_id": {"type": "string", "format": "uuid", "title": "Fee Id"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}}, "type": "object", "required": ["fee_id", "amount_cents"], "title": "CreditNoteItemCreate"}, "CreditNoteReason": {"type": "string", "enum": ["duplicated_charge", "product_unsatisfactory", "order_change", "order_cancellation", "fraudulent_charge", "other"], "title": "CreditNoteReason"}, "CreditNoteResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "number": {"type": "string", "title": "Number"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "credit_note_type": {"type": "string", "title": "Credit Note Type"}, "status": {"type": "string", "title": "Status"}, "credit_status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Credit Status"}, "refund_status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Refund Status"}, "reason": {"type": "string", "title": "Reason"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "credit_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Credit Amount Cents"}, "refund_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Refund Amount Cents"}, "balance_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Balance Amount Cents"}, "total_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Amount Cents"}, "taxes_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Taxes Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "issued_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Issued At"}, "voided_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Voided At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "number", "invoice_id", "customer_id", "credit_note_type", "status", "reason", "credit_amount_cents", "refund_amount_cents", "balance_amount_cents", "total_amount_cents", "taxes_amount_cents", "currency", "created_at", "updated_at"], "title": "CreditNoteResponse"}, "CreditNoteStatus": {"type": "string", "enum": ["draft", "finalized"], "title": "CreditNoteStatus"}, "CreditNoteType": {"type": "string", "enum": ["credit", "refund", "offset"], "title": "CreditNoteType"}, "CreditNoteUpdate": {"properties": {"description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "credit_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Credit Amount Cents"}, "refund_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Refund Amount Cents"}, "total_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Total Amount Cents"}, "taxes_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Taxes Amount Cents"}, "reason": {"anyOf": [{"$ref": "#/components/schemas/CreditNoteReason"}, {"type": "null"}]}, "status": {"anyOf": [{"$ref": "#/components/schemas/CreditNoteStatus"}, {"type": "null"}]}, "credit_status": {"anyOf": [{"$ref": "#/components/schemas/CreditStatus"}, {"type": "null"}]}, "refund_status": {"anyOf": [{"$ref": "#/components/schemas/RefundStatus"}, {"type": "null"}]}}, "type": "object", "title": "CreditNoteUpdate"}, "CreditStatus": {"type": "string", "enum": ["available", "consumed", "voided"], "title": "CreditStatus"}, "CurrentUsageResponse": {"properties": {"subscription_id": {"type": "string", "format": "uuid", "title": "Subscription Id"}, "current_usage_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Current Usage Amount Cents"}, "billing_period_start": {"type": "string", "format": "date-time", "title": "Billing Period Start"}, "billing_period_end": {"type": "string", "format": "date-time", "title": "Billing Period End"}}, "type": "object", "required": ["subscription_id", "current_usage_amount_cents", "billing_period_start", "billing_period_end"], "title": "CurrentUsageResponse"}, "CustomerCreate": {"properties": {"external_id": {"type": "string", "maxLength": 255, "minLength": 1, "title": "External Id"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "timezone": {"type": "string", "maxLength": 50, "title": "Timezone", "default": "UTC"}, "billing_metadata": {"additionalProperties": true, "type": "object", "title": "Billing Metadata"}, "invoice_grace_period": {"type": "integer", "minimum": 0.0, "title": "Invoice Grace Period", "default": 0}, "net_payment_term": {"type": "integer", "minimum": 0.0, "title": "Net Payment Term", "default": 30}}, "type": "object", "required": ["external_id", "name"], "title": "CustomerCreate"}, "CustomerMetricsResponse": {"properties": {"total": {"type": "integer", "title": "Total"}, "new_this_month": {"type": "integer", "title": "New This Month"}, "churned_this_month": {"type": "integer", "title": "Churned This Month"}}, "type": "object", "required": ["total", "new_this_month", "churned_this_month"], "title": "CustomerMetricsResponse"}, "CustomerResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "external_id": {"type": "string", "title": "External Id"}, "name": {"type": "string", "title": "Name"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "currency": {"type": "string", "title": "Currency"}, "timezone": {"type": "string", "title": "Timezone"}, "billing_metadata": {"additionalProperties": true, "type": "object", "title": "Billing Metadata"}, "invoice_grace_period": {"type": "integer", "title": "Invoice Grace Period"}, "net_payment_term": {"type": "integer", "title": "Net Payment Term"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "external_id", "name", "email", "currency", "timezone", "billing_metadata", "invoice_grace_period", "net_payment_term", "created_at", "updated_at"], "title": "CustomerResponse"}, "CustomerUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email"}, "currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Currency"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone"}, "billing_metadata": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Billing Metadata"}, "invoice_grace_period": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Invoice Grace Period"}, "net_payment_term": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Net Payment Term"}}, "type": "object", "title": "CustomerUpdate"}, "DashboardStatsResponse": {"properties": {"total_customers": {"type": "integer", "title": "Total Customers"}, "active_subscriptions": {"type": "integer", "title": "Active Subscriptions"}, "monthly_recurring_revenue": {"type": "number", "title": "Monthly Recurring Revenue"}, "total_invoiced": {"type": "number", "title": "Total Invoiced"}, "total_wallet_credits": {"type": "number", "title": "Total Wallet Credits"}, "currency": {"type": "string", "title": "Currency"}}, "type": "object", "required": ["total_customers", "active_subscriptions", "monthly_recurring_revenue", "total_invoiced", "total_wallet_credits", "currency"], "title": "DashboardStatsResponse"}, "DataExportCreate": {"properties": {"export_type": {"$ref": "#/components/schemas/ExportType"}, "filters": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Filters"}}, "type": "object", "required": ["export_type"], "title": "DataExportCreate", "description": "Schema for creating a data export."}, "DataExportResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "export_type": {"type": "string", "title": "Export Type"}, "status": {"type": "string", "title": "Status"}, "filters": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Filters"}, "file_path": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "File Path"}, "record_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Record Count"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message"}, "started_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Started At"}, "completed_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Completed At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "organization_id", "export_type", "status", "created_at"], "title": "DataExportResponse", "description": "Schema for data export response."}, "DunningCampaignCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "max_attempts": {"type": "integer", "minimum": 1.0, "title": "Max Attempts", "default": 3}, "days_between_attempts": {"type": "integer", "minimum": 1.0, "title": "Days Between Attempts", "default": 3}, "bcc_emails": {"items": {"type": "string"}, "type": "array", "title": "Bcc Emails"}, "status": {"type": "string", "pattern": "^(active|inactive)$", "title": "Status", "default": "active"}, "thresholds": {"items": {"$ref": "#/components/schemas/DunningCampaignThresholdCreate"}, "type": "array", "title": "Thresholds"}}, "type": "object", "required": ["code", "name"], "title": "DunningCampaignCreate", "description": "Schema for creating a dunning campaign."}, "DunningCampaignResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "max_attempts": {"type": "integer", "title": "Max Attempts"}, "days_between_attempts": {"type": "integer", "title": "Days Between Attempts"}, "bcc_emails": {"items": {"type": "string"}, "type": "array", "title": "Bcc Emails"}, "status": {"type": "string", "title": "Status"}, "thresholds": {"items": {"$ref": "#/components/schemas/DunningCampaignThresholdResponse"}, "type": "array", "title": "Thresholds"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "organization_id", "code", "name", "max_attempts", "days_between_attempts", "bcc_emails", "status", "created_at", "updated_at"], "title": "DunningCampaignResponse", "description": "Schema for dunning campaign response."}, "DunningCampaignThresholdCreate": {"properties": {"currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency"}, "amount_cents": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}}, "type": "object", "required": ["currency", "amount_cents"], "title": "DunningCampaignThresholdCreate", "description": "Schema for creating a dunning campaign threshold."}, "DunningCampaignThresholdResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "dunning_campaign_id": {"type": "string", "format": "uuid", "title": "Dunning Campaign Id"}, "currency": {"type": "string", "title": "Currency"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "dunning_campaign_id", "currency", "amount_cents", "created_at", "updated_at"], "title": "DunningCampaignThresholdResponse", "description": "Schema for dunning campaign threshold response."}, "DunningCampaignUpdate": {"properties": {"code": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Code"}, "name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "max_attempts": {"anyOf": [{"type": "integer", "minimum": 1.0}, {"type": "null"}], "title": "Max Attempts"}, "days_between_attempts": {"anyOf": [{"type": "integer", "minimum": 1.0}, {"type": "null"}], "title": "Days Between Attempts"}, "bcc_emails": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Bcc Emails"}, "status": {"anyOf": [{"type": "string", "pattern": "^(active|inactive)$"}, {"type": "null"}], "title": "Status"}, "thresholds": {"anyOf": [{"items": {"$ref": "#/components/schemas/DunningCampaignThresholdCreate"}, "type": "array"}, {"type": "null"}], "title": "Thresholds"}}, "type": "object", "title": "DunningCampaignUpdate", "description": "Schema for updating a dunning campaign."}, "EventBatchCreate": {"properties": {"events": {"items": {"$ref": "#/components/schemas/EventCreate"}, "type": "array", "maxItems": 100, "minItems": 1, "title": "Events"}}, "type": "object", "required": ["events"], "title": "EventBatchCreate"}, "EventBatchResponse": {"properties": {"ingested": {"type": "integer", "title": "Ingested"}, "duplicates": {"type": "integer", "title": "Duplicates"}, "events": {"items": {"$ref": "#/components/schemas/EventResponse"}, "type": "array", "title": "Events"}}, "type": "object", "required": ["ingested", "duplicates", "events"], "title": "EventBatchResponse"}, "EventCreate": {"properties": {"transaction_id": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Transaction Id"}, "external_customer_id": {"type": "string", "maxLength": 255, "minLength": 1, "title": "External Customer Id"}, "code": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Code"}, "timestamp": {"type": "string", "format": "date-time", "title": "Timestamp"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}}, "type": "object", "required": ["transaction_id", "external_customer_id", "code", "timestamp"], "title": "EventCreate"}, "EventResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "transaction_id": {"type": "string", "title": "Transaction Id"}, "external_customer_id": {"type": "string", "title": "External Customer Id"}, "code": {"type": "string", "title": "Code"}, "timestamp": {"type": "string", "format": "date-time", "title": "Timestamp"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "transaction_id", "external_customer_id", "code", "timestamp", "properties", "created_at"], "title": "EventResponse"}, "ExportType": {"type": "string", "enum": ["invoices", "customers", "subscriptions", "events", "fees", "credit_notes"], "title": "ExportType", "description": "Types of data that can be exported."}, "FeePaymentStatus": {"type": "string", "enum": ["pending", "succeeded", "failed", "refunded"], "title": "FeePaymentStatus", "description": "Fee payment status enum."}, "FeeResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "invoice_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}, "charge_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Charge Id"}, "subscription_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}, "commitment_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Commitment Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "fee_type": {"type": "string", "title": "Fee Type"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "taxes_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Taxes Amount Cents"}, "total_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Amount Cents"}, "units": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Units"}, "events_count": {"type": "integer", "title": "Events Count"}, "unit_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Unit Amount Cents"}, "payment_status": {"type": "string", "title": "Payment Status"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "metric_code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Metric Code"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "customer_id", "fee_type", "amount_cents", "taxes_amount_cents", "total_amount_cents", "units", "events_count", "unit_amount_cents", "payment_status", "properties", "created_at", "updated_at"], "title": "FeeResponse", "description": "Schema for fee response."}, "FeeType": {"type": "string", "enum": ["charge", "subscription", "add_on", "credit", "commitment"], "title": "FeeType", "description": "Fee type enum."}, "FeeUpdate": {"properties": {"payment_status": {"anyOf": [{"$ref": "#/components/schemas/FeePaymentStatus"}, {"type": "null"}]}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "taxes_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Taxes Amount Cents"}, "total_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Total Amount Cents"}}, "type": "object", "title": "FeeUpdate", "description": "Schema for updating a fee."}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "IntegrationCreate": {"properties": {"integration_type": {"type": "string", "maxLength": 30, "minLength": 1, "title": "Integration Type"}, "provider_type": {"type": "string", "maxLength": 50, "minLength": 1, "title": "Provider Type"}, "status": {"type": "string", "maxLength": 20, "title": "Status", "default": "active"}, "settings": {"additionalProperties": true, "type": "object", "title": "Settings"}}, "type": "object", "required": ["integration_type", "provider_type"], "title": "IntegrationCreate"}, "IntegrationResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "integration_type": {"type": "string", "title": "Integration Type"}, "provider_type": {"type": "string", "title": "Provider Type"}, "status": {"type": "string", "title": "Status"}, "settings": {"additionalProperties": true, "type": "object", "title": "Settings"}, "last_sync_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Sync At"}, "error_details": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Error Details"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "organization_id", "integration_type", "provider_type", "status", "settings", "created_at", "updated_at"], "title": "IntegrationResponse"}, "IntegrationUpdate": {"properties": {"status": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Status"}, "settings": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Settings"}, "error_details": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Error Details"}}, "type": "object", "title": "IntegrationUpdate"}, "InvoiceResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "invoice_number": {"type": "string", "title": "Invoice Number"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "subscription_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}, "status": {"type": "string", "title": "Status"}, "invoice_type": {"type": "string", "title": "Invoice Type"}, "billing_period_start": {"type": "string", "format": "date-time", "title": "Billing Period Start"}, "billing_period_end": {"type": "string", "format": "date-time", "title": "Billing Period End"}, "subtotal": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Subtotal"}, "tax_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Tax Amount"}, "total": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total"}, "prepaid_credit_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Prepaid Credit Amount"}, "coupons_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Coupons Amount Cents"}, "progressive_billing_credit_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Progressive Billing Credit Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "line_items": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Line Items"}, "due_date": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Due Date"}, "issued_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Issued At"}, "paid_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Paid At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "invoice_number", "customer_id", "subscription_id", "status", "invoice_type", "billing_period_start", "billing_period_end", "subtotal", "tax_amount", "total", "prepaid_credit_amount", "coupons_amount_cents", "progressive_billing_credit_amount_cents", "currency", "line_items", "due_date", "issued_at", "paid_at", "created_at", "updated_at"], "title": "InvoiceResponse"}, "InvoiceSettlementResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "settlement_type": {"type": "string", "title": "Settlement Type"}, "source_id": {"type": "string", "format": "uuid", "title": "Source Id"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "invoice_id", "settlement_type", "source_id", "amount_cents", "created_at"], "title": "InvoiceSettlementResponse", "description": "Schema for invoice settlement response."}, "InvoiceStatus": {"type": "string", "enum": ["draft", "finalized", "paid", "voided"], "title": "InvoiceStatus"}, "InvoiceUpdate": {"properties": {"status": {"anyOf": [{"$ref": "#/components/schemas/InvoiceStatus"}, {"type": "null"}]}, "due_date": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Due Date"}, "issued_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Issued At"}, "paid_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Paid At"}}, "type": "object", "title": "InvoiceUpdate"}, "ItemCreate": {"properties": {"name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "price": {"type": "number", "title": "Price"}, "quantity": {"type": "integer", "title": "Quantity", "default": 0}}, "type": "object", "required": ["name", "price"], "title": "ItemCreate"}, "ItemResponse": {"properties": {"id": {"type": "integer", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "price": {"type": "number", "title": "Price"}, "quantity": {"type": "integer", "title": "Quantity"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "name", "description", "price", "quantity", "created_at", "updated_at"], "title": "ItemResponse"}, "ItemUpdate": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "price": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Price"}, "quantity": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Quantity"}}, "type": "object", "title": "ItemUpdate"}, "OrganizationCreate": {"properties": {"name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "default_currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Default Currency", "default": "USD"}, "timezone": {"type": "string", "maxLength": 50, "title": "Timezone", "default": "UTC"}, "hmac_key": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Hmac Key"}, "document_number_prefix": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Document Number Prefix"}, "invoice_grace_period": {"type": "integer", "minimum": 0.0, "title": "Invoice Grace Period", "default": 0}, "net_payment_term": {"type": "integer", "minimum": 0.0, "title": "Net Payment Term", "default": 30}, "logo_url": {"anyOf": [{"type": "string", "maxLength": 2048}, {"type": "null"}], "title": "Logo Url"}, "email": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Email"}, "legal_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "State"}, "zipcode": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Zipcode"}, "country": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Country"}}, "type": "object", "required": ["name"], "title": "OrganizationCreate"}, "OrganizationCreateResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "default_currency": {"type": "string", "title": "Default Currency"}, "timezone": {"type": "string", "title": "Timezone"}, "hmac_key": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Hmac Key"}, "document_number_prefix": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Document Number Prefix"}, "invoice_grace_period": {"type": "integer", "title": "Invoice Grace Period"}, "net_payment_term": {"type": "integer", "title": "Net Payment Term"}, "logo_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Logo Url"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "legal_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "State"}, "zipcode": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Zipcode"}, "country": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Country"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "api_key": {"$ref": "#/components/schemas/ApiKeyCreateResponse"}}, "type": "object", "required": ["id", "name", "default_currency", "timezone", "hmac_key", "document_number_prefix", "invoice_grace_period", "net_payment_term", "logo_url", "email", "legal_name", "address_line1", "address_line2", "city", "state", "zipcode", "country", "created_at", "updated_at", "api_key"], "title": "OrganizationCreateResponse", "description": "Organization creation response that includes the initial API key."}, "OrganizationResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "default_currency": {"type": "string", "title": "Default Currency"}, "timezone": {"type": "string", "title": "Timezone"}, "hmac_key": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Hmac Key"}, "document_number_prefix": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Document Number Prefix"}, "invoice_grace_period": {"type": "integer", "title": "Invoice Grace Period"}, "net_payment_term": {"type": "integer", "title": "Net Payment Term"}, "logo_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Logo Url"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "legal_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "State"}, "zipcode": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Zipcode"}, "country": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Country"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "name", "default_currency", "timezone", "hmac_key", "document_number_prefix", "invoice_grace_period", "net_payment_term", "logo_url", "email", "legal_name", "address_line1", "address_line2", "city", "state", "zipcode", "country", "created_at", "updated_at"], "title": "OrganizationResponse"}, "OrganizationUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "default_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Default Currency"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone"}, "hmac_key": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Hmac Key"}, "document_number_prefix": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Document Number Prefix"}, "invoice_grace_period": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Invoice Grace Period"}, "net_payment_term": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Net Payment Term"}, "logo_url": {"anyOf": [{"type": "string", "maxLength": 2048}, {"type": "null"}], "title": "Logo Url"}, "email": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Email"}, "legal_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "State"}, "zipcode": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Zipcode"}, "country": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Country"}}, "type": "object", "title": "OrganizationUpdate"}, "PaymentProvider": {"type": "string", "enum": ["stripe", "manual", "ucp", "gocardless", "adyen"], "title": "PaymentProvider", "description": "Supported payment providers."}, "PaymentRequestCreate": {"properties": {"customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "invoice_ids": {"items": {"type": "string", "format": "uuid"}, "type": "array", "minItems": 1, "title": "Invoice Ids"}}, "type": "object", "required": ["customer_id", "invoice_ids"], "title": "PaymentRequestCreate", "description": "Schema for creating a manual payment request."}, "PaymentRequestInvoiceResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "payment_request_id": {"type": "string", "format": "uuid", "title": "Payment Request Id"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "payment_request_id", "invoice_id", "created_at"], "title": "PaymentRequestInvoiceResponse", "description": "Schema for payment request invoice join response."}, "PaymentRequestResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "dunning_campaign_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Dunning Campaign Id"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "amount_currency": {"type": "string", "title": "Amount Currency"}, "payment_status": {"type": "string", "title": "Payment Status"}, "payment_attempts": {"type": "integer", "title": "Payment Attempts"}, "ready_for_payment_processing": {"type": "boolean", "title": "Ready For Payment Processing"}, "invoices": {"items": {"$ref": "#/components/schemas/PaymentRequestInvoiceResponse"}, "type": "array", "title": "Invoices"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "organization_id", "customer_id", "amount_cents", "amount_currency", "payment_status", "payment_attempts", "ready_for_payment_processing", "created_at", "updated_at"], "title": "PaymentRequestResponse", "description": "Schema for payment request response."}, "PaymentResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount"}, "currency": {"type": "string", "title": "Currency"}, "status": {"type": "string", "title": "Status"}, "provider": {"type": "string", "title": "Provider"}, "provider_payment_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Provider Payment Id"}, "provider_checkout_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Provider Checkout Id"}, "provider_checkout_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Provider Checkout Url"}, "failure_reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Failure Reason"}, "payment_metadata": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Payment Metadata"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "completed_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Completed At"}}, "type": "object", "required": ["id", "invoice_id", "customer_id", "amount", "currency", "status", "provider", "created_at", "updated_at"], "title": "PaymentResponse", "description": "Schema for payment response."}, "PaymentStatus": {"type": "string", "enum": ["pending", "processing", "succeeded", "failed", "refunded", "canceled"], "title": "PaymentStatus", "description": "Payment status enum."}, "PlanCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "interval": {"$ref": "#/components/schemas/PlanInterval"}, "amount_cents": {"type": "integer", "minimum": 0.0, "title": "Amount Cents", "default": 0}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "trial_period_days": {"type": "integer", "minimum": 0.0, "title": "Trial Period Days", "default": 0}, "charges": {"items": {"$ref": "#/components/schemas/ChargeInput"}, "type": "array", "title": "Charges"}}, "type": "object", "required": ["code", "name", "interval"], "title": "PlanCreate"}, "PlanInterval": {"type": "string", "enum": ["weekly", "monthly", "quarterly", "yearly"], "title": "PlanInterval"}, "PlanResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "interval": {"$ref": "#/components/schemas/PlanInterval"}, "amount_cents": {"type": "integer", "title": "Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "trial_period_days": {"type": "integer", "title": "Trial Period Days"}, "charges": {"items": {"$ref": "#/components/schemas/ChargeOutput"}, "type": "array", "title": "Charges"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "description", "interval", "amount_cents", "currency", "trial_period_days", "created_at", "updated_at"], "title": "PlanResponse"}, "PlanUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "amount_cents": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Amount Cents"}, "currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Currency"}, "trial_period_days": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Trial Period Days"}, "charges": {"anyOf": [{"items": {"$ref": "#/components/schemas/ChargeInput"}, "type": "array"}, {"type": "null"}], "title": "Charges"}}, "type": "object", "title": "PlanUpdate"}, "RecentActivityResponse": {"properties": {"id": {"type": "string", "title": "Id"}, "type": {"type": "string", "title": "Type"}, "description": {"type": "string", "title": "Description"}, "timestamp": {"type": "string", "title": "Timestamp"}}, "type": "object", "required": ["id", "type", "description", "timestamp"], "title": "RecentActivityResponse"}, "RefundStatus": {"type": "string", "enum": ["pending", "succeeded", "failed"], "title": "RefundStatus"}, "RevenueDataPoint": {"properties": {"month": {"type": "string", "title": "Month"}, "revenue": {"type": "number", "title": "Revenue"}}, "type": "object", "required": ["month", "revenue"], "title": "RevenueDataPoint"}, "RevenueResponse": {"properties": {"mrr": {"type": "number", "title": "Mrr"}, "total_revenue_this_month": {"type": "number", "title": "Total Revenue This Month"}, "outstanding_invoices": {"type": "number", "title": "Outstanding Invoices"}, "overdue_amount": {"type": "number", "title": "Overdue Amount"}, "currency": {"type": "string", "title": "Currency"}, "monthly_trend": {"items": {"$ref": "#/components/schemas/RevenueDataPoint"}, "type": "array", "title": "Monthly Trend"}}, "type": "object", "required": ["mrr", "total_revenue_this_month", "outstanding_invoices", "overdue_amount", "currency", "monthly_trend"], "title": "RevenueResponse"}, "SubscriptionCreate": {"properties": {"external_id": {"type": "string", "maxLength": 255, "minLength": 1, "title": "External Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "started_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Started At"}, "billing_time": {"$ref": "#/components/schemas/BillingTime", "default": "calendar"}, "trial_period_days": {"type": "integer", "title": "Trial Period Days", "default": 0}, "subscription_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Subscription At"}, "pay_in_advance": {"type": "boolean", "title": "Pay In Advance", "default": false}, "on_termination_action": {"$ref": "#/components/schemas/TerminationAction", "default": "generate_invoice"}}, "type": "object", "required": ["external_id", "customer_id", "plan_id"], "title": "SubscriptionCreate"}, "SubscriptionMetricsResponse": {"properties": {"active": {"type": "integer", "title": "Active"}, "new_this_month": {"type": "integer", "title": "New This Month"}, "canceled_this_month": {"type": "integer", "title": "Canceled This Month"}, "by_plan": {"items": {"$ref": "#/components/schemas/SubscriptionPlanBreakdown"}, "type": "array", "title": "By Plan"}}, "type": "object", "required": ["active", "new_this_month", "canceled_this_month", "by_plan"], "title": "SubscriptionMetricsResponse"}, "SubscriptionPlanBreakdown": {"properties": {"plan_name": {"type": "string", "title": "Plan Name"}, "count": {"type": "integer", "title": "Count"}}, "type": "object", "required": ["plan_name", "count"], "title": "SubscriptionPlanBreakdown"}, "SubscriptionResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "external_id": {"type": "string", "title": "External Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "status": {"$ref": "#/components/schemas/SubscriptionStatus"}, "billing_time": {"type": "string", "title": "Billing Time"}, "trial_period_days": {"type": "integer", "title": "Trial Period Days"}, "trial_ended_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Trial Ended At"}, "subscription_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Subscription At"}, "pay_in_advance": {"type": "boolean", "title": "Pay In Advance"}, "previous_plan_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Previous Plan Id"}, "downgraded_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Downgraded At"}, "on_termination_action": {"type": "string", "title": "On Termination Action"}, "started_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Started At"}, "ending_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Ending At"}, "canceled_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Canceled At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "external_id", "customer_id", "plan_id", "status", "billing_time", "trial_period_days", "trial_ended_at", "subscription_at", "pay_in_advance", "previous_plan_id", "downgraded_at", "on_termination_action", "started_at", "ending_at", "canceled_at", "created_at", "updated_at"], "title": "SubscriptionResponse"}, "SubscriptionStatus": {"type": "string", "enum": ["pending", "active", "canceled", "terminated"], "title": "SubscriptionStatus"}, "SubscriptionUpdate": {"properties": {"status": {"anyOf": [{"$ref": "#/components/schemas/SubscriptionStatus"}, {"type": "null"}]}, "ending_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Ending At"}, "canceled_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Canceled At"}, "billing_time": {"anyOf": [{"$ref": "#/components/schemas/BillingTime"}, {"type": "null"}]}, "trial_period_days": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Trial Period Days"}, "trial_ended_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Trial Ended At"}, "subscription_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Subscription At"}, "pay_in_advance": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Pay In Advance"}, "previous_plan_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Previous Plan Id"}, "downgraded_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Downgraded At"}, "on_termination_action": {"anyOf": [{"$ref": "#/components/schemas/TerminationAction"}, {"type": "null"}]}}, "type": "object", "title": "SubscriptionUpdate"}, "TaxCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "title": "Name"}, "rate": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Rate"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "applied_to_organization": {"type": "boolean", "title": "Applied To Organization", "default": false}}, "type": "object", "required": ["code", "name", "rate"], "title": "TaxCreate"}, "TaxResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "rate": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Rate"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "applied_to_organization": {"type": "boolean", "title": "Applied To Organization"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "rate", "applied_to_organization", "created_at", "updated_at"], "title": "TaxResponse"}, "TaxUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "rate": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Rate"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "applied_to_organization": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Applied To Organization"}}, "type": "object", "title": "TaxUpdate"}, "TerminationAction": {"type": "string", "enum": ["generate_invoice", "generate_credit_note", "skip"], "title": "TerminationAction"}, "UsageMetricVolume": {"properties": {"metric_name": {"type": "string", "title": "Metric Name"}, "metric_code": {"type": "string", "title": "Metric Code"}, "event_count": {"type": "integer", "title": "Event Count"}}, "type": "object", "required": ["metric_name", "metric_code", "event_count"], "title": "UsageMetricVolume"}, "UsageMetricsResponse": {"properties": {"top_metrics": {"items": {"$ref": "#/components/schemas/UsageMetricVolume"}, "type": "array", "title": "Top Metrics"}}, "type": "object", "required": ["top_metrics"], "title": "UsageMetricsResponse"}, "UsageThresholdCreateAPI": {"properties": {"amount_cents": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "recurring": {"type": "boolean", "title": "Recurring", "default": false}, "threshold_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Threshold Display Name"}}, "type": "object", "required": ["amount_cents"], "title": "UsageThresholdCreateAPI"}, "UsageThresholdResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "plan_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Plan Id"}, "subscription_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "recurring": {"type": "boolean", "title": "Recurring"}, "threshold_display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Threshold Display Name"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "amount_cents", "currency", "recurring", "created_at", "updated_at"], "title": "UsageThresholdResponse"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}, "input": {"title": "Input"}, "ctx": {"type": "object", "title": "Context"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "WalletCreate": {"properties": {"customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "code": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Code"}, "rate_amount": {"anyOf": [{"type": "number", "exclusiveMinimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Rate Amount", "default": "1"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "priority": {"type": "integer", "maximum": 50.0, "minimum": 1.0, "title": "Priority", "default": 1}, "initial_granted_credits": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Initial Granted Credits"}}, "type": "object", "required": ["customer_id"], "title": "WalletCreate"}, "WalletResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Code"}, "status": {"type": "string", "title": "Status"}, "balance_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Balance Cents"}, "credits_balance": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Credits Balance"}, "consumed_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Consumed Amount Cents"}, "consumed_credits": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Consumed Credits"}, "rate_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Rate Amount"}, "currency": {"type": "string", "title": "Currency"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "priority": {"type": "integer", "title": "Priority"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "customer_id", "status", "balance_cents", "credits_balance", "consumed_amount_cents", "consumed_credits", "rate_amount", "currency", "priority", "created_at", "updated_at"], "title": "WalletResponse"}, "WalletStatus": {"type": "string", "enum": ["active", "terminated"], "title": "WalletStatus"}, "WalletTopUp": {"properties": {"credits": {"anyOf": [{"type": "number", "exclusiveMinimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Credits"}, "source": {"type": "string", "pattern": "^(manual|interval|threshold)$", "title": "Source", "default": "manual"}}, "type": "object", "required": ["credits"], "title": "WalletTopUp"}, "WalletTransactionResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "wallet_id": {"type": "string", "format": "uuid", "title": "Wallet Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "transaction_type": {"type": "string", "title": "Transaction Type"}, "transaction_status": {"type": "string", "title": "Transaction Status"}, "source": {"type": "string", "title": "Source"}, "status": {"type": "string", "title": "Status"}, "amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount"}, "credit_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Credit Amount"}, "invoice_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "wallet_id", "customer_id", "transaction_type", "transaction_status", "source", "status", "amount", "credit_amount", "created_at", "updated_at"], "title": "WalletTransactionResponse"}, "WalletUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "priority": {"anyOf": [{"type": "integer", "maximum": 50.0, "minimum": 1.0}, {"type": "null"}], "title": "Priority"}}, "type": "object", "title": "WalletUpdate"}, "WebhookEndpointCreate": {"properties": {"url": {"type": "string", "maxLength": 2048, "title": "Url"}, "signature_algo": {"type": "string", "maxLength": 50, "title": "Signature Algo", "default": "hmac"}}, "type": "object", "required": ["url"], "title": "WebhookEndpointCreate"}, "WebhookEndpointResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "url": {"type": "string", "title": "Url"}, "signature_algo": {"type": "string", "title": "Signature Algo"}, "status": {"type": "string", "title": "Status"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "url", "signature_algo", "status", "created_at", "updated_at"], "title": "WebhookEndpointResponse"}, "WebhookEndpointUpdate": {"properties": {"url": {"anyOf": [{"type": "string", "maxLength": 2048}, {"type": "null"}], "title": "Url"}, "signature_algo": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Signature Algo"}, "status": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Status"}}, "type": "object", "title": "WebhookEndpointUpdate"}, "WebhookResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "webhook_endpoint_id": {"type": "string", "format": "uuid", "title": "Webhook Endpoint Id"}, "webhook_type": {"type": "string", "title": "Webhook Type"}, "object_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Object Type"}, "object_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Object Id"}, "payload": {"additionalProperties": true, "type": "object", "title": "Payload"}, "status": {"type": "string", "title": "Status"}, "retries": {"type": "integer", "title": "Retries"}, "max_retries": {"type": "integer", "title": "Max Retries"}, "last_retried_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Retried At"}, "http_status": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Http Status"}, "response": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Response"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "webhook_endpoint_id", "webhook_type", "payload", "status", "retries", "max_retries", "created_at", "updated_at"], "title": "WebhookResponse"}}}, "tags": [{"name": "Dashboard", "description": "Analytics dashboard and overview statistics."}, {"name": "Customers", "description": "Create, read, update, and delete customers."}, {"name": "Plans", "description": "Create, read, update, and delete billing plans."}, {"name": "Subscriptions", "description": "Manage customer subscriptions to plans."}, {"name": "Events", "description": "Ingest and query usage events."}, {"name": "Fees", "description": "Query and manage invoice fees."}, {"name": "Invoices", "description": "Manage invoices and their lifecycle."}, {"name": "Payments", "description": "Process payments, checkout sessions, and refunds."}, {"name": "Wallets", "description": "Manage prepaid credit wallets for customers."}, {"name": "Coupons", "description": "Create and apply discount coupons."}, {"name": "Add-ons", "description": "Create and apply one-time add-on charges."}, {"name": "Credit Notes", "description": "Issue and manage credit notes against invoices."}, {"name": "Taxes", "description": "Configure tax rates and apply taxes to entities."}, {"name": "Webhooks", "description": "Manage webhook endpoints and monitor deliveries."}, {"name": "Organizations", "description": "Manage organization settings and API keys."}, {"name": "Dunning", "description": "Configure dunning campaigns for failed payments."}, {"name": "Payment Requests", "description": "Create and track manual payment requests."}, {"name": "Commitments", "description": "Manage minimum spend commitments on plans."}, {"name": "Thresholds", "description": "Configure usage-based billing thresholds."}, {"name": "Data Exports", "description": "Export billing data as CSV files."}, {"name": "Integrations", "description": "Connect and manage external system integrations."}, {"name": "Items", "description": "Internal item management."}]}
