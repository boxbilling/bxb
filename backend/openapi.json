{"openapi": "3.1.0", "info": {"title": "bxb API", "description": "A comprehensive usage-based billing platform API. Manage customers, plans, subscriptions, invoices, payments, wallets, coupons, credit notes, taxes, webhooks, and more.", "version": "0.1.0"}, "paths": {"/dashboard/stats": {"get": {"tags": ["Dashboard"], "summary": "Get dashboard statistics", "description": "Get dashboard statistics.", "operationId": "get_stats_dashboard_stats_get", "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period start date (YYYY-MM-DD)", "title": "Start Date"}, "description": "Period start date (YYYY-MM-DD)"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period end date (YYYY-MM-DD)", "title": "End Date"}, "description": "Period end date (YYYY-MM-DD)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DashboardStatsResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/dashboard/activity": {"get": {"tags": ["Dashboard"], "summary": "Get recent activity feed", "description": "Get recent billing activity, optionally filtered by type.", "operationId": "get_recent_activity_dashboard_activity_get", "parameters": [{"name": "type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Filter by activity type", "title": "Type"}, "description": "Filter by activity type"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/RecentActivityResponse"}, "title": "Response Get Recent Activity Dashboard Activity Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/dashboard/revenue": {"get": {"tags": ["Dashboard"], "summary": "Get revenue analytics", "description": "Get revenue analytics: MRR, total this month, outstanding, overdue, and trend.", "operationId": "get_revenue_dashboard_revenue_get", "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period start date (YYYY-MM-DD)", "title": "Start Date"}, "description": "Period start date (YYYY-MM-DD)"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period end date (YYYY-MM-DD)", "title": "End Date"}, "description": "Period end date (YYYY-MM-DD)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RevenueResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/dashboard/customers": {"get": {"tags": ["Dashboard"], "summary": "Get customer metrics", "description": "Get customer metrics: total, new this month, churned this month.", "operationId": "get_customer_metrics_dashboard_customers_get", "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period start date (YYYY-MM-DD)", "title": "Start Date"}, "description": "Period start date (YYYY-MM-DD)"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period end date (YYYY-MM-DD)", "title": "End Date"}, "description": "Period end date (YYYY-MM-DD)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerMetricsResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/dashboard/subscriptions": {"get": {"tags": ["Dashboard"], "summary": "Get subscription metrics", "description": "Get subscription metrics: active, new, canceled, by-plan breakdown.", "operationId": "get_subscription_metrics_dashboard_subscriptions_get", "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period start date (YYYY-MM-DD)", "title": "Start Date"}, "description": "Period start date (YYYY-MM-DD)"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period end date (YYYY-MM-DD)", "title": "End Date"}, "description": "Period end date (YYYY-MM-DD)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionMetricsResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/dashboard/usage": {"get": {"tags": ["Dashboard"], "summary": "Get top usage metrics", "description": "Get top billable metrics by usage volume in the given period.", "operationId": "get_usage_metrics_dashboard_usage_get", "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period start date (YYYY-MM-DD)", "title": "Start Date"}, "description": "Period start date (YYYY-MM-DD)"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period end date (YYYY-MM-DD)", "title": "End Date"}, "description": "Period end date (YYYY-MM-DD)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageMetricsResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/dashboard/revenue_by_plan": {"get": {"tags": ["Dashboard"], "summary": "Get revenue breakdown by plan", "description": "Get revenue breakdown by plan for donut chart visualization.", "operationId": "get_revenue_by_plan_dashboard_revenue_by_plan_get", "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period start date (YYYY-MM-DD)", "title": "Start Date"}, "description": "Period start date (YYYY-MM-DD)"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period end date (YYYY-MM-DD)", "title": "End Date"}, "description": "Period end date (YYYY-MM-DD)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/RevenueByPlanResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/dashboard/recent_invoices": {"get": {"tags": ["Dashboard"], "summary": "Get recent invoices for dashboard", "description": "Get the 5 most recent invoices with customer names.", "operationId": "get_recent_invoices_dashboard_recent_invoices_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/RecentInvoiceItem"}, "type": "array", "title": "Response Get Recent Invoices Dashboard Recent Invoices Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/dashboard/recent_subscriptions": {"get": {"tags": ["Dashboard"], "summary": "Get recent subscriptions for dashboard", "description": "Get the 5 most recent subscriptions with customer and plan names.", "operationId": "get_recent_subscriptions_dashboard_recent_subscriptions_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/RecentSubscriptionItem"}, "type": "array", "title": "Response Get Recent Subscriptions Dashboard Recent Subscriptions Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/dashboard/sparklines": {"get": {"tags": ["Dashboard"], "summary": "Get sparkline data for stat cards", "description": "Get daily data points for sparkline charts in stat cards.", "operationId": "get_sparklines_dashboard_sparklines_get", "parameters": [{"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period start date (YYYY-MM-DD)", "title": "Start Date"}, "description": "Period start date (YYYY-MM-DD)"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Period end date (YYYY-MM-DD)", "title": "End Date"}, "description": "Period end date (YYYY-MM-DD)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SparklineData"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/items/update-prices": {"post": {"tags": ["Items"], "summary": "Enqueue price update", "description": "Enqueue a background task to update all item prices.", "operationId": "enqueue_update_prices_items_update_prices_post", "responses": {"202": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Response Enqueue Update Prices Items Update Prices Post"}}}}}}}, "/items/": {"get": {"tags": ["Items"], "summary": "List items", "description": "List all items with pagination.", "operationId": "list_items_items__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/ItemResponse"}, "title": "Response List Items Items  Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Items"], "summary": "Create item", "description": "Create a new item.", "operationId": "create_item_items__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemResponse"}}}}, "422": {"description": "Validation error"}}}}, "/items/{item_id}": {"get": {"tags": ["Items"], "summary": "Get item", "description": "Get an item by ID.", "operationId": "get_item_items__item_id__get", "parameters": [{"name": "item_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Item Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemResponse"}}}}, "404": {"description": "Item not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Items"], "summary": "Update item", "description": "Update an existing item.", "operationId": "update_item_items__item_id__put", "parameters": [{"name": "item_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Item Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ItemResponse"}}}}, "404": {"description": "Item not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["Items"], "summary": "Delete item", "description": "Delete an item by ID.", "operationId": "delete_item_items__item_id__delete", "parameters": [{"name": "item_id", "in": "path", "required": true, "schema": {"type": "integer", "title": "Item Id"}}], "responses": {"204": {"description": "Successful Response"}, "404": {"description": "Item not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/customers/": {"get": {"tags": ["Customers"], "summary": "List customers", "description": "List all customers with pagination.", "operationId": "list_customers_v1_customers__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/CustomerResponse"}, "title": "Response List Customers V1 Customers  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Customers"], "summary": "Create customer", "description": "Create a new customer.", "operationId": "create_customer_v1_customers__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Customer with this external_id already exists"}, "422": {"description": "Validation error"}}}}, "/v1/customers/{external_id}/current_usage": {"get": {"tags": ["Customers"], "summary": "Get customer current usage", "description": "Get current usage for a customer's subscription.", "operationId": "get_current_usage_v1_customers__external_id__current_usage_get", "parameters": [{"name": "external_id", "in": "path", "required": true, "schema": {"type": "string", "title": "External Id"}}, {"name": "subscription_id", "in": "query", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/app__schemas__usage__CurrentUsageResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer or subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/customers/{external_id}/projected_usage": {"get": {"tags": ["Customers"], "summary": "Get customer projected usage", "description": "Get projected usage for a customer's subscription.", "operationId": "get_projected_usage_v1_customers__external_id__projected_usage_get", "parameters": [{"name": "external_id", "in": "path", "required": true, "schema": {"type": "string", "title": "External Id"}}, {"name": "subscription_id", "in": "query", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/app__schemas__usage__CurrentUsageResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer or subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/customers/{external_id}/past_usage": {"get": {"tags": ["Customers"], "summary": "Get customer past usage", "description": "Get past usage for completed billing periods.", "operationId": "get_past_usage_v1_customers__external_id__past_usage_get", "parameters": [{"name": "external_id", "in": "path", "required": true, "schema": {"type": "string", "title": "External Id"}}, {"name": "external_subscription_id", "in": "query", "required": true, "schema": {"type": "string", "title": "External Subscription Id"}}, {"name": "periods_count", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 1, "default": 1, "title": "Periods Count"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/app__schemas__usage__CurrentUsageResponse"}, "title": "Response Get Past Usage V1 Customers  External Id  Past Usage Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer or subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/customers/{external_id}/portal_url": {"get": {"tags": ["Customers"], "summary": "Generate customer portal URL", "description": "Generate a portal URL for a customer to access their self-service portal.", "operationId": "generate_portal_url_v1_customers__external_id__portal_url_get", "parameters": [{"name": "external_id", "in": "path", "required": true, "schema": {"type": "string", "title": "External Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PortalUrlResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/customers/{customer_id}/health": {"get": {"tags": ["Customers"], "summary": "Get customer health indicator", "description": "Get customer health indicator based on payment history.", "operationId": "get_customer_health_v1_customers__customer_id__health_get", "parameters": [{"name": "customer_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Customer Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerHealthResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/customers/{customer_id}": {"get": {"tags": ["Customers"], "summary": "Get customer", "description": "Get a customer by ID.", "operationId": "get_customer_v1_customers__customer_id__get", "parameters": [{"name": "customer_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Customer Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Customers"], "summary": "Update customer", "description": "Update a customer.", "operationId": "update_customer_v1_customers__customer_id__put", "parameters": [{"name": "customer_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Customer Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Customers"], "summary": "Delete customer", "description": "Delete a customer.", "operationId": "delete_customer_v1_customers__customer_id__delete", "parameters": [{"name": "customer_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Customer Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/customers/{customer_id}/applied_coupons": {"get": {"tags": ["Customers"], "summary": "List customer applied coupons", "description": "List applied coupons for a customer.", "operationId": "list_applied_coupons_v1_customers__customer_id__applied_coupons_get", "parameters": [{"name": "customer_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Customer Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AppliedCouponResponse"}, "title": "Response List Applied Coupons V1 Customers  Customer Id  Applied Coupons Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/billable_metrics/": {"get": {"tags": ["Customers"], "summary": "List billable metrics", "description": "List all billable metrics with pagination.", "operationId": "list_billable_metrics_v1_billable_metrics__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/BillableMetricResponse"}, "title": "Response List Billable Metrics V1 Billable Metrics  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Customers"], "summary": "Create billable metric", "description": "Create a new billable metric.", "operationId": "create_billable_metric_v1_billable_metrics__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Billable metric with this code already exists"}, "422": {"description": "Validation error"}}}}, "/v1/billable_metrics/stats": {"get": {"tags": ["Customers"], "summary": "Get billable metrics statistics", "description": "Get aggregate statistics for billable metrics.", "operationId": "get_billable_metrics_stats_v1_billable_metrics_stats_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricStats"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/v1/billable_metrics/plan_counts": {"get": {"tags": ["Customers"], "summary": "Get plan counts per billable metric", "description": "Get the number of distinct plans using each billable metric.", "operationId": "get_billable_metric_plan_counts_v1_billable_metrics_plan_counts_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Response Get Billable Metric Plan Counts V1 Billable Metrics Plan Counts Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/v1/billable_metrics/{metric_id}": {"get": {"tags": ["Customers"], "summary": "Get billable metric", "description": "Get a billable metric by ID.", "operationId": "get_billable_metric_v1_billable_metrics__metric_id__get", "parameters": [{"name": "metric_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Metric Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Customers"], "summary": "Update billable metric", "description": "Update a billable metric.", "operationId": "update_billable_metric_v1_billable_metrics__metric_id__put", "parameters": [{"name": "metric_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Metric Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Customers"], "summary": "Delete billable metric", "description": "Delete a billable metric.", "operationId": "delete_billable_metric_v1_billable_metrics__metric_id__delete", "parameters": [{"name": "metric_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Metric Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/billable_metrics/{code}/filters": {"post": {"tags": ["Customers"], "summary": "Create metric filter", "description": "Add a filter to a billable metric.", "operationId": "create_billable_metric_filter_v1_billable_metrics__code__filters_post", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricFilterCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillableMetricFilterResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Customers"], "summary": "List metric filters", "description": "List filters for a billable metric.", "operationId": "list_billable_metric_filters_v1_billable_metrics__code__filters_get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/BillableMetricFilterResponse"}, "title": "Response List Billable Metric Filters V1 Billable Metrics  Code  Filters Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/billable_metrics/{code}/filters/{filter_id}": {"delete": {"tags": ["Customers"], "summary": "Delete metric filter", "description": "Remove a filter from a billable metric.", "operationId": "delete_billable_metric_filter_v1_billable_metrics__code__filters__filter_id__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}, {"name": "filter_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Filter Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billable metric or filter not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/plans/": {"get": {"tags": ["Plans"], "summary": "List plans", "description": "List all plans with pagination.", "operationId": "list_plans_v1_plans__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PlanResponse"}, "title": "Response List Plans V1 Plans  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Plans"], "summary": "Create plan", "description": "Create a new plan.", "operationId": "create_plan_v1_plans__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanResponse"}}}}, "400": {"description": "Invalid billable metric or filter reference"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Plan with this code already exists"}, "422": {"description": "Validation error"}}}}, "/v1/plans/subscription_counts": {"get": {"tags": ["Plans"], "summary": "Get subscription counts per plan", "description": "Return a mapping of plan_id to subscription count.", "operationId": "get_subscription_counts_v1_plans_subscription_counts_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Response Get Subscription Counts V1 Plans Subscription Counts Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/v1/plans/{plan_id}": {"get": {"tags": ["Plans"], "summary": "Get plan", "description": "Get a plan by ID.", "operationId": "get_plan_v1_plans__plan_id__get", "parameters": [{"name": "plan_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Plan Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Plans"], "summary": "Update plan", "description": "Update a plan.", "operationId": "update_plan_v1_plans__plan_id__put", "parameters": [{"name": "plan_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Plan Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanResponse"}}}}, "400": {"description": "Invalid billable metric or filter reference"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Plans"], "summary": "Delete plan", "description": "Delete a plan.", "operationId": "delete_plan_v1_plans__plan_id__delete", "parameters": [{"name": "plan_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Plan Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/plans/{plan_id}/simulate": {"post": {"tags": ["Plans"], "summary": "Simulate plan pricing", "description": "Simulate pricing for a plan given a number of usage units.", "operationId": "simulate_plan_pricing_v1_plans__plan_id__simulate_post", "parameters": [{"name": "plan_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Plan Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanSimulateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PlanSimulateResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/": {"get": {"tags": ["Subscriptions"], "summary": "List subscriptions", "description": "List all subscriptions with pagination. Optionally filter by customer_id.", "operationId": "list_subscriptions_v1_subscriptions__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/SubscriptionResponse"}, "title": "Response List Subscriptions V1 Subscriptions  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Subscriptions"], "summary": "Create subscription", "description": "Create a new subscription.", "operationId": "create_subscription_v1_subscriptions__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "400": {"description": "Invalid customer or plan reference"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Subscription with this external_id already exists"}, "422": {"description": "Validation error"}}}}, "/v1/subscriptions/{subscription_id}": {"get": {"tags": ["Subscriptions"], "summary": "Get subscription", "description": "Get a subscription by ID.", "operationId": "get_subscription_v1_subscriptions__subscription_id__get", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Subscriptions"], "summary": "Update subscription", "description": "Update a subscription.", "operationId": "update_subscription_v1_subscriptions__subscription_id__put", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Subscriptions"], "summary": "Terminate subscription", "description": "Terminate a subscription with configurable financial action.", "operationId": "terminate_subscription_v1_subscriptions__subscription_id__delete", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}, {"name": "on_termination_action", "in": "query", "required": false, "schema": {"$ref": "#/components/schemas/TerminationAction", "description": "Termination action", "default": "generate_invoice"}, "description": "Termination action"}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/next_billing_date": {"get": {"tags": ["Subscriptions"], "summary": "Get next billing date for a subscription", "description": "Calculate the next billing date for a subscription.", "operationId": "get_next_billing_date_v1_subscriptions__subscription_id__next_billing_date_get", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/NextBillingDateResponse"}}}}, "400": {"description": "Subscription is not in a billable state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription or plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/change_plan_preview": {"post": {"tags": ["Subscriptions"], "summary": "Preview plan change with price comparison and proration", "description": "Preview a plan change showing price comparison and proration details.", "operationId": "change_plan_preview_v1_subscriptions__subscription_id__change_plan_preview_post", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChangePlanPreviewRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ChangePlanPreviewResponse"}}}}, "400": {"description": "Invalid plan or same plan"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription or plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/pause": {"post": {"tags": ["Subscriptions"], "summary": "Pause subscription", "description": "Pause an active subscription.", "operationId": "pause_subscription_v1_subscriptions__subscription_id__pause_post", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "400": {"description": "Subscription cannot be paused"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/resume": {"post": {"tags": ["Subscriptions"], "summary": "Resume subscription", "description": "Resume a paused subscription.", "operationId": "resume_subscription_v1_subscriptions__subscription_id__resume_post", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "400": {"description": "Subscription cannot be resumed"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/cancel": {"post": {"tags": ["Subscriptions"], "summary": "Cancel subscription", "description": "Cancel a subscription with configurable financial action.", "operationId": "cancel_subscription_v1_subscriptions__subscription_id__cancel_post", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}, {"name": "on_termination_action", "in": "query", "required": false, "schema": {"$ref": "#/components/schemas/TerminationAction", "description": "Cancellation action", "default": "generate_invoice"}, "description": "Cancellation action"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/lifecycle": {"get": {"tags": ["Subscriptions"], "summary": "Get subscription lifecycle timeline", "description": "Get the full lifecycle timeline for a subscription.", "operationId": "get_subscription_lifecycle_v1_subscriptions__subscription_id__lifecycle_get", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SubscriptionLifecycleResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/usage_trend": {"get": {"tags": ["Subscriptions"], "summary": "Get daily usage trend for a subscription", "description": "Get aggregated daily usage trend data for a subscription.\n\nReturns daily data points with usage value and event count summed\nacross all metrics. Defaults to the last 30 days if no dates provided.", "operationId": "get_usage_trend_v1_subscriptions__subscription_id__usage_trend_get", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}, {"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "Start date (inclusive)", "title": "Start Date"}, "description": "Start date (inclusive)"}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "description": "End date (inclusive)", "title": "End Date"}, "description": "End date (inclusive)"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageTrendResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{external_id}/entitlements": {"get": {"tags": ["Subscriptions"], "summary": "Get subscription entitlements", "description": "Return all entitlements for the subscription's plan.", "operationId": "get_subscription_entitlements_v1_subscriptions__external_id__entitlements_get", "parameters": [{"name": "external_id", "in": "path", "required": true, "schema": {"type": "string", "title": "External Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/EntitlementResponse"}, "title": "Response Get Subscription Entitlements V1 Subscriptions  External Id  Entitlements Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/events/estimate_fees": {"post": {"tags": ["Events"], "summary": "Estimate fees for a hypothetical event", "description": "Estimate fees from a hypothetical event.\n\nAggregates current-period usage for the given metric, adds the hypothetical\nevent's contribution, and applies the charge model to return the estimated\nfee amount.", "operationId": "estimate_fees_v1_events_estimate_fees_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/EstimateFeesRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EstimateFeesResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription or charge not found"}, "422": {"description": "Billable metric code does not exist"}}}}, "/v1/events/": {"get": {"tags": ["Events"], "summary": "List events", "description": "List events with optional filters.", "operationId": "list_events_v1_events__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "external_customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "External Customer Id"}}, {"name": "code", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Code"}}, {"name": "from_timestamp", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "From Timestamp"}}, {"name": "to_timestamp", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "To Timestamp"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/EventResponse"}, "title": "Response List Events V1 Events  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Events"], "summary": "Ingest event", "description": "Ingest a single event.\n\nIf an event with the same transaction_id already exists, returns the existing event.\nThis provides idempotent event ingestion.  The ``Idempotency-Key`` header adds an\nadditional layer of deduplication on top of the existing ``transaction_id`` check.", "operationId": "create_event_v1_events__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Billable metric code does not exist"}, "429": {"description": "Rate limit exceeded"}}}}, "/v1/events/volume": {"get": {"tags": ["Events"], "summary": "Get event volume (events per hour)", "description": "Get hourly event volume data for charting.", "operationId": "get_event_volume_v1_events_volume_get", "parameters": [{"name": "from_timestamp", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "From Timestamp"}}, {"name": "to_timestamp", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "To Timestamp"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventVolumeResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/events/{event_id}": {"get": {"tags": ["Events"], "summary": "Get event", "description": "Get an event by ID.", "operationId": "get_event_v1_events__event_id__get", "parameters": [{"name": "event_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Event Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Event not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/events/{event_id}/reprocess": {"post": {"tags": ["Events"], "summary": "Reprocess an event", "description": "Re-trigger usage threshold and alert checks for an existing event.\n\nThis re-enqueues background jobs (usage threshold checks and usage alert\nchecks) for all active subscriptions belonging to the event's customer.\nThe event data itself is not modified.", "operationId": "reprocess_event_v1_events__event_id__reprocess_post", "parameters": [{"name": "event_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Event Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventReprocessResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Event not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/events/batch": {"post": {"tags": ["Events"], "summary": "Ingest event batch", "description": "Ingest a batch of events (up to 100).\n\nDuplicate transaction_ids are handled gracefully - existing events are returned\nwithout error. The response includes counts of newly ingested vs duplicate events.", "operationId": "create_events_batch_v1_events_batch_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventBatchCreate"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EventBatchResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Billable metric code does not exist"}, "429": {"description": "Rate limit exceeded"}}}}, "/v1/fees/": {"get": {"tags": ["Fees"], "summary": "List fees", "description": "List fees with optional filters.", "operationId": "list_fees_v1_fees__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "invoice_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "subscription_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}}, {"name": "fee_type", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/FeeType"}, {"type": "null"}], "title": "Fee Type"}}, {"name": "payment_status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/FeePaymentStatus"}, {"type": "null"}], "title": "Payment Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/FeeResponse"}, "title": "Response List Fees V1 Fees  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/fees/{fee_id}": {"get": {"tags": ["Fees"], "summary": "Get fee", "description": "Get a fee by ID.", "operationId": "get_fee_v1_fees__fee_id__get", "parameters": [{"name": "fee_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Fee Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeeResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Fee not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Fees"], "summary": "Update fee", "description": "Update a fee.", "operationId": "update_fee_v1_fees__fee_id__put", "parameters": [{"name": "fee_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Fee Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeeUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeeResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Fee not found"}, "422": {"description": "Validation error"}}}}, "/v1/invoices/": {"get": {"tags": ["Invoices"], "summary": "List invoices", "description": "List invoices with optional filters.", "operationId": "list_invoices_v1_invoices__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "subscription_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/InvoiceStatus"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/InvoiceResponse"}, "title": "Response List Invoices V1 Invoices  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/one_off": {"post": {"tags": ["Invoices"], "summary": "Create a one-off invoice", "description": "Create a one-off invoice with custom line items (not tied to a subscription).", "operationId": "create_one_off_invoice_v1_invoices_one_off_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/OneOffInvoiceCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation error"}}}}, "/v1/invoices/bulk_finalize": {"post": {"tags": ["Invoices"], "summary": "Bulk finalize draft invoices", "description": "Finalize multiple draft invoices in one request.", "operationId": "bulk_finalize_invoices_v1_invoices_bulk_finalize_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/BulkFinalizeRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BulkFinalizeResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/preview": {"post": {"tags": ["Invoices"], "summary": "Preview invoice", "description": "Preview an invoice for a subscription without persisting anything.", "operationId": "preview_invoice_v1_invoices_preview_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoicePreviewRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoicePreviewResponse"}}}}, "400": {"description": "Subscription not found or not active"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}": {"get": {"tags": ["Invoices"], "summary": "Get invoice", "description": "Get an invoice by ID.", "operationId": "get_invoice_v1_invoices__invoice_id__get", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Invoices"], "summary": "Update invoice", "description": "Update an invoice.", "operationId": "update_invoice_v1_invoices__invoice_id__put", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Invoices"], "summary": "Delete draft invoice", "description": "Delete a draft invoice.", "operationId": "delete_invoice_v1_invoices__invoice_id__delete", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Only draft invoices can be deleted"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/finalize": {"post": {"tags": ["Invoices"], "summary": "Finalize invoice", "description": "Finalize a draft invoice and apply wallet credits if available.", "operationId": "finalize_invoice_v1_invoices__invoice_id__finalize_post", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "400": {"description": "Invoice cannot be finalized in current state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/pay": {"post": {"tags": ["Invoices"], "summary": "Mark invoice paid", "description": "Mark an invoice as paid.", "operationId": "mark_invoice_paid_v1_invoices__invoice_id__pay_post", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "400": {"description": "Invoice cannot be marked paid in current state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/void": {"post": {"tags": ["Invoices"], "summary": "Void invoice", "description": "Void an invoice.", "operationId": "void_invoice_v1_invoices__invoice_id__void_post", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "400": {"description": "Invoice cannot be voided in current state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/settlements": {"get": {"tags": ["Invoices"], "summary": "List invoice settlements", "description": "List all settlements for an invoice.", "operationId": "list_invoice_settlements_v1_invoices__invoice_id__settlements_get", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/InvoiceSettlementResponse"}, "title": "Response List Invoice Settlements V1 Invoices  Invoice Id  Settlements Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/send_email": {"post": {"tags": ["Invoices"], "summary": "Send invoice email", "description": "Send an invoice notification email to the customer.", "operationId": "send_invoice_email_v1_invoices__invoice_id__send_email_post", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": {"type": "boolean"}, "title": "Response Send Invoice Email V1 Invoices  Invoice Id  Send Email Post"}}}}, "400": {"description": "Invoice must be finalized or paid to send email"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/send_reminder": {"post": {"tags": ["Invoices"], "summary": "Send payment reminder for overdue invoice", "description": "Send a payment reminder email for an overdue or finalized invoice.", "operationId": "send_invoice_reminder_v1_invoices__invoice_id__send_reminder_post", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SendReminderResponse"}}}}, "400": {"description": "Invoice is not overdue or finalized"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/pdf_preview": {"get": {"tags": ["Invoices"], "summary": "Get invoice PDF for inline preview", "description": "Generate and return a PDF for inline preview (Content-Disposition: inline).", "operationId": "preview_invoice_pdf_v1_invoices__invoice_id__pdf_preview_get", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Invoice must be finalized or paid to generate PDF"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/invoices/{invoice_id}/download_pdf": {"post": {"tags": ["Invoices"], "summary": "Download invoice PDF", "description": "Generate and download a PDF for a finalized or paid invoice.", "operationId": "download_invoice_pdf_v1_invoices__invoice_id__download_pdf_post", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Invoice must be finalized or paid to generate PDF"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/": {"get": {"tags": ["Payments"], "summary": "List payments", "description": "List payments with optional filters.", "operationId": "list_payments_v1_payments__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "invoice_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/PaymentStatus"}, {"type": "null"}], "title": "Status"}}, {"name": "provider", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/PaymentProvider"}, {"type": "null"}], "title": "Provider"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PaymentResponse"}, "title": "Response List Payments V1 Payments  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/{payment_id}": {"get": {"tags": ["Payments"], "summary": "Get payment", "description": "Get a payment by ID.", "operationId": "get_payment_v1_payments__payment_id__get", "parameters": [{"name": "payment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["Payments"], "summary": "Delete payment", "description": "Delete a pending payment.", "operationId": "delete_payment_v1_payments__payment_id__delete", "parameters": [{"name": "payment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Id"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Only pending payments can be deleted"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/checkout": {"post": {"tags": ["Payments"], "summary": "Create checkout session", "description": "Create a checkout session for an invoice.\n\nThis creates a payment record and returns a URL where the customer\ncan complete the payment.", "operationId": "create_checkout_session_v1_payments_checkout_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/CheckoutSessionCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CheckoutSessionResponse"}}}}, "400": {"description": "Only finalized invoices can be paid"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Invoice not found"}, "500": {"description": "Failed to create checkout session"}, "503": {"description": "Payment provider not configured"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/webhook/{provider}": {"post": {"tags": ["Payments"], "summary": "Handle payment webhook", "description": "Handle payment provider webhooks.\n\nThis endpoint receives webhook events from payment providers\nand updates payment/invoice status accordingly.", "operationId": "handle_webhook_v1_payments_webhook__provider__post", "parameters": [{"name": "provider", "in": "path", "required": true, "schema": {"$ref": "#/components/schemas/PaymentProvider"}}, {"name": "Stripe-Signature", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Stripe-Signature"}}, {"name": "X-UCP-Signature", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "X-Ucp-Signature"}}, {"name": "Webhook-Signature", "in": "header", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Webhook-Signature"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Response Handle Webhook V1 Payments Webhook  Provider  Post"}}}}, "400": {"description": "Invalid provider or JSON payload"}, "401": {"description": "Invalid webhook signature"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/{payment_id}/mark-paid": {"post": {"tags": ["Payments"], "summary": "Mark payment paid", "description": "Manually mark a payment as paid (for manual/offline payments).", "operationId": "mark_payment_paid_v1_payments__payment_id__mark_paid_post", "parameters": [{"name": "payment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentResponse"}}}}, "400": {"description": "Only pending payments can be marked as paid"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/{payment_id}/refund": {"post": {"tags": ["Payments"], "summary": "Refund payment", "description": "Refund a succeeded payment. Optionally specify an amount for partial refund.", "operationId": "refund_payment_v1_payments__payment_id__refund_post", "parameters": [{"name": "payment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Id"}}], "requestBody": {"content": {"application/json": {"schema": {"anyOf": [{"$ref": "#/components/schemas/RefundRequest"}, {"type": "null"}], "title": "Data"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentResponse"}}}}, "400": {"description": "Only succeeded payments can be refunded"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payments/{payment_id}/retry": {"post": {"tags": ["Payments"], "summary": "Retry failed payment", "description": "Retry a failed payment by resetting it to pending status.", "operationId": "retry_payment_v1_payments__payment_id__retry_post", "parameters": [{"name": "payment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentResponse"}}}}, "400": {"description": "Only failed payments can be retried"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payment_methods/": {"get": {"tags": ["Payment Methods"], "summary": "List payment methods", "description": "List payment methods with optional customer filter.", "operationId": "list_payment_methods_v1_payment_methods__get", "parameters": [{"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PaymentMethodResponse"}, "title": "Response List Payment Methods V1 Payment Methods  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Payment Methods"], "summary": "Create payment method", "description": "Create a new payment method.", "operationId": "create_payment_method_v1_payment_methods__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentMethodCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentMethodResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation error"}}}}, "/v1/payment_methods/{payment_method_id}": {"get": {"tags": ["Payment Methods"], "summary": "Get payment method", "description": "Get a payment method by ID.", "operationId": "get_payment_method_v1_payment_methods__payment_method_id__get", "parameters": [{"name": "payment_method_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Method Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentMethodResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment method not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["Payment Methods"], "summary": "Delete payment method", "description": "Delete a payment method. Returns 400 if it is the default.", "operationId": "delete_payment_method_v1_payment_methods__payment_method_id__delete", "parameters": [{"name": "payment_method_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Method Id"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Cannot delete default payment method"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment method not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payment_methods/{payment_method_id}/set_default": {"post": {"tags": ["Payment Methods"], "summary": "Set default payment method", "description": "Set a payment method as the default for its customer.", "operationId": "set_default_payment_method_v1_payment_methods__payment_method_id__set_default_post", "parameters": [{"name": "payment_method_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Method Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentMethodResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Payment method not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payment_methods/setup": {"post": {"tags": ["Payment Methods"], "summary": "Create setup session", "description": "Create a setup session for saving payment details.", "operationId": "create_setup_session_v1_payment_methods_setup_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SetupSessionCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SetupSessionResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Customer not found"}, "501": {"description": "Provider does not support setup sessions"}, "503": {"description": "Payment provider not configured"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/": {"post": {"tags": ["Wallets"], "summary": "Create wallet", "description": "Create a wallet for a customer.", "operationId": "create_wallet_v1_wallets__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletResponse"}}}}, "400": {"description": "Invalid customer reference or validation error"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Wallets"], "summary": "List wallets", "description": "List wallets with optional filters.", "operationId": "list_wallets_v1_wallets__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/WalletStatus"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WalletResponse"}, "title": "Response List Wallets V1 Wallets  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/{wallet_id}": {"get": {"tags": ["Wallets"], "summary": "Get wallet", "description": "Get a wallet by ID.", "operationId": "get_wallet_v1_wallets__wallet_id__get", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Wallets"], "summary": "Update wallet", "description": "Update a wallet (name, expiration_at, priority).", "operationId": "update_wallet_v1_wallets__wallet_id__put", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Wallets"], "summary": "Terminate wallet", "description": "Terminate a wallet (soft delete: sets status=terminated).", "operationId": "terminate_wallet_v1_wallets__wallet_id__delete", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Wallet cannot be terminated in current state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/{wallet_id}/top_up": {"post": {"tags": ["Wallets"], "summary": "Top up wallet", "description": "Top up a wallet with credits.", "operationId": "top_up_wallet_v1_wallets__wallet_id__top_up_post", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletTopUp"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletResponse"}}}}, "400": {"description": "Invalid top-up amount or wallet state"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/{wallet_id}/transactions": {"get": {"tags": ["Wallets"], "summary": "List wallet transactions", "description": "List transactions for a wallet.", "operationId": "list_wallet_transactions_v1_wallets__wallet_id__transactions_get", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WalletTransactionResponse"}, "title": "Response List Wallet Transactions V1 Wallets  Wallet Id  Transactions Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/{wallet_id}/balance_timeline": {"get": {"tags": ["Wallets"], "summary": "Get wallet balance timeline", "description": "Get daily balance timeline for a wallet showing credits in/out over time.", "operationId": "get_balance_timeline_v1_wallets__wallet_id__balance_timeline_get", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}, {"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Start Date"}}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "End Date"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BalanceTimelineResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/{wallet_id}/depletion_forecast": {"get": {"tags": ["Wallets"], "summary": "Get wallet depletion forecast", "description": "Get projected depletion date based on consumption rate.", "operationId": "get_depletion_forecast_v1_wallets__wallet_id__depletion_forecast_get", "parameters": [{"name": "wallet_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Wallet Id"}}, {"name": "days", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 365, "minimum": 1, "default": 30, "title": "Days"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DepletionForecastResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Wallet not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/wallets/transfer": {"post": {"tags": ["Wallets"], "summary": "Transfer credits between wallets", "description": "Transfer credits from one wallet to another.", "operationId": "transfer_credits_v1_wallets_transfer_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletTransferRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WalletTransferResponse"}}}}, "400": {"description": "Invalid transfer request"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/coupons/": {"post": {"tags": ["Coupons"], "summary": "Create coupon", "description": "Create a new coupon.", "operationId": "create_coupon_v1_coupons__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Coupon with this code already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Coupons"], "summary": "List coupons", "description": "List coupons with optional status filter.", "operationId": "list_coupons_v1_coupons__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/CouponStatus"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/CouponResponse"}, "title": "Response List Coupons V1 Coupons  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/coupons/{code}": {"get": {"tags": ["Coupons"], "summary": "Get coupon", "description": "Get a coupon by code.", "operationId": "get_coupon_v1_coupons__code__get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Coupons"], "summary": "Update coupon", "description": "Update a coupon by code.", "operationId": "update_coupon_v1_coupons__code__put", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Coupons"], "summary": "Terminate coupon", "description": "Terminate a coupon by code.", "operationId": "terminate_coupon_v1_coupons__code__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/coupons/apply": {"post": {"tags": ["Coupons"], "summary": "Apply coupon to customer", "description": "Apply a coupon to a customer.", "operationId": "apply_coupon_v1_coupons_apply_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApplyCouponRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AppliedCouponResponse"}}}}, "400": {"description": "Coupon is not active"}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon or customer not found"}, "409": {"description": "Coupon already applied to this customer"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/coupons/applied/{applied_coupon_id}": {"delete": {"tags": ["Coupons"], "summary": "Remove applied coupon", "description": "Remove (terminate) an applied coupon from a customer.", "operationId": "remove_applied_coupon_v1_coupons_applied__applied_coupon_id__delete", "parameters": [{"name": "applied_coupon_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Applied Coupon Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Applied coupon not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/coupons/{code}/analytics": {"get": {"tags": ["Coupons"], "summary": "Get coupon analytics", "description": "Get usage analytics for a coupon.", "operationId": "get_coupon_analytics_v1_coupons__code__analytics_get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponAnalyticsResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/coupons/{code}/duplicate": {"post": {"tags": ["Coupons"], "summary": "Duplicate coupon", "description": "Create a copy of an existing coupon with a new code.", "operationId": "duplicate_coupon_v1_coupons__code__duplicate_post", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CouponResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Coupon not found"}, "409": {"description": "Duplicate code already exists"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/add_ons/": {"post": {"tags": ["Add-ons"], "summary": "Create add-on", "description": "Create a new add-on.", "operationId": "create_add_on_v1_add_ons__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Add-on with this code already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Add-ons"], "summary": "List add-ons", "description": "List add-ons with pagination.", "operationId": "list_add_ons_v1_add_ons__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AddOnResponse"}, "title": "Response List Add Ons V1 Add Ons  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/add_ons/application_counts": {"get": {"tags": ["Add-ons"], "summary": "Get application counts per add-on", "description": "Return a mapping of add_on_id to application count.", "operationId": "get_application_counts_v1_add_ons_application_counts_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Response Get Application Counts V1 Add Ons Application Counts Get"}}}}, "401": {"description": "Unauthorized"}}}}, "/v1/add_ons/{code}/applications": {"get": {"tags": ["Add-ons"], "summary": "Get application history for an add-on", "description": "Get all applications of an add-on with customer names.", "operationId": "get_add_on_applications_v1_add_ons__code__applications_get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AppliedAddOnDetailResponse"}, "title": "Response Get Add On Applications V1 Add Ons  Code  Applications Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Add-on not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/add_ons/{code}": {"get": {"tags": ["Add-ons"], "summary": "Get add-on", "description": "Get an add-on by code.", "operationId": "get_add_on_v1_add_ons__code__get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Add-on not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Add-ons"], "summary": "Update add-on", "description": "Update an add-on by code.", "operationId": "update_add_on_v1_add_ons__code__put", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AddOnResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Add-on not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Add-ons"], "summary": "Delete add-on", "description": "Delete an add-on by code.", "operationId": "delete_add_on_v1_add_ons__code__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Add-on not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/add_ons/apply": {"post": {"tags": ["Add-ons"], "summary": "Apply add-on to customer", "description": "Apply an add-on to a customer.", "operationId": "apply_add_on_v1_add_ons_apply_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApplyAddOnRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AppliedAddOnResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Add-on or customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/credit_notes/": {"post": {"tags": ["Credit Notes"], "summary": "Create credit note", "description": "Create a new credit note with optional items.", "operationId": "create_credit_note_v1_credit_notes__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Credit note with this number already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Credit Notes"], "summary": "List credit notes", "description": "List credit notes with optional filters.", "operationId": "list_credit_notes_v1_credit_notes__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "invoice_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"$ref": "#/components/schemas/CreditNoteStatus"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/CreditNoteResponse"}, "title": "Response List Credit Notes V1 Credit Notes  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/credit_notes/{credit_note_id}": {"get": {"tags": ["Credit Notes"], "summary": "Get credit note", "description": "Get a credit note by ID.", "operationId": "get_credit_note_v1_credit_notes__credit_note_id__get", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Credit Notes"], "summary": "Update credit note", "description": "Update a credit note (only allowed in draft status).", "operationId": "update_credit_note_v1_credit_notes__credit_note_id__put", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "400": {"description": "Only draft credit notes can be updated"}, "401": {"description": "Unauthorized"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation error"}}}}, "/v1/credit_notes/{credit_note_id}/finalize": {"post": {"tags": ["Credit Notes"], "summary": "Finalize credit note", "description": "Finalize a credit note.", "operationId": "finalize_credit_note_v1_credit_notes__credit_note_id__finalize_post", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "400": {"description": "Only draft credit notes can be finalized"}, "401": {"description": "Unauthorized"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/credit_notes/{credit_note_id}/void": {"post": {"tags": ["Credit Notes"], "summary": "Void credit note", "description": "Void a credit note.", "operationId": "void_credit_note_v1_credit_notes__credit_note_id__void_post", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreditNoteResponse"}}}}, "400": {"description": "Only finalized credit notes can be voided"}, "401": {"description": "Unauthorized"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/credit_notes/{credit_note_id}/send_email": {"post": {"tags": ["Credit Notes"], "summary": "Send credit note email", "description": "Send a credit note notification email to the customer.", "operationId": "send_credit_note_email_v1_credit_notes__credit_note_id__send_email_post", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": {"type": "boolean"}, "title": "Response Send Credit Note Email V1 Credit Notes  Credit Note Id  Send Email Post"}}}}, "400": {"description": "Credit note must be finalized to send email"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/credit_notes/{credit_note_id}/download_pdf": {"post": {"tags": ["Credit Notes"], "summary": "Download credit note PDF", "description": "Generate and download a PDF for a finalized credit note.", "operationId": "download_credit_note_pdf_v1_credit_notes__credit_note_id__download_pdf_post", "parameters": [{"name": "credit_note_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Credit Note Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Credit note must be finalized to generate PDF"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Credit note not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/": {"post": {"tags": ["Taxes"], "summary": "Create tax", "description": "Create a new tax.", "operationId": "create_tax_v1_taxes__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Tax with this code already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Taxes"], "summary": "List taxes", "description": "List all taxes.", "operationId": "list_taxes_v1_taxes__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/TaxResponse"}, "title": "Response List Taxes V1 Taxes  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/applied": {"get": {"tags": ["Taxes"], "summary": "List applied taxes", "description": "List applied taxes for a given entity.", "operationId": "list_applied_taxes_v1_taxes_applied_get", "parameters": [{"name": "taxable_type", "in": "query", "required": true, "schema": {"type": "string", "maxLength": 50, "title": "Taxable Type"}}, {"name": "taxable_id", "in": "query", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Taxable Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AppliedTaxResponse"}, "title": "Response List Applied Taxes V1 Taxes Applied Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/apply": {"post": {"tags": ["Taxes"], "summary": "Apply tax to entity", "description": "Apply a tax to an entity.", "operationId": "apply_tax_v1_taxes_apply_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApplyTaxRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/AppliedTaxResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Tax not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/applied/{applied_tax_id}": {"delete": {"tags": ["Taxes"], "summary": "Remove applied tax", "description": "Remove an applied tax by ID.", "operationId": "remove_applied_tax_v1_taxes_applied__applied_tax_id__delete", "parameters": [{"name": "applied_tax_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Applied Tax Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Applied tax not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/application_counts": {"get": {"tags": ["Taxes"], "summary": "Get tax application counts", "description": "Get the count of applied tax records per tax.", "operationId": "get_application_counts_v1_taxes_application_counts_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxApplicationCountsResponse"}}}}, "401": {"description": "Unauthorized"}}}}, "/v1/taxes/{code}/applied_entities": {"get": {"tags": ["Taxes"], "summary": "Get entities a tax is applied to", "description": "Get all entities a tax is applied to.", "operationId": "get_applied_entities_v1_taxes__code__applied_entities_get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxAppliedEntitiesResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Tax not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/taxes/{code}": {"get": {"tags": ["Taxes"], "summary": "Get tax", "description": "Get a tax by code.", "operationId": "get_tax_v1_taxes__code__get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Tax not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Taxes"], "summary": "Update tax", "description": "Update a tax by code.", "operationId": "update_tax_v1_taxes__code__put", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/TaxResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Tax not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Taxes"], "summary": "Delete tax", "description": "Delete a tax by code.", "operationId": "delete_tax_v1_taxes__code__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Tax not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/": {"post": {"tags": ["Webhooks"], "summary": "Create webhook endpoint", "description": "Create a new webhook endpoint.", "operationId": "create_webhook_endpoint_v1_webhook_endpoints__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointResponse"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Webhooks"], "summary": "List webhook endpoints", "description": "List all webhook endpoints.", "operationId": "list_webhook_endpoints_v1_webhook_endpoints__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WebhookEndpointResponse"}, "title": "Response List Webhook Endpoints V1 Webhook Endpoints  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/delivery_stats": {"get": {"tags": ["Webhooks"], "summary": "Get delivery stats per endpoint", "description": "Get delivery success/failure stats grouped by webhook endpoint.", "operationId": "get_delivery_stats_v1_webhook_endpoints_delivery_stats_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/EndpointDeliveryStats"}, "type": "array", "title": "Response Get Delivery Stats V1 Webhook Endpoints Delivery Stats Get"}}}}, "401": {"description": "Unauthorized"}}}}, "/v1/webhook_endpoints/{endpoint_id}": {"get": {"tags": ["Webhooks"], "summary": "Get webhook endpoint", "description": "Get a webhook endpoint by ID.", "operationId": "get_webhook_endpoint_v1_webhook_endpoints__endpoint_id__get", "parameters": [{"name": "endpoint_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Endpoint Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Webhook endpoint not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Webhooks"], "summary": "Update webhook endpoint", "description": "Update a webhook endpoint.", "operationId": "update_webhook_endpoint_v1_webhook_endpoints__endpoint_id__put", "parameters": [{"name": "endpoint_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Endpoint Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookEndpointResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Webhook endpoint not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Webhooks"], "summary": "Delete webhook endpoint", "description": "Delete a webhook endpoint.", "operationId": "delete_webhook_endpoint_v1_webhook_endpoints__endpoint_id__delete", "parameters": [{"name": "endpoint_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Endpoint Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Webhook endpoint not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/hooks/list": {"get": {"tags": ["Webhooks"], "summary": "List recent webhooks", "description": "List recent webhooks with optional filters.", "operationId": "list_webhooks_v1_webhook_endpoints_hooks_list_get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "webhook_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Webhook Type"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WebhookResponse"}, "title": "Response List Webhooks V1 Webhook Endpoints Hooks List Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/hooks/{webhook_id}": {"get": {"tags": ["Webhooks"], "summary": "Get webhook details", "description": "Get webhook details.", "operationId": "get_webhook_v1_webhook_endpoints_hooks__webhook_id__get", "parameters": [{"name": "webhook_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Webhook Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookResponse"}}}}, "404": {"description": "Webhook not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/hooks/{webhook_id}/delivery_attempts": {"get": {"tags": ["Webhooks"], "summary": "Get webhook delivery attempts", "description": "Get all delivery attempts for a webhook, ordered by attempt number.", "operationId": "get_webhook_delivery_attempts_v1_webhook_endpoints_hooks__webhook_id__delivery_attempts_get", "parameters": [{"name": "webhook_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Webhook Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WebhookDeliveryAttemptResponse"}, "title": "Response Get Webhook Delivery Attempts V1 Webhook Endpoints Hooks  Webhook Id  Delivery Attempts Get"}}}}, "404": {"description": "Webhook not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/webhook_endpoints/hooks/{webhook_id}/retry": {"post": {"tags": ["Webhooks"], "summary": "Retry failed webhook", "description": "Manually retry a failed webhook.", "operationId": "retry_webhook_v1_webhook_endpoints_hooks__webhook_id__retry_post", "parameters": [{"name": "webhook_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Webhook Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/WebhookResponse"}}}}, "400": {"description": "Only failed webhooks can be retried"}, "404": {"description": "Webhook not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/organizations/": {"get": {"tags": ["Organizations"], "summary": "List organizations", "description": "List all organizations.", "operationId": "list_organizations_v1_organizations__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/OrganizationResponse"}, "title": "Response List Organizations V1 Organizations  Get"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Organizations"], "summary": "Create organization", "description": "Create a new organization with an initial API key.", "operationId": "create_organization_v1_organizations__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationCreateResponse"}}}}, "422": {"description": "Validation error"}}}}, "/v1/organizations/current": {"get": {"tags": ["Organizations"], "summary": "Get current organization", "description": "Get the current organization (identified by API key).", "operationId": "get_current_org_v1_organizations_current_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Organization not found"}}}, "put": {"tags": ["Organizations"], "summary": "Update current organization", "description": "Update the current organization.", "operationId": "update_current_org_v1_organizations_current_put", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationUpdate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OrganizationResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Organization not found"}, "422": {"description": "Validation error"}}}}, "/v1/organizations/current/api_keys": {"post": {"tags": ["Organizations"], "summary": "Create API key", "description": "Generate a new API key for the current organization.", "operationId": "create_api_key_v1_organizations_current_api_keys_post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiKeyCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiKeyCreateResponse"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Organizations"], "summary": "List API keys", "description": "List API keys for the current organization (prefix and name only).", "operationId": "list_api_keys_v1_organizations_current_api_keys_get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/ApiKeyListResponse"}, "title": "Response List Api Keys V1 Organizations Current Api Keys Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/organizations/current/api_keys/{api_key_id}/rotate": {"post": {"tags": ["Organizations"], "summary": "Rotate API key", "description": "Rotate an API key: revoke the old key and create a new one with the same config.", "operationId": "rotate_api_key_v1_organizations_current_api_keys__api_key_id__rotate_post", "parameters": [{"name": "api_key_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Api Key Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ApiKeyCreateResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "API key not found or not active"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/organizations/current/api_keys/{api_key_id}": {"delete": {"tags": ["Organizations"], "summary": "Revoke API key", "description": "Revoke an API key.", "operationId": "revoke_api_key_v1_organizations_current_api_keys__api_key_id__delete", "parameters": [{"name": "api_key_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Api Key Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "API key not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/dunning_campaigns/": {"post": {"tags": ["Dunning"], "summary": "Create dunning campaign", "description": "Create a new dunning campaign.", "operationId": "create_dunning_campaign_v1_dunning_campaigns__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Dunning campaign with this code already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Dunning"], "summary": "List dunning campaigns", "description": "List dunning campaigns with optional status filter.", "operationId": "list_dunning_campaigns_v1_dunning_campaigns__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/DunningCampaignResponse"}, "title": "Response List Dunning Campaigns V1 Dunning Campaigns  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/dunning_campaigns/performance_stats": {"get": {"tags": ["Dunning"], "summary": "Get dunning campaign performance stats", "description": "Get performance statistics across all dunning campaigns.", "operationId": "get_performance_stats_v1_dunning_campaigns_performance_stats_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignPerformanceStats"}}}}, "401": {"description": "Unauthorized"}}}}, "/v1/dunning_campaigns/{campaign_id}": {"get": {"tags": ["Dunning"], "summary": "Get dunning campaign", "description": "Get a dunning campaign by ID.", "operationId": "get_dunning_campaign_v1_dunning_campaigns__campaign_id__get", "parameters": [{"name": "campaign_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Campaign Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Dunning campaign not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Dunning"], "summary": "Update dunning campaign", "description": "Update a dunning campaign.", "operationId": "update_dunning_campaign_v1_dunning_campaigns__campaign_id__put", "parameters": [{"name": "campaign_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Campaign Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DunningCampaignResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Dunning campaign not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Dunning"], "summary": "Delete dunning campaign", "description": "Delete a dunning campaign.", "operationId": "delete_dunning_campaign_v1_dunning_campaigns__campaign_id__delete", "parameters": [{"name": "campaign_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Campaign Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Dunning campaign not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/dunning_campaigns/{campaign_id}/execution_history": {"get": {"tags": ["Dunning"], "summary": "Get campaign execution history", "description": "Get payment requests generated by this campaign with customer and invoice details.", "operationId": "get_execution_history_v1_dunning_campaigns__campaign_id__execution_history_get", "parameters": [{"name": "campaign_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Campaign Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/ExecutionHistoryEntry"}, "title": "Response Get Execution History V1 Dunning Campaigns  Campaign Id  Execution History Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Dunning campaign not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/dunning_campaigns/{campaign_id}/timeline": {"get": {"tags": ["Dunning"], "summary": "Get campaign timeline", "description": "Get a chronological timeline of campaign events and outcomes.", "operationId": "get_campaign_timeline_v1_dunning_campaigns__campaign_id__timeline_get", "parameters": [{"name": "campaign_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Campaign Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CampaignTimelineResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Dunning campaign not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/dunning_campaigns/{campaign_id}/preview": {"post": {"tags": ["Dunning"], "summary": "Preview campaign execution", "description": "Simulate what the campaign would do if executed now.", "operationId": "preview_campaign_v1_dunning_campaigns__campaign_id__preview_post", "parameters": [{"name": "campaign_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Campaign Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CampaignPreviewResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Dunning campaign not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payment_requests/": {"post": {"tags": ["Payment Requests"], "summary": "Create payment request", "description": "Create a manual payment request.", "operationId": "create_payment_request_v1_payment_requests__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentRequestCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentRequestResponse"}}}}, "400": {"description": "Invalid customer or invoice reference"}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["Payment Requests"], "summary": "List payment requests", "description": "List payment requests with optional filters.", "operationId": "list_payment_requests_v1_payment_requests__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "customer_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Customer Id"}}, {"name": "payment_status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Payment Status"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PaymentRequestResponse"}, "title": "Response List Payment Requests V1 Payment Requests  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payment_requests/batch": {"post": {"tags": ["Payment Requests"], "summary": "Batch create payment requests for all customers with overdue invoices", "description": "Create payment requests for all customers with overdue finalized invoices.", "operationId": "batch_create_payment_requests_v1_payment_requests_batch_post", "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BatchPaymentRequestResponse"}}}}, "401": {"description": "Unauthorized"}}}}, "/v1/payment_requests/{request_id}": {"get": {"tags": ["Payment Requests"], "summary": "Get payment request", "description": "Get a payment request by ID.", "operationId": "get_payment_request_v1_payment_requests__request_id__get", "parameters": [{"name": "request_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Request Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentRequestResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Payment request not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/payment_requests/{request_id}/attempts": {"get": {"tags": ["Payment Requests"], "summary": "Get payment attempt history", "description": "Get the payment attempt history for a payment request.", "operationId": "get_payment_attempt_history_v1_payment_requests__request_id__attempts_get", "parameters": [{"name": "request_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Request Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentAttemptHistoryResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Payment request not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/plans/{plan_code}/commitments": {"get": {"tags": ["Commitments"], "summary": "List plan commitments", "description": "List all commitments for a plan.", "operationId": "list_commitments_for_plan_v1_plans__plan_code__commitments_get", "parameters": [{"name": "plan_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Plan Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/CommitmentResponse"}, "title": "Response List Commitments For Plan V1 Plans  Plan Code  Commitments Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Commitments"], "summary": "Create commitment", "description": "Add a commitment to a plan.", "operationId": "create_commitment_v1_plans__plan_code__commitments_post", "parameters": [{"name": "plan_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Plan Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CommitmentCreateAPI"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CommitmentResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation error"}}}}, "/v1/commitments/{commitment_id}": {"put": {"tags": ["Commitments"], "summary": "Update commitment", "description": "Update a commitment.", "operationId": "update_commitment_v1_commitments__commitment_id__put", "parameters": [{"name": "commitment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Commitment Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CommitmentUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CommitmentResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Commitment not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Commitments"], "summary": "Delete commitment", "description": "Remove a commitment.", "operationId": "delete_commitment_v1_commitments__commitment_id__delete", "parameters": [{"name": "commitment_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Commitment Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Commitment not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/plans/{plan_code}/usage_thresholds": {"post": {"tags": ["Thresholds"], "summary": "Create plan usage threshold", "description": "Add a usage threshold to a plan.", "operationId": "create_plan_usage_threshold_v1_plans__plan_code__usage_thresholds_post", "parameters": [{"name": "plan_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Plan Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageThresholdCreateAPI"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageThresholdResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Thresholds"], "summary": "List plan usage thresholds", "description": "List all usage thresholds for a plan.", "operationId": "list_plan_usage_thresholds_v1_plans__plan_code__usage_thresholds_get", "parameters": [{"name": "plan_code", "in": "path", "required": true, "schema": {"type": "string", "title": "Plan Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/UsageThresholdResponse"}, "title": "Response List Plan Usage Thresholds V1 Plans  Plan Code  Usage Thresholds Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Plan not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/usage_thresholds": {"post": {"tags": ["Thresholds"], "summary": "Create subscription usage threshold", "description": "Add a usage threshold to a subscription.", "operationId": "create_subscription_usage_threshold_v1_subscriptions__subscription_id__usage_thresholds_post", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageThresholdCreateAPI"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageThresholdResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Thresholds"], "summary": "List subscription usage thresholds", "description": "List all usage thresholds for a subscription.", "operationId": "list_subscription_usage_thresholds_v1_subscriptions__subscription_id__usage_thresholds_get", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/UsageThresholdResponse"}, "title": "Response List Subscription Usage Thresholds V1 Subscriptions  Subscription Id  Usage Thresholds Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/subscriptions/{subscription_id}/current_usage": {"get": {"tags": ["Thresholds"], "summary": "Get current subscription usage", "description": "Get current period usage amount for a subscription.", "operationId": "get_current_usage_v1_subscriptions__subscription_id__current_usage_get", "parameters": [{"name": "subscription_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/app__schemas__usage_threshold__CurrentUsageResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Subscription, plan, or customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/usage_thresholds/{threshold_id}": {"delete": {"tags": ["Thresholds"], "summary": "Delete usage threshold", "description": "Remove a usage threshold.", "operationId": "delete_usage_threshold_v1_usage_thresholds__threshold_id__delete", "parameters": [{"name": "threshold_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Threshold Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Usage threshold not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/data_exports/": {"post": {"tags": ["Data Exports"], "summary": "Create data export", "description": "Create a new data export and enqueue background processing.", "operationId": "create_data_export_v1_data_exports__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataExportCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataExportResponse"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Data Exports"], "summary": "List data exports", "description": "List data exports for the organization.", "operationId": "list_data_exports_v1_data_exports__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/DataExportResponse"}, "title": "Response List Data Exports V1 Data Exports  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/data_exports/estimate": {"post": {"tags": ["Data Exports"], "summary": "Estimate export size", "description": "Estimate the number of records for a data export without creating it.", "operationId": "estimate_data_export_v1_data_exports_estimate_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataExportCreate"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataExportEstimate"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation error"}}}}, "/v1/data_exports/{export_id}": {"get": {"tags": ["Data Exports"], "summary": "Get data export", "description": "Get a data export by ID.", "operationId": "get_data_export_v1_data_exports__export_id__get", "parameters": [{"name": "export_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Export Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/DataExportResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Data export not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/data_exports/{export_id}/download": {"get": {"tags": ["Data Exports"], "summary": "Download data export", "description": "Download the CSV file for a completed data export.", "operationId": "download_data_export_v1_data_exports__export_id__download_get", "parameters": [{"name": "export_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Export Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Export is not completed"}, "401": {"description": "Unauthorized"}, "404": {"description": "Data export or file not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/integrations/": {"post": {"tags": ["Integrations"], "summary": "Create integration", "description": "Create a new integration.", "operationId": "create_integration_v1_integrations__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationResponse"}}}}, "401": {"description": "Unauthorized"}, "409": {"description": "Integration with this provider already exists"}, "422": {"description": "Validation error"}}}, "get": {"tags": ["Integrations"], "summary": "List integrations", "description": "List integrations for the organization.", "operationId": "list_integrations_v1_integrations__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/IntegrationResponse"}, "title": "Response List Integrations V1 Integrations  Get"}}}}, "401": {"description": "Unauthorized"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/integrations/{integration_id}": {"get": {"tags": ["Integrations"], "summary": "Get integration", "description": "Get an integration by ID.", "operationId": "get_integration_v1_integrations__integration_id__get", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["Integrations"], "summary": "Update integration", "description": "Update an integration's settings.", "operationId": "update_integration_v1_integrations__integration_id__put", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/IntegrationResponse"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Integrations"], "summary": "Delete integration", "description": "Remove an integration.", "operationId": "delete_integration_v1_integrations__integration_id__delete", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/integrations/{integration_id}/test": {"post": {"tags": ["Integrations"], "summary": "Test integration connection", "description": "Test an integration's connection credentials.", "operationId": "test_integration_connection_v1_integrations__integration_id__test_post", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "additionalProperties": true, "title": "Response Test Integration Connection V1 Integrations  Integration Id  Test Post"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Unsupported integration type"}}}}, "/v1/integrations/{integration_id}/customers": {"get": {"tags": ["Integrations"], "summary": "List integration customer mappings", "description": "List customer mappings for an integration.", "operationId": "list_integration_customers_v1_integrations__integration_id__customers_get", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/IntegrationCustomerResponse"}, "title": "Response List Integration Customers V1 Integrations  Integration Id  Customers Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/integrations/{integration_id}/mappings": {"get": {"tags": ["Integrations"], "summary": "List integration field mappings", "description": "List field mappings for an integration.", "operationId": "list_integration_mappings_v1_integrations__integration_id__mappings_get", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/IntegrationMappingResponse"}, "title": "Response List Integration Mappings V1 Integrations  Integration Id  Mappings Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/integrations/{integration_id}/sync_history": {"get": {"tags": ["Integrations"], "summary": "List integration sync history", "description": "List sync history for an integration, with optional status/resource_type filters.", "operationId": "list_integration_sync_history_v1_integrations__integration_id__sync_history_get", "parameters": [{"name": "integration_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Integration Id"}}, {"name": "status", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}}, {"name": "resource_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Resource Type"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/IntegrationSyncHistoryResponse"}, "title": "Response List Integration Sync History V1 Integrations  Integration Id  Sync History Get"}}}}, "401": {"description": "Unauthorized"}, "404": {"description": "Integration not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/audit_logs/": {"get": {"tags": ["Audit Logs"], "summary": "List audit logs", "description": "List audit logs with optional filters.", "operationId": "list_audit_logs_v1_audit_logs__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "resource_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Resource Type"}}, {"name": "resource_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Resource Id"}}, {"name": "action", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Action"}}, {"name": "start_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Start Date"}}, {"name": "end_date", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "End Date"}}, {"name": "actor_type", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Actor Type"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AuditLogResponse"}, "title": "Response List Audit Logs V1 Audit Logs  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/audit_logs/{resource_type}/{resource_id}": {"get": {"tags": ["Audit Logs"], "summary": "Get audit trail for a resource", "description": "Get the audit trail for a specific resource.", "operationId": "get_resource_audit_trail_v1_audit_logs__resource_type___resource_id__get", "parameters": [{"name": "resource_type", "in": "path", "required": true, "schema": {"type": "string", "title": "Resource Type"}}, {"name": "resource_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Resource Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/AuditLogResponse"}, "title": "Response Get Resource Audit Trail V1 Audit Logs  Resource Type   Resource Id  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/billing_entities/": {"get": {"tags": ["Billing Entities"], "summary": "List billing entities", "description": "List all billing entities with pagination.", "operationId": "list_billing_entities_v1_billing_entities__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/BillingEntityResponse"}, "title": "Response List Billing Entities V1 Billing Entities  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Billing Entities"], "summary": "Create billing entity", "description": "Create a new billing entity.", "operationId": "create_billing_entity_v1_billing_entities__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillingEntityCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillingEntityResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Billing entity with this code already exists"}, "422": {"description": "Validation error"}}}}, "/v1/billing_entities/customer_counts": {"get": {"tags": ["Billing Entities"], "summary": "Get customer counts per billing entity", "description": "Return a mapping of billing entity ID to associated customer count.", "operationId": "get_customer_counts_v1_billing_entities_customer_counts_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Response Get Customer Counts V1 Billing Entities Customer Counts Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/v1/billing_entities/{code}": {"get": {"tags": ["Billing Entities"], "summary": "Get billing entity by code", "description": "Get a billing entity by its code.", "operationId": "get_billing_entity_v1_billing_entities__code__get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillingEntityResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billing entity not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["Billing Entities"], "summary": "Update billing entity", "description": "Update a billing entity by code.", "operationId": "update_billing_entity_v1_billing_entities__code__patch", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillingEntityUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BillingEntityResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billing entity not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Billing Entities"], "summary": "Delete billing entity", "description": "Delete a billing entity. Returns 400 if it has invoices.", "operationId": "delete_billing_entity_v1_billing_entities__code__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Cannot delete billing entity with invoices"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Billing entity not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/features/": {"get": {"tags": ["Features"], "summary": "List features", "description": "List all features with pagination.", "operationId": "list_features_v1_features__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/FeatureResponse"}, "title": "Response List Features V1 Features  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Features"], "summary": "Create feature", "description": "Create a new feature.", "operationId": "create_feature_v1_features__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeatureCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeatureResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Feature with this code already exists"}, "422": {"description": "Validation error"}}}}, "/v1/features/plan_counts": {"get": {"tags": ["Features"], "summary": "Get plan counts per feature", "description": "Get the number of distinct plans with entitlements for each feature.", "operationId": "get_feature_plan_counts_v1_features_plan_counts_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Response Get Feature Plan Counts V1 Features Plan Counts Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}}}}, "/v1/features/{code}": {"get": {"tags": ["Features"], "summary": "Get feature by code", "description": "Get a feature by its code.", "operationId": "get_feature_v1_features__code__get", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeatureResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Feature not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["Features"], "summary": "Update feature", "description": "Update a feature by code.", "operationId": "update_feature_v1_features__code__patch", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeatureUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/FeatureResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Feature not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Features"], "summary": "Delete feature", "description": "Delete a feature. Returns 400 if it has entitlements.", "operationId": "delete_feature_v1_features__code__delete", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string", "title": "Code"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Cannot delete feature with entitlements"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Feature not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/entitlements/": {"get": {"tags": ["Entitlements"], "summary": "List entitlements", "description": "List all entitlements with pagination. Optionally filter by plan_id.", "operationId": "list_entitlements_v1_entitlements__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "plan_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Plan Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/EntitlementResponse"}, "title": "Response List Entitlements V1 Entitlements  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Entitlements"], "summary": "Create entitlement", "description": "Create an entitlement linking a feature to a plan with a value.", "operationId": "create_entitlement_v1_entitlements__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EntitlementCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EntitlementResponse"}}}}, "400": {"description": "Invalid plan or feature reference"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "409": {"description": "Entitlement for this plan/feature already exists"}, "422": {"description": "Validation error"}}}}, "/v1/entitlements/copy": {"post": {"tags": ["Entitlements"], "summary": "Copy entitlements from one plan to another", "description": "Copy all entitlements from one plan to another, skipping duplicates.", "operationId": "copy_entitlements_v1_entitlements_copy_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/EntitlementCopyRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"$ref": "#/components/schemas/EntitlementResponse"}, "type": "array", "title": "Response Copy Entitlements V1 Entitlements Copy Post"}}}}, "400": {"description": "Source or target plan not found, or same plan"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation error"}}}}, "/v1/entitlements/{entitlement_id}": {"patch": {"tags": ["Entitlements"], "summary": "Update entitlement", "description": "Update an entitlement's value.", "operationId": "update_entitlement_v1_entitlements__entitlement_id__patch", "parameters": [{"name": "entitlement_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Entitlement Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EntitlementUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/EntitlementResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Entitlement not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Entitlements"], "summary": "Delete entitlement", "description": "Delete an entitlement.", "operationId": "delete_entitlement_v1_entitlements__entitlement_id__delete", "parameters": [{"name": "entitlement_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Entitlement Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Entitlement not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/usage_alerts/": {"get": {"tags": ["Usage Alerts"], "summary": "List usage alerts", "description": "List usage alerts with optional subscription filter.", "operationId": "list_usage_alerts_v1_usage_alerts__get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "subscription_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/UsageAlertResponse"}, "title": "Response List Usage Alerts V1 Usage Alerts  Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Usage Alerts"], "summary": "Create usage alert", "description": "Create a new usage alert for a subscription and metric.", "operationId": "create_usage_alert_v1_usage_alerts__post", "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageAlertCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageAlertResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Subscription or billable metric not found"}, "422": {"description": "Validation error"}}}}, "/v1/usage_alerts/{alert_id}": {"get": {"tags": ["Usage Alerts"], "summary": "Get usage alert", "description": "Get a usage alert by ID.", "operationId": "get_usage_alert_v1_usage_alerts__alert_id__get", "parameters": [{"name": "alert_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Alert Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageAlertResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Usage alert not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "patch": {"tags": ["Usage Alerts"], "summary": "Update usage alert", "description": "Update a usage alert's threshold, name, or recurring flag.", "operationId": "update_usage_alert_v1_usage_alerts__alert_id__patch", "parameters": [{"name": "alert_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Alert Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageAlertUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageAlertResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Usage alert not found"}, "422": {"description": "Validation error"}}}, "delete": {"tags": ["Usage Alerts"], "summary": "Delete usage alert", "description": "Delete a usage alert.", "operationId": "delete_usage_alert_v1_usage_alerts__alert_id__delete", "parameters": [{"name": "alert_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Alert Id"}}], "responses": {"204": {"description": "Successful Response"}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Usage alert not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/usage_alerts/{alert_id}/status": {"get": {"tags": ["Usage Alerts"], "summary": "Get usage alert status with current usage", "description": "Get current usage status for a usage alert.", "operationId": "get_usage_alert_status_v1_usage_alerts__alert_id__status_get", "parameters": [{"name": "alert_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Alert Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageAlertStatusResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Usage alert, subscription, plan, or customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/usage_alerts/{alert_id}/triggers": {"get": {"tags": ["Usage Alerts"], "summary": "List alert trigger history", "description": "List trigger history for a usage alert.", "operationId": "list_alert_triggers_v1_usage_alerts__alert_id__triggers_get", "parameters": [{"name": "alert_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Alert Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 200, "minimum": 1, "default": 50, "title": "Limit"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/UsageAlertTriggerResponse"}, "title": "Response List Alert Triggers V1 Usage Alerts  Alert Id  Triggers Get"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Usage alert not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/v1/usage_alerts/{alert_id}/test": {"post": {"tags": ["Usage Alerts"], "summary": "Test a usage alert by checking current usage", "description": "Test a usage alert by computing current usage and returning the status.\n\nThis does NOT actually trigger the alert or send webhooks; it only shows\nwhat the current usage vs threshold looks like.", "operationId": "test_usage_alert_v1_usage_alerts__alert_id__test_post", "parameters": [{"name": "alert_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Alert Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UsageAlertStatusResponse"}}}}, "401": {"description": "Unauthorized \u2013 invalid or missing API key"}, "404": {"description": "Usage alert, subscription, plan, or customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/customer": {"get": {"tags": ["Portal"], "summary": "Get customer profile", "description": "Get the authenticated customer's profile information.", "operationId": "get_portal_customer_profile_portal_customer_get", "parameters": [{"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerResponse"}}}}, "401": {"description": "Invalid or expired portal token"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/profile": {"patch": {"tags": ["Portal"], "summary": "Update customer profile", "description": "Update the authenticated customer's profile (name, email, timezone).", "operationId": "update_portal_profile_portal_profile_patch", "parameters": [{"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PortalProfileUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CustomerResponse"}}}}, "401": {"description": "Invalid or expired portal token"}, "404": {"description": "Customer not found"}, "422": {"description": "Validation error"}}}}, "/portal/branding": {"get": {"tags": ["Portal"], "summary": "Get organization branding for portal", "description": "Get the organization's branding information for portal display.", "operationId": "get_portal_branding_portal_branding_get", "parameters": [{"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PortalBrandingResponse"}}}}, "401": {"description": "Invalid or expired portal token"}, "404": {"description": "Organization not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/invoices": {"get": {"tags": ["Portal"], "summary": "List customer invoices", "description": "List invoices for the authenticated customer.", "operationId": "list_portal_invoices_portal_invoices_get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/InvoiceResponse"}, "title": "Response List Portal Invoices Portal Invoices Get"}}}}, "401": {"description": "Invalid or expired portal token"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/invoices/{invoice_id}": {"get": {"tags": ["Portal"], "summary": "Get invoice detail", "description": "Get a specific invoice for the authenticated customer.", "operationId": "get_portal_invoice_portal_invoices__invoice_id__get", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}, {"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/InvoiceResponse"}}}}, "401": {"description": "Invalid or expired portal token"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/invoices/{invoice_id}/download_pdf": {"get": {"tags": ["Portal"], "summary": "Download invoice PDF", "description": "Download a PDF for a finalized or paid invoice.", "operationId": "download_portal_invoice_pdf_portal_invoices__invoice_id__download_pdf_get", "parameters": [{"name": "invoice_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invoice Id"}}, {"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "400": {"description": "Invoice must be finalized or paid to generate PDF"}, "401": {"description": "Invalid or expired portal token"}, "404": {"description": "Invoice not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/current_usage": {"get": {"tags": ["Portal"], "summary": "Get current usage", "description": "Get current usage for the authenticated customer's subscription.", "operationId": "get_portal_current_usage_portal_current_usage_get", "parameters": [{"name": "subscription_id", "in": "query", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Subscription Id"}}, {"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/app__schemas__usage__CurrentUsageResponse"}}}}, "401": {"description": "Invalid or expired portal token"}, "404": {"description": "Subscription not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/payments": {"get": {"tags": ["Portal"], "summary": "List customer payments", "description": "List payments for the authenticated customer.", "operationId": "list_portal_payments_portal_payments_get", "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "default": 0, "title": "Skip"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "default": 100, "title": "Limit"}}, {"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PaymentResponse"}, "title": "Response List Portal Payments Portal Payments Get"}}}}, "401": {"description": "Invalid or expired portal token"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/wallet": {"get": {"tags": ["Portal"], "summary": "Get wallet balance and transactions", "description": "Get wallet balance and recent transactions for the authenticated customer.", "operationId": "get_portal_wallet_portal_wallet_get", "parameters": [{"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/WalletResponse"}, "title": "Response Get Portal Wallet Portal Wallet Get"}}}}, "401": {"description": "Invalid or expired portal token"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/payment_methods": {"get": {"tags": ["Portal"], "summary": "List customer payment methods", "description": "List payment methods for the authenticated customer.", "operationId": "list_portal_payment_methods_portal_payment_methods_get", "parameters": [{"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/PaymentMethodResponse"}, "title": "Response List Portal Payment Methods Portal Payment Methods Get"}}}}, "401": {"description": "Invalid or expired portal token"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "post": {"tags": ["Portal"], "summary": "Add a payment method", "description": "Add a new payment method for the authenticated customer.", "operationId": "add_portal_payment_method_portal_payment_methods_post", "parameters": [{"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentMethodCreate"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentMethodResponse"}}}}, "401": {"description": "Invalid or expired portal token"}, "422": {"description": "Validation error"}}}}, "/portal/payment_methods/{payment_method_id}": {"delete": {"tags": ["Portal"], "summary": "Remove a payment method", "description": "Remove a payment method. Cannot remove the default payment method.", "operationId": "remove_portal_payment_method_portal_payment_methods__payment_method_id__delete", "parameters": [{"name": "payment_method_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Method Id"}}, {"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"204": {"description": "Successful Response"}, "400": {"description": "Cannot delete default payment method"}, "401": {"description": "Invalid or expired portal token"}, "404": {"description": "Payment method not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/portal/payment_methods/{payment_method_id}/set_default": {"post": {"tags": ["Portal"], "summary": "Set default payment method", "description": "Set a payment method as the default for the authenticated customer.", "operationId": "set_portal_default_payment_method_portal_payment_methods__payment_method_id__set_default_post", "parameters": [{"name": "payment_method_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Payment Method Id"}}, {"name": "token", "in": "query", "required": true, "schema": {"type": "string", "title": "Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/PaymentMethodResponse"}}}}, "401": {"description": "Invalid or expired portal token"}, "404": {"description": "Payment method not found"}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/": {"get": {"summary": "Root", "operationId": "root__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Response Root  Get"}}}}}}}}, "components": {"schemas": {"AddOnCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}, "amount_currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Amount Currency", "default": "USD"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "required": ["code", "name", "amount_cents"], "title": "AddOnCreate"}, "AddOnResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "amount_currency": {"type": "string", "title": "Amount Currency"}, "invoice_display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invoice Display Name"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "amount_cents", "amount_currency", "created_at", "updated_at"], "title": "AddOnResponse"}, "AddOnUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Amount Currency"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "title": "AddOnUpdate"}, "AggregationType": {"type": "string", "enum": ["count", "sum", "max", "unique_count", "weighted_sum", "latest", "custom"], "title": "AggregationType"}, "ApiKeyCreate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}}, "type": "object", "title": "ApiKeyCreate"}, "ApiKeyCreateResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "key_prefix": {"type": "string", "title": "Key Prefix"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "last_used_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Used At"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}, "status": {"type": "string", "title": "Status"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "raw_key": {"type": "string", "title": "Raw Key"}}, "type": "object", "required": ["id", "organization_id", "key_prefix", "name", "last_used_at", "expires_at", "status", "created_at", "updated_at", "raw_key"], "title": "ApiKeyCreateResponse", "description": "Returned only on creation \u2014 includes the raw API key."}, "ApiKeyListResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "key_prefix": {"type": "string", "title": "Key Prefix"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "last_used_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Used At"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}, "status": {"type": "string", "title": "Status"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "key_prefix", "name", "last_used_at", "expires_at", "status", "created_at"], "title": "ApiKeyListResponse"}, "AppliedAddOnDetailResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "add_on_id": {"type": "string", "format": "uuid", "title": "Add On Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "customer_name": {"type": "string", "title": "Customer Name"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "amount_currency": {"type": "string", "title": "Amount Currency"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "add_on_id", "customer_id", "customer_name", "amount_cents", "amount_currency", "created_at"], "title": "AppliedAddOnDetailResponse", "description": "Applied add-on with customer name for display."}, "AppliedAddOnResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "add_on_id": {"type": "string", "format": "uuid", "title": "Add On Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "amount_currency": {"type": "string", "title": "Amount Currency"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "add_on_id", "customer_id", "amount_cents", "amount_currency", "created_at"], "title": "AppliedAddOnResponse"}, "AppliedCouponResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "coupon_id": {"type": "string", "format": "uuid", "title": "Coupon Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount_cents": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Amount Currency"}, "percentage_rate": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Percentage Rate"}, "frequency": {"type": "string", "title": "Frequency"}, "frequency_duration": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Frequency Duration"}, "frequency_duration_remaining": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Frequency Duration Remaining"}, "status": {"type": "string", "title": "Status"}, "terminated_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Terminated At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "coupon_id", "customer_id", "frequency", "status", "created_at", "updated_at"], "title": "AppliedCouponResponse"}, "AppliedTaxResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "tax_id": {"type": "string", "format": "uuid", "title": "Tax Id"}, "taxable_type": {"type": "string", "title": "Taxable Type"}, "taxable_id": {"type": "string", "format": "uuid", "title": "Taxable Id"}, "tax_rate": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Tax Rate"}, "tax_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Tax Amount Cents"}, "tax_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tax Name"}, "tax_code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tax Code"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "tax_id", "taxable_type", "taxable_id", "tax_amount_cents", "created_at"], "title": "AppliedTaxResponse"}, "ApplyAddOnRequest": {"properties": {"add_on_code": {"type": "string", "title": "Add On Code"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Amount Currency"}}, "type": "object", "required": ["add_on_code", "customer_id"], "title": "ApplyAddOnRequest"}, "ApplyCouponRequest": {"properties": {"coupon_code": {"type": "string", "title": "Coupon Code"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Amount Currency"}, "percentage_rate": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Percentage Rate"}}, "type": "object", "required": ["coupon_code", "customer_id"], "title": "ApplyCouponRequest"}, "ApplyTaxRequest": {"properties": {"tax_code": {"type": "string", "title": "Tax Code"}, "taxable_type": {"type": "string", "maxLength": 50, "title": "Taxable Type"}, "taxable_id": {"type": "string", "format": "uuid", "title": "Taxable Id"}}, "type": "object", "required": ["tax_code", "taxable_type", "taxable_id"], "title": "ApplyTaxRequest"}, "AuditLogResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "resource_type": {"type": "string", "title": "Resource Type"}, "resource_id": {"type": "string", "format": "uuid", "title": "Resource Id"}, "action": {"type": "string", "title": "Action"}, "changes": {"additionalProperties": true, "type": "object", "title": "Changes"}, "actor_type": {"type": "string", "title": "Actor Type"}, "actor_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Actor Id"}, "metadata_": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Metadata"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "organization_id", "resource_type", "resource_id", "action", "changes", "actor_type", "actor_id", "metadata_", "created_at"], "title": "AuditLogResponse"}, "BalanceTimelinePoint": {"properties": {"date": {"type": "string", "title": "Date"}, "inbound": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Inbound"}, "outbound": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Outbound"}, "balance": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Balance"}}, "type": "object", "required": ["date", "inbound", "outbound", "balance"], "title": "BalanceTimelinePoint"}, "BalanceTimelineResponse": {"properties": {"wallet_id": {"type": "string", "format": "uuid", "title": "Wallet Id"}, "points": {"items": {"$ref": "#/components/schemas/BalanceTimelinePoint"}, "type": "array", "title": "Points"}}, "type": "object", "required": ["wallet_id", "points"], "title": "BalanceTimelineResponse"}, "BatchPaymentRequestResponse": {"properties": {"total_customers": {"type": "integer", "title": "Total Customers"}, "created": {"type": "integer", "title": "Created"}, "failed": {"type": "integer", "title": "Failed"}, "results": {"items": {"$ref": "#/components/schemas/BatchPaymentRequestResult"}, "type": "array", "title": "Results"}}, "type": "object", "required": ["total_customers", "created", "failed", "results"], "title": "BatchPaymentRequestResponse", "description": "Response for batch payment request creation."}, "BatchPaymentRequestResult": {"properties": {"customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "customer_name": {"type": "string", "title": "Customer Name"}, "payment_request_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Payment Request Id"}, "invoice_count": {"type": "integer", "title": "Invoice Count"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "amount_currency": {"type": "string", "title": "Amount Currency"}, "status": {"type": "string", "title": "Status"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error"}}, "type": "object", "required": ["customer_id", "customer_name", "invoice_count", "amount_cents", "amount_currency", "status"], "title": "BatchPaymentRequestResult", "description": "Result for a single customer in a batch payment request creation."}, "BillableMetricCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "aggregation_type": {"$ref": "#/components/schemas/AggregationType"}, "field_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Field Name"}, "recurring": {"type": "boolean", "title": "Recurring", "default": false}, "rounding_function": {"anyOf": [{"type": "string", "enum": ["round", "ceil", "floor"]}, {"type": "null"}], "title": "Rounding Function"}, "rounding_precision": {"anyOf": [{"type": "integer", "maximum": 15.0, "minimum": 0.0}, {"type": "null"}], "title": "Rounding Precision"}, "expression": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Expression"}}, "type": "object", "required": ["code", "name", "aggregation_type"], "title": "BillableMetricCreate"}, "BillableMetricFilterCreate": {"properties": {"key": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Key"}, "values": {"items": {}, "type": "array", "title": "Values"}}, "type": "object", "required": ["key"], "title": "BillableMetricFilterCreate"}, "BillableMetricFilterResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "billable_metric_id": {"type": "string", "format": "uuid", "title": "Billable Metric Id"}, "key": {"type": "string", "title": "Key"}, "values": {"items": {}, "type": "array", "title": "Values"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "billable_metric_id", "key", "values", "created_at", "updated_at"], "title": "BillableMetricFilterResponse"}, "BillableMetricResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "aggregation_type": {"$ref": "#/components/schemas/AggregationType"}, "field_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Field Name"}, "recurring": {"type": "boolean", "title": "Recurring"}, "rounding_function": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Rounding Function"}, "rounding_precision": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Rounding Precision"}, "expression": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Expression"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "description", "aggregation_type", "field_name", "recurring", "rounding_function", "rounding_precision", "expression", "created_at", "updated_at"], "title": "BillableMetricResponse"}, "BillableMetricStats": {"properties": {"total": {"type": "integer", "title": "Total"}, "by_aggregation_type": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "By Aggregation Type"}}, "type": "object", "required": ["total", "by_aggregation_type"], "title": "BillableMetricStats"}, "BillableMetricUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "field_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Field Name"}, "recurring": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Recurring"}, "rounding_function": {"anyOf": [{"type": "string", "enum": ["round", "ceil", "floor"]}, {"type": "null"}], "title": "Rounding Function"}, "rounding_precision": {"anyOf": [{"type": "integer", "maximum": 15.0, "minimum": 0.0}, {"type": "null"}], "title": "Rounding Precision"}, "expression": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Expression"}}, "type": "object", "title": "BillableMetricUpdate"}, "BillableMetricUsage": {"properties": {"code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "aggregation_type": {"type": "string", "title": "Aggregation Type"}}, "type": "object", "required": ["code", "name", "aggregation_type"], "title": "BillableMetricUsage"}, "BillingEntityCreate": {"properties": {"code": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "legal_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "State"}, "country": {"anyOf": [{"type": "string", "maxLength": 2, "minLength": 2}, {"type": "null"}], "title": "Country"}, "zip_code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Zip Code"}, "tax_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tax Id"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "timezone": {"type": "string", "maxLength": 50, "title": "Timezone", "default": "UTC"}, "document_locale": {"type": "string", "maxLength": 10, "title": "Document Locale", "default": "en"}, "invoice_prefix": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Invoice Prefix"}, "next_invoice_number": {"type": "integer", "minimum": 1.0, "title": "Next Invoice Number", "default": 1}, "invoice_grace_period": {"type": "integer", "minimum": 0.0, "title": "Invoice Grace Period", "default": 0}, "net_payment_term": {"type": "integer", "minimum": 0.0, "title": "Net Payment Term", "default": 30}, "invoice_footer": {"anyOf": [{"type": "string", "maxLength": 1024}, {"type": "null"}], "title": "Invoice Footer"}, "is_default": {"type": "boolean", "title": "Is Default", "default": false}}, "type": "object", "required": ["code", "name"], "title": "BillingEntityCreate"}, "BillingEntityResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "legal_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "State"}, "country": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Country"}, "zip_code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Zip Code"}, "tax_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tax Id"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "currency": {"type": "string", "title": "Currency"}, "timezone": {"type": "string", "title": "Timezone"}, "document_locale": {"type": "string", "title": "Document Locale"}, "invoice_prefix": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invoice Prefix"}, "next_invoice_number": {"type": "integer", "title": "Next Invoice Number"}, "invoice_grace_period": {"type": "integer", "title": "Invoice Grace Period"}, "net_payment_term": {"type": "integer", "title": "Net Payment Term"}, "invoice_footer": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invoice Footer"}, "is_default": {"type": "boolean", "title": "Is Default"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "legal_name", "address_line1", "address_line2", "city", "state", "country", "zip_code", "tax_id", "email", "currency", "timezone", "document_locale", "invoice_prefix", "next_invoice_number", "invoice_grace_period", "net_payment_term", "invoice_footer", "is_default", "created_at", "updated_at"], "title": "BillingEntityResponse"}, "BillingEntityUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "legal_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "State"}, "country": {"anyOf": [{"type": "string", "maxLength": 2, "minLength": 2}, {"type": "null"}], "title": "Country"}, "zip_code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Zip Code"}, "tax_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tax Id"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email"}, "currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Currency"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone"}, "document_locale": {"anyOf": [{"type": "string", "maxLength": 10}, {"type": "null"}], "title": "Document Locale"}, "invoice_prefix": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Invoice Prefix"}, "next_invoice_number": {"anyOf": [{"type": "integer", "minimum": 1.0}, {"type": "null"}], "title": "Next Invoice Number"}, "invoice_grace_period": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Invoice Grace Period"}, "net_payment_term": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Net Payment Term"}, "invoice_footer": {"anyOf": [{"type": "string", "maxLength": 1024}, {"type": "null"}], "title": "Invoice Footer"}, "is_default": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Default"}}, "type": "object", "title": "BillingEntityUpdate"}, "BillingTime": {"type": "string", "enum": ["calendar", "anniversary"], "title": "BillingTime"}, "BulkFinalizeRequest": {"properties": {"invoice_ids": {"items": {"type": "string", "format": "uuid"}, "type": "array", "minItems": 1, "title": "Invoice Ids"}}, "type": "object", "required": ["invoice_ids"], "title": "BulkFinalizeRequest"}, "BulkFinalizeResponse": {"properties": {"results": {"items": {"$ref": "#/components/schemas/BulkFinalizeResult"}, "type": "array", "title": "Results"}, "finalized_count": {"type": "integer", "title": "Finalized Count"}, "failed_count": {"type": "integer", "title": "Failed Count"}}, "type": "object", "required": ["results", "finalized_count", "failed_count"], "title": "BulkFinalizeResponse"}, "BulkFinalizeResult": {"properties": {"invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "success": {"type": "boolean", "title": "Success"}, "error": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error"}}, "type": "object", "required": ["invoice_id", "success"], "title": "BulkFinalizeResult"}, "CampaignPreviewInvoiceGroup": {"properties": {"customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "customer_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Customer Name"}, "currency": {"type": "string", "title": "Currency"}, "total_outstanding_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Outstanding Cents"}, "matching_threshold_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Matching Threshold Cents"}, "invoice_count": {"type": "integer", "title": "Invoice Count"}, "invoices": {"items": {"$ref": "#/components/schemas/ExecutionHistoryInvoice"}, "type": "array", "title": "Invoices"}}, "type": "object", "required": ["customer_id", "currency", "total_outstanding_cents", "matching_threshold_cents", "invoice_count"], "title": "CampaignPreviewInvoiceGroup", "description": "A group of invoices for a customer+currency that would trigger a payment request."}, "CampaignPreviewResponse": {"properties": {"campaign_id": {"type": "string", "format": "uuid", "title": "Campaign Id"}, "campaign_name": {"type": "string", "title": "Campaign Name"}, "status": {"type": "string", "title": "Status"}, "total_overdue_invoices": {"type": "integer", "title": "Total Overdue Invoices"}, "total_overdue_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Overdue Amount Cents"}, "payment_requests_to_create": {"type": "integer", "title": "Payment Requests To Create"}, "groups": {"items": {"$ref": "#/components/schemas/CampaignPreviewInvoiceGroup"}, "type": "array", "title": "Groups"}, "existing_pending_requests": {"type": "integer", "title": "Existing Pending Requests"}}, "type": "object", "required": ["campaign_id", "campaign_name", "status", "total_overdue_invoices", "total_overdue_amount_cents", "payment_requests_to_create", "existing_pending_requests"], "title": "CampaignPreviewResponse", "description": "Preview of what a campaign would do if executed now."}, "CampaignTimelineEvent": {"properties": {"event_type": {"type": "string", "title": "Event Type"}, "timestamp": {"type": "string", "format": "date-time", "title": "Timestamp"}, "description": {"type": "string", "title": "Description"}, "payment_request_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Payment Request Id"}, "customer_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Customer Name"}, "amount_cents": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Amount Currency"}, "payment_status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Payment Status"}, "attempt_number": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Attempt Number"}}, "type": "object", "required": ["event_type", "timestamp", "description"], "title": "CampaignTimelineEvent", "description": "A single event in the campaign timeline."}, "CampaignTimelineResponse": {"properties": {"events": {"items": {"$ref": "#/components/schemas/CampaignTimelineEvent"}, "type": "array", "title": "Events"}}, "type": "object", "title": "CampaignTimelineResponse", "description": "Chronological timeline of campaign events."}, "ChangePlanPreviewRequest": {"properties": {"new_plan_id": {"type": "string", "format": "uuid", "title": "New Plan Id"}, "effective_date": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Effective Date", "description": "When the plan change takes effect. Defaults to now."}}, "type": "object", "required": ["new_plan_id"], "title": "ChangePlanPreviewRequest", "description": "Request body for plan change preview."}, "ChangePlanPreviewResponse": {"properties": {"current_plan": {"$ref": "#/components/schemas/PlanSummary"}, "new_plan": {"$ref": "#/components/schemas/PlanSummary"}, "effective_date": {"type": "string", "format": "date-time", "title": "Effective Date"}, "proration": {"$ref": "#/components/schemas/ProrationDetail"}}, "type": "object", "required": ["current_plan", "new_plan", "effective_date", "proration"], "title": "ChangePlanPreviewResponse", "description": "Response for plan change preview showing comparison and proration."}, "ChargeFilterInput": {"properties": {"billable_metric_filter_id": {"type": "string", "format": "uuid", "title": "Billable Metric Filter Id"}, "values": {"items": {"type": "string"}, "type": "array", "title": "Values"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "required": ["billable_metric_filter_id"], "title": "ChargeFilterInput", "description": "Filter configuration for a charge within a plan."}, "ChargeInput": {"properties": {"billable_metric_id": {"type": "string", "format": "uuid", "title": "Billable Metric Id"}, "charge_model": {"$ref": "#/components/schemas/ChargeModel"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "filters": {"items": {"$ref": "#/components/schemas/ChargeFilterInput"}, "type": "array", "title": "Filters"}}, "type": "object", "required": ["billable_metric_id", "charge_model"], "title": "ChargeInput", "description": "Charge input when creating/updating a plan."}, "ChargeModel": {"type": "string", "enum": ["standard", "graduated", "volume", "package", "percentage", "graduated_percentage", "custom", "dynamic"], "title": "ChargeModel"}, "ChargeOutput": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "billable_metric_id": {"type": "string", "format": "uuid", "title": "Billable Metric Id"}, "charge_model": {"$ref": "#/components/schemas/ChargeModel"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "plan_id", "billable_metric_id", "charge_model", "properties", "created_at", "updated_at"], "title": "ChargeOutput", "description": "Charge output in plan responses."}, "ChargeSimulationResult": {"properties": {"charge_id": {"type": "string", "format": "uuid", "title": "Charge Id"}, "billable_metric_id": {"type": "string", "format": "uuid", "title": "Billable Metric Id"}, "charge_model": {"$ref": "#/components/schemas/ChargeModel"}, "units": {"type": "number", "title": "Units"}, "amount_cents": {"type": "integer", "title": "Amount Cents"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}}, "type": "object", "required": ["charge_id", "billable_metric_id", "charge_model", "units", "amount_cents", "properties"], "title": "ChargeSimulationResult", "description": "Result of simulating a single charge."}, "ChargeUsage": {"properties": {"billable_metric": {"$ref": "#/components/schemas/BillableMetricUsage"}, "units": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Units"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "charge_model": {"type": "string", "title": "Charge Model"}, "filters": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Filters"}}, "type": "object", "required": ["billable_metric", "units", "amount_cents", "charge_model", "filters"], "title": "ChargeUsage"}, "CheckoutSessionCreate": {"properties": {"invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "success_url": {"type": "string", "title": "Success Url", "description": "URL to redirect after successful payment"}, "cancel_url": {"type": "string", "title": "Cancel Url", "description": "URL to redirect if payment is canceled"}, "provider": {"$ref": "#/components/schemas/PaymentProvider", "description": "Payment provider to use (stripe, ucp, manual)", "default": "stripe"}}, "type": "object", "required": ["invoice_id", "success_url", "cancel_url"], "title": "CheckoutSessionCreate", "description": "Schema for creating a checkout session."}, "CheckoutSessionResponse": {"properties": {"payment_id": {"type": "string", "format": "uuid", "title": "Payment Id"}, "checkout_url": {"type": "string", "title": "Checkout Url"}, "provider": {"type": "string", "title": "Provider"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}}, "type": "object", "required": ["payment_id", "checkout_url", "provider"], "title": "CheckoutSessionResponse", "description": "Schema for checkout session response."}, "CommitmentCreateAPI": {"properties": {"commitment_type": {"type": "string", "maxLength": 50, "title": "Commitment Type", "default": "minimum_commitment"}, "amount_cents": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "required": ["amount_cents"], "title": "CommitmentCreateAPI"}, "CommitmentResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "commitment_type": {"type": "string", "title": "Commitment Type"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "invoice_display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invoice Display Name"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "plan_id", "commitment_type", "amount_cents", "created_at", "updated_at"], "title": "CommitmentResponse"}, "CommitmentUpdate": {"properties": {"commitment_type": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Commitment Type"}, "amount_cents": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "invoice_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Invoice Display Name"}}, "type": "object", "title": "CommitmentUpdate"}, "CouponAnalyticsResponse": {"properties": {"times_applied": {"type": "integer", "title": "Times Applied"}, "active_applications": {"type": "integer", "title": "Active Applications"}, "terminated_applications": {"type": "integer", "title": "Terminated Applications"}, "total_discount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Discount Cents"}, "remaining_uses": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Remaining Uses"}}, "type": "object", "required": ["times_applied", "active_applications", "terminated_applications", "total_discount_cents"], "title": "CouponAnalyticsResponse", "description": "Analytics data for a coupon."}, "CouponCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "coupon_type": {"$ref": "#/components/schemas/CouponType"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Amount Currency"}, "percentage_rate": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Percentage Rate"}, "frequency": {"$ref": "#/components/schemas/CouponFrequency"}, "frequency_duration": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Frequency Duration"}, "reusable": {"type": "boolean", "title": "Reusable", "default": true}, "expiration": {"$ref": "#/components/schemas/CouponExpiration", "default": "no_expiration"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}}, "type": "object", "required": ["code", "name", "coupon_type", "frequency"], "title": "CouponCreate"}, "CouponExpiration": {"type": "string", "enum": ["no_expiration", "time_limit"], "title": "CouponExpiration"}, "CouponFrequency": {"type": "string", "enum": ["once", "recurring", "forever"], "title": "CouponFrequency"}, "CouponResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "coupon_type": {"type": "string", "title": "Coupon Type"}, "amount_cents": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount Cents"}, "amount_currency": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Amount Currency"}, "percentage_rate": {"anyOf": [{"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Percentage Rate"}, "frequency": {"type": "string", "title": "Frequency"}, "frequency_duration": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Frequency Duration"}, "reusable": {"type": "boolean", "title": "Reusable"}, "expiration": {"type": "string", "title": "Expiration"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "status": {"type": "string", "title": "Status"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "coupon_type", "frequency", "reusable", "expiration", "status", "created_at", "updated_at"], "title": "CouponResponse"}, "CouponStatus": {"type": "string", "enum": ["active", "terminated"], "title": "CouponStatus"}, "CouponType": {"type": "string", "enum": ["fixed_amount", "percentage"], "title": "CouponType"}, "CouponUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "expiration": {"anyOf": [{"$ref": "#/components/schemas/CouponExpiration"}, {"type": "null"}]}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "status": {"anyOf": [{"$ref": "#/components/schemas/CouponStatus"}, {"type": "null"}]}}, "type": "object", "title": "CouponUpdate"}, "CreditNoteCreate": {"properties": {"number": {"type": "string", "maxLength": 50, "title": "Number"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "credit_note_type": {"$ref": "#/components/schemas/CreditNoteType"}, "reason": {"$ref": "#/components/schemas/CreditNoteReason"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "credit_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Credit Amount Cents", "default": "0"}, "refund_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Refund Amount Cents", "default": "0"}, "total_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Total Amount Cents", "default": "0"}, "taxes_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Taxes Amount Cents", "default": "0"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency"}, "items": {"items": {"$ref": "#/components/schemas/CreditNoteItemCreate"}, "type": "array", "title": "Items"}}, "type": "object", "required": ["number", "invoice_id", "customer_id", "credit_note_type", "reason", "currency"], "title": "CreditNoteCreate"}, "CreditNoteItemCreate": {"properties": {"fee_id": {"type": "string", "format": "uuid", "title": "Fee Id"}, "amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}}, "type": "object", "required": ["fee_id", "amount_cents"], "title": "CreditNoteItemCreate"}, "CreditNoteReason": {"type": "string", "enum": ["duplicated_charge", "product_unsatisfactory", "order_change", "order_cancellation", "fraudulent_charge", "other"], "title": "CreditNoteReason"}, "CreditNoteResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "number": {"type": "string", "title": "Number"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "credit_note_type": {"type": "string", "title": "Credit Note Type"}, "status": {"type": "string", "title": "Status"}, "credit_status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Credit Status"}, "refund_status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Refund Status"}, "reason": {"type": "string", "title": "Reason"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "credit_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Credit Amount Cents"}, "refund_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Refund Amount Cents"}, "balance_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Balance Amount Cents"}, "total_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Amount Cents"}, "taxes_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Taxes Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "issued_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Issued At"}, "voided_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Voided At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "number", "invoice_id", "customer_id", "credit_note_type", "status", "reason", "credit_amount_cents", "refund_amount_cents", "balance_amount_cents", "total_amount_cents", "taxes_amount_cents", "currency", "created_at", "updated_at"], "title": "CreditNoteResponse"}, "CreditNoteStatus": {"type": "string", "enum": ["draft", "finalized"], "title": "CreditNoteStatus"}, "CreditNoteType": {"type": "string", "enum": ["credit", "refund", "offset"], "title": "CreditNoteType"}, "CreditNoteUpdate": {"properties": {"description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "credit_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Credit Amount Cents"}, "refund_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Refund Amount Cents"}, "total_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Total Amount Cents"}, "taxes_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Taxes Amount Cents"}, "reason": {"anyOf": [{"$ref": "#/components/schemas/CreditNoteReason"}, {"type": "null"}]}, "status": {"anyOf": [{"$ref": "#/components/schemas/CreditNoteStatus"}, {"type": "null"}]}, "credit_status": {"anyOf": [{"$ref": "#/components/schemas/CreditStatus"}, {"type": "null"}]}, "refund_status": {"anyOf": [{"$ref": "#/components/schemas/RefundStatus"}, {"type": "null"}]}}, "type": "object", "title": "CreditNoteUpdate"}, "CreditStatus": {"type": "string", "enum": ["available", "consumed", "voided"], "title": "CreditStatus"}, "CustomerCreate": {"properties": {"external_id": {"type": "string", "maxLength": 255, "minLength": 1, "title": "External Id"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "timezone": {"type": "string", "maxLength": 50, "title": "Timezone", "default": "UTC"}, "billing_metadata": {"additionalProperties": true, "type": "object", "title": "Billing Metadata"}, "invoice_grace_period": {"type": "integer", "minimum": 0.0, "title": "Invoice Grace Period", "default": 0}, "net_payment_term": {"type": "integer", "minimum": 0.0, "title": "Net Payment Term", "default": 30}}, "type": "object", "required": ["external_id", "name"], "title": "CustomerCreate"}, "CustomerHealthResponse": {"properties": {"status": {"$ref": "#/components/schemas/CustomerHealthStatus"}, "total_invoices": {"type": "integer", "title": "Total Invoices"}, "paid_invoices": {"type": "integer", "title": "Paid Invoices"}, "overdue_invoices": {"type": "integer", "title": "Overdue Invoices"}, "total_payments": {"type": "integer", "title": "Total Payments"}, "failed_payments": {"type": "integer", "title": "Failed Payments"}, "overdue_amount": {"type": "number", "title": "Overdue Amount"}}, "type": "object", "required": ["status", "total_invoices", "paid_invoices", "overdue_invoices", "total_payments", "failed_payments", "overdue_amount"], "title": "CustomerHealthResponse"}, "CustomerHealthStatus": {"type": "string", "enum": ["good", "warning", "critical"], "title": "CustomerHealthStatus"}, "CustomerMetricsResponse": {"properties": {"total": {"type": "integer", "title": "Total"}, "new_this_month": {"type": "integer", "title": "New This Month"}, "churned_this_month": {"type": "integer", "title": "Churned This Month"}, "new_trend": {"anyOf": [{"$ref": "#/components/schemas/TrendIndicator"}, {"type": "null"}]}, "churned_trend": {"anyOf": [{"$ref": "#/components/schemas/TrendIndicator"}, {"type": "null"}]}}, "type": "object", "required": ["total", "new_this_month", "churned_this_month"], "title": "CustomerMetricsResponse"}, "CustomerResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "external_id": {"type": "string", "title": "External Id"}, "name": {"type": "string", "title": "Name"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "currency": {"type": "string", "title": "Currency"}, "timezone": {"type": "string", "title": "Timezone"}, "billing_metadata": {"additionalProperties": true, "type": "object", "title": "Billing Metadata"}, "invoice_grace_period": {"type": "integer", "title": "Invoice Grace Period"}, "net_payment_term": {"type": "integer", "title": "Net Payment Term"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "external_id", "name", "email", "currency", "timezone", "billing_metadata", "invoice_grace_period", "net_payment_term", "created_at", "updated_at"], "title": "CustomerResponse"}, "CustomerUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email"}, "currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Currency"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone"}, "billing_metadata": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Billing Metadata"}, "invoice_grace_period": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Invoice Grace Period"}, "net_payment_term": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Net Payment Term"}}, "type": "object", "title": "CustomerUpdate"}, "DashboardStatsResponse": {"properties": {"total_customers": {"type": "integer", "title": "Total Customers"}, "active_subscriptions": {"type": "integer", "title": "Active Subscriptions"}, "monthly_recurring_revenue": {"type": "number", "title": "Monthly Recurring Revenue"}, "total_invoiced": {"type": "number", "title": "Total Invoiced"}, "total_wallet_credits": {"type": "number", "title": "Total Wallet Credits"}, "currency": {"type": "string", "title": "Currency"}}, "type": "object", "required": ["total_customers", "active_subscriptions", "monthly_recurring_revenue", "total_invoiced", "total_wallet_credits", "currency"], "title": "DashboardStatsResponse"}, "DataExportCreate": {"properties": {"export_type": {"$ref": "#/components/schemas/ExportType"}, "filters": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Filters"}}, "type": "object", "required": ["export_type"], "title": "DataExportCreate", "description": "Schema for creating a data export."}, "DataExportEstimate": {"properties": {"export_type": {"type": "string", "title": "Export Type"}, "record_count": {"type": "integer", "title": "Record Count"}}, "type": "object", "required": ["export_type", "record_count"], "title": "DataExportEstimate", "description": "Schema for data export size estimate response."}, "DataExportResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "export_type": {"type": "string", "title": "Export Type"}, "status": {"type": "string", "title": "Status"}, "filters": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Filters"}, "file_path": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "File Path"}, "record_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Record Count"}, "progress": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Progress"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message"}, "started_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Started At"}, "completed_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Completed At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "organization_id", "export_type", "status", "created_at"], "title": "DataExportResponse", "description": "Schema for data export response."}, "DepletionForecastResponse": {"properties": {"wallet_id": {"type": "string", "format": "uuid", "title": "Wallet Id"}, "current_balance_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Current Balance Cents"}, "avg_daily_consumption": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Avg Daily Consumption"}, "projected_depletion_date": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Projected Depletion Date"}, "days_remaining": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Days Remaining"}}, "type": "object", "required": ["wallet_id", "current_balance_cents", "avg_daily_consumption"], "title": "DepletionForecastResponse"}, "DunningCampaignCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "max_attempts": {"type": "integer", "minimum": 1.0, "title": "Max Attempts", "default": 3}, "days_between_attempts": {"type": "integer", "minimum": 1.0, "title": "Days Between Attempts", "default": 3}, "bcc_emails": {"items": {"type": "string"}, "type": "array", "title": "Bcc Emails"}, "status": {"type": "string", "pattern": "^(active|inactive)$", "title": "Status", "default": "active"}, "thresholds": {"items": {"$ref": "#/components/schemas/DunningCampaignThresholdCreate"}, "type": "array", "title": "Thresholds"}}, "type": "object", "required": ["code", "name"], "title": "DunningCampaignCreate", "description": "Schema for creating a dunning campaign."}, "DunningCampaignPerformanceStats": {"properties": {"total_campaigns": {"type": "integer", "title": "Total Campaigns"}, "active_campaigns": {"type": "integer", "title": "Active Campaigns"}, "total_payment_requests": {"type": "integer", "title": "Total Payment Requests"}, "succeeded_requests": {"type": "integer", "title": "Succeeded Requests"}, "failed_requests": {"type": "integer", "title": "Failed Requests"}, "pending_requests": {"type": "integer", "title": "Pending Requests"}, "recovery_rate": {"type": "number", "title": "Recovery Rate"}, "total_recovered_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Recovered Amount Cents"}, "total_outstanding_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Outstanding Amount Cents"}}, "type": "object", "required": ["total_campaigns", "active_campaigns", "total_payment_requests", "succeeded_requests", "failed_requests", "pending_requests", "recovery_rate", "total_recovered_amount_cents", "total_outstanding_amount_cents"], "title": "DunningCampaignPerformanceStats", "description": "Performance statistics for dunning campaigns."}, "DunningCampaignResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "max_attempts": {"type": "integer", "title": "Max Attempts"}, "days_between_attempts": {"type": "integer", "title": "Days Between Attempts"}, "bcc_emails": {"items": {"type": "string"}, "type": "array", "title": "Bcc Emails"}, "status": {"type": "string", "title": "Status"}, "thresholds": {"items": {"$ref": "#/components/schemas/DunningCampaignThresholdResponse"}, "type": "array", "title": "Thresholds"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "organization_id", "code", "name", "max_attempts", "days_between_attempts", "bcc_emails", "status", "created_at", "updated_at"], "title": "DunningCampaignResponse", "description": "Schema for dunning campaign response."}, "DunningCampaignThresholdCreate": {"properties": {"currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency"}, "amount_cents": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}}, "type": "object", "required": ["currency", "amount_cents"], "title": "DunningCampaignThresholdCreate", "description": "Schema for creating a dunning campaign threshold."}, "DunningCampaignThresholdResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "dunning_campaign_id": {"type": "string", "format": "uuid", "title": "Dunning Campaign Id"}, "currency": {"type": "string", "title": "Currency"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "dunning_campaign_id", "currency", "amount_cents", "created_at", "updated_at"], "title": "DunningCampaignThresholdResponse", "description": "Schema for dunning campaign threshold response."}, "DunningCampaignUpdate": {"properties": {"code": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Code"}, "name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "max_attempts": {"anyOf": [{"type": "integer", "minimum": 1.0}, {"type": "null"}], "title": "Max Attempts"}, "days_between_attempts": {"anyOf": [{"type": "integer", "minimum": 1.0}, {"type": "null"}], "title": "Days Between Attempts"}, "bcc_emails": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Bcc Emails"}, "status": {"anyOf": [{"type": "string", "pattern": "^(active|inactive)$"}, {"type": "null"}], "title": "Status"}, "thresholds": {"anyOf": [{"items": {"$ref": "#/components/schemas/DunningCampaignThresholdCreate"}, "type": "array"}, {"type": "null"}], "title": "Thresholds"}}, "type": "object", "title": "DunningCampaignUpdate", "description": "Schema for updating a dunning campaign."}, "EndpointDeliveryStats": {"properties": {"endpoint_id": {"type": "string", "title": "Endpoint Id"}, "total": {"type": "integer", "title": "Total"}, "succeeded": {"type": "integer", "title": "Succeeded"}, "failed": {"type": "integer", "title": "Failed"}, "success_rate": {"type": "number", "title": "Success Rate"}}, "type": "object", "required": ["endpoint_id", "total", "succeeded", "failed", "success_rate"], "title": "EndpointDeliveryStats"}, "EntitlementCopyRequest": {"properties": {"source_plan_id": {"type": "string", "format": "uuid", "title": "Source Plan Id"}, "target_plan_id": {"type": "string", "format": "uuid", "title": "Target Plan Id"}}, "type": "object", "required": ["source_plan_id", "target_plan_id"], "title": "EntitlementCopyRequest"}, "EntitlementCreate": {"properties": {"plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "feature_id": {"type": "string", "format": "uuid", "title": "Feature Id"}, "value": {"type": "string", "minLength": 1, "title": "Value"}}, "type": "object", "required": ["plan_id", "feature_id", "value"], "title": "EntitlementCreate"}, "EntitlementResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "feature_id": {"type": "string", "format": "uuid", "title": "Feature Id"}, "value": {"type": "string", "title": "Value"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "plan_id", "feature_id", "value", "created_at", "updated_at"], "title": "EntitlementResponse"}, "EntitlementUpdate": {"properties": {"value": {"anyOf": [{"type": "string", "minLength": 1}, {"type": "null"}], "title": "Value"}}, "type": "object", "title": "EntitlementUpdate"}, "EstimateFeesRequest": {"properties": {"subscription_id": {"type": "string", "format": "uuid", "title": "Subscription Id"}, "code": {"type": "string", "title": "Code"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties", "default": {}}}, "type": "object", "required": ["subscription_id", "code"], "title": "EstimateFeesRequest", "description": "Request body for fee estimation from a hypothetical event."}, "EstimateFeesResponse": {"properties": {"charge_model": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Charge Model"}, "metric_code": {"type": "string", "title": "Metric Code"}, "units": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Units"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "unit_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Unit Amount Cents"}}, "type": "object", "required": ["metric_code", "units", "amount_cents", "unit_amount_cents"], "title": "EstimateFeesResponse", "description": "Response for fee estimation."}, "EventBatchCreate": {"properties": {"events": {"items": {"$ref": "#/components/schemas/EventCreate"}, "type": "array", "maxItems": 100, "minItems": 1, "title": "Events"}}, "type": "object", "required": ["events"], "title": "EventBatchCreate"}, "EventBatchResponse": {"properties": {"ingested": {"type": "integer", "title": "Ingested"}, "duplicates": {"type": "integer", "title": "Duplicates"}, "events": {"items": {"$ref": "#/components/schemas/EventResponse"}, "type": "array", "title": "Events"}}, "type": "object", "required": ["ingested", "duplicates", "events"], "title": "EventBatchResponse"}, "EventCreate": {"properties": {"transaction_id": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Transaction Id"}, "external_customer_id": {"type": "string", "maxLength": 255, "minLength": 1, "title": "External Customer Id"}, "code": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Code"}, "timestamp": {"type": "string", "format": "date-time", "title": "Timestamp"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}}, "type": "object", "required": ["transaction_id", "external_customer_id", "code", "timestamp"], "title": "EventCreate"}, "EventReprocessResponse": {"properties": {"event_id": {"type": "string", "format": "uuid", "title": "Event Id"}, "status": {"type": "string", "title": "Status"}, "subscriptions_checked": {"type": "integer", "title": "Subscriptions Checked"}}, "type": "object", "required": ["event_id", "status", "subscriptions_checked"], "title": "EventReprocessResponse"}, "EventResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "transaction_id": {"type": "string", "title": "Transaction Id"}, "external_customer_id": {"type": "string", "title": "External Customer Id"}, "code": {"type": "string", "title": "Code"}, "timestamp": {"type": "string", "format": "date-time", "title": "Timestamp"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "transaction_id", "external_customer_id", "code", "timestamp", "properties", "created_at"], "title": "EventResponse"}, "EventVolumePoint": {"properties": {"timestamp": {"type": "string", "title": "Timestamp"}, "count": {"type": "integer", "title": "Count"}}, "type": "object", "required": ["timestamp", "count"], "title": "EventVolumePoint"}, "EventVolumeResponse": {"properties": {"data_points": {"items": {"$ref": "#/components/schemas/EventVolumePoint"}, "type": "array", "title": "Data Points"}}, "type": "object", "required": ["data_points"], "title": "EventVolumeResponse"}, "ExecutionHistoryEntry": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "customer_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Customer Name"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "amount_currency": {"type": "string", "title": "Amount Currency"}, "payment_status": {"type": "string", "title": "Payment Status"}, "payment_attempts": {"type": "integer", "title": "Payment Attempts"}, "ready_for_payment_processing": {"type": "boolean", "title": "Ready For Payment Processing"}, "invoices": {"items": {"$ref": "#/components/schemas/ExecutionHistoryInvoice"}, "type": "array", "title": "Invoices"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "customer_id", "amount_cents", "amount_currency", "payment_status", "payment_attempts", "ready_for_payment_processing", "created_at", "updated_at"], "title": "ExecutionHistoryEntry", "description": "A single payment request in the campaign's execution history."}, "ExecutionHistoryInvoice": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "invoice_number": {"type": "string", "title": "Invoice Number"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "status": {"type": "string", "title": "Status"}}, "type": "object", "required": ["id", "invoice_number", "amount_cents", "currency", "status"], "title": "ExecutionHistoryInvoice", "description": "Invoice summary within an execution history entry."}, "ExportType": {"type": "string", "enum": ["invoices", "customers", "subscriptions", "events", "fees", "credit_notes", "audit_logs"], "title": "ExportType", "description": "Types of data that can be exported."}, "FeatureCreate": {"properties": {"code": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "feature_type": {"$ref": "#/components/schemas/FeatureType"}}, "type": "object", "required": ["code", "name", "feature_type"], "title": "FeatureCreate"}, "FeatureResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "feature_type": {"type": "string", "title": "Feature Type"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "description", "feature_type", "created_at", "updated_at"], "title": "FeatureResponse"}, "FeatureType": {"type": "string", "enum": ["boolean", "quantity", "custom"], "title": "FeatureType"}, "FeatureUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}}, "type": "object", "title": "FeatureUpdate"}, "FeePaymentStatus": {"type": "string", "enum": ["pending", "succeeded", "failed", "refunded"], "title": "FeePaymentStatus", "description": "Fee payment status enum."}, "FeePreview": {"properties": {"description": {"type": "string", "title": "Description"}, "units": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Units"}, "unit_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Unit Amount Cents"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "charge_model": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Charge Model"}, "metric_code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Metric Code"}}, "type": "object", "required": ["description", "units", "unit_amount_cents", "amount_cents"], "title": "FeePreview", "description": "Preview of a single fee/line item."}, "FeeResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "invoice_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}, "charge_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Charge Id"}, "subscription_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}, "commitment_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Commitment Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "fee_type": {"type": "string", "title": "Fee Type"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "taxes_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Taxes Amount Cents"}, "total_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total Amount Cents"}, "units": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Units"}, "events_count": {"type": "integer", "title": "Events Count"}, "unit_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Unit Amount Cents"}, "payment_status": {"type": "string", "title": "Payment Status"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "metric_code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Metric Code"}, "properties": {"additionalProperties": true, "type": "object", "title": "Properties"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "customer_id", "fee_type", "amount_cents", "taxes_amount_cents", "total_amount_cents", "units", "events_count", "unit_amount_cents", "payment_status", "properties", "created_at", "updated_at"], "title": "FeeResponse", "description": "Schema for fee response."}, "FeeType": {"type": "string", "enum": ["charge", "subscription", "add_on", "credit", "commitment"], "title": "FeeType", "description": "Fee type enum."}, "FeeUpdate": {"properties": {"payment_status": {"anyOf": [{"$ref": "#/components/schemas/FeePaymentStatus"}, {"type": "null"}]}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "taxes_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Taxes Amount Cents"}, "total_amount_cents": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Total Amount Cents"}}, "type": "object", "title": "FeeUpdate", "description": "Schema for updating a fee."}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "IntegrationCreate": {"properties": {"integration_type": {"type": "string", "maxLength": 30, "minLength": 1, "title": "Integration Type"}, "provider_type": {"type": "string", "maxLength": 50, "minLength": 1, "title": "Provider Type"}, "status": {"type": "string", "maxLength": 20, "title": "Status", "default": "active"}, "settings": {"additionalProperties": true, "type": "object", "title": "Settings"}}, "type": "object", "required": ["integration_type", "provider_type"], "title": "IntegrationCreate"}, "IntegrationCustomerResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "integration_id": {"type": "string", "format": "uuid", "title": "Integration Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "external_customer_id": {"type": "string", "title": "External Customer Id"}, "settings": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Settings"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "integration_id", "customer_id", "external_customer_id", "created_at", "updated_at"], "title": "IntegrationCustomerResponse"}, "IntegrationMappingResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "integration_id": {"type": "string", "format": "uuid", "title": "Integration Id"}, "mappable_type": {"type": "string", "title": "Mappable Type"}, "mappable_id": {"type": "string", "format": "uuid", "title": "Mappable Id"}, "external_id": {"type": "string", "title": "External Id"}, "external_data": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "External Data"}, "last_synced_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Synced At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "integration_id", "mappable_type", "mappable_id", "external_id", "created_at", "updated_at"], "title": "IntegrationMappingResponse"}, "IntegrationResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "integration_type": {"type": "string", "title": "Integration Type"}, "provider_type": {"type": "string", "title": "Provider Type"}, "status": {"type": "string", "title": "Status"}, "settings": {"additionalProperties": true, "type": "object", "title": "Settings"}, "last_sync_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Sync At"}, "error_details": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Error Details"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "organization_id", "integration_type", "provider_type", "status", "settings", "created_at", "updated_at"], "title": "IntegrationResponse"}, "IntegrationSyncHistoryResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "integration_id": {"type": "string", "format": "uuid", "title": "Integration Id"}, "resource_type": {"type": "string", "title": "Resource Type"}, "resource_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Resource Id"}, "external_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "External Id"}, "action": {"type": "string", "title": "Action"}, "status": {"type": "string", "title": "Status"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message"}, "details": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Details"}, "started_at": {"type": "string", "format": "date-time", "title": "Started At"}, "completed_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Completed At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "integration_id", "resource_type", "action", "status", "started_at", "created_at"], "title": "IntegrationSyncHistoryResponse"}, "IntegrationUpdate": {"properties": {"status": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Status"}, "settings": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Settings"}, "error_details": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Error Details"}}, "type": "object", "title": "IntegrationUpdate"}, "InvoiceLineItem": {"properties": {"description": {"type": "string", "title": "Description"}, "quantity": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Quantity"}, "unit_price": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Unit Price"}, "amount": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount"}, "charge_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Charge Id"}, "metric_code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Metric Code"}}, "type": "object", "required": ["description", "quantity", "unit_price", "amount"], "title": "InvoiceLineItem"}, "InvoicePreviewRequest": {"properties": {"subscription_id": {"type": "string", "format": "uuid", "title": "Subscription Id"}, "billing_period_start": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Billing Period Start"}, "billing_period_end": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Billing Period End"}}, "type": "object", "required": ["subscription_id"], "title": "InvoicePreviewRequest", "description": "Request body for invoice preview."}, "InvoicePreviewResponse": {"properties": {"subtotal": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Subtotal"}, "tax_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Tax Amount"}, "coupons_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Coupons Amount"}, "prepaid_credit_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Prepaid Credit Amount"}, "total": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total"}, "currency": {"type": "string", "title": "Currency"}, "fees": {"items": {"$ref": "#/components/schemas/FeePreview"}, "type": "array", "title": "Fees"}}, "type": "object", "required": ["subtotal", "tax_amount", "coupons_amount", "prepaid_credit_amount", "total", "currency", "fees"], "title": "InvoicePreviewResponse", "description": "Response for an invoice preview."}, "InvoiceResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "invoice_number": {"type": "string", "title": "Invoice Number"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "subscription_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}, "status": {"type": "string", "title": "Status"}, "invoice_type": {"type": "string", "title": "Invoice Type"}, "billing_period_start": {"type": "string", "format": "date-time", "title": "Billing Period Start"}, "billing_period_end": {"type": "string", "format": "date-time", "title": "Billing Period End"}, "subtotal": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Subtotal"}, "tax_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Tax Amount"}, "total": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Total"}, "prepaid_credit_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Prepaid Credit Amount"}, "coupons_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Coupons Amount Cents"}, "progressive_billing_credit_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Progressive Billing Credit Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "line_items": {"items": {"additionalProperties": true, "type": "object"}, "type": "array", "title": "Line Items"}, "due_date": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Due Date"}, "issued_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Issued At"}, "paid_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Paid At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "invoice_number", "customer_id", "subscription_id", "status", "invoice_type", "billing_period_start", "billing_period_end", "subtotal", "tax_amount", "total", "prepaid_credit_amount", "coupons_amount_cents", "progressive_billing_credit_amount_cents", "currency", "line_items", "due_date", "issued_at", "paid_at", "created_at", "updated_at"], "title": "InvoiceResponse"}, "InvoiceSettlementResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "settlement_type": {"type": "string", "title": "Settlement Type"}, "source_id": {"type": "string", "format": "uuid", "title": "Source Id"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "invoice_id", "settlement_type", "source_id", "amount_cents", "created_at"], "title": "InvoiceSettlementResponse", "description": "Schema for invoice settlement response."}, "InvoiceStatus": {"type": "string", "enum": ["draft", "finalized", "paid", "voided"], "title": "InvoiceStatus"}, "InvoiceUpdate": {"properties": {"status": {"anyOf": [{"$ref": "#/components/schemas/InvoiceStatus"}, {"type": "null"}]}, "due_date": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Due Date"}, "issued_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Issued At"}, "paid_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Paid At"}}, "type": "object", "title": "InvoiceUpdate"}, "ItemCreate": {"properties": {"name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "price": {"type": "number", "title": "Price"}, "quantity": {"type": "integer", "title": "Quantity", "default": 0}}, "type": "object", "required": ["name", "price"], "title": "ItemCreate"}, "ItemResponse": {"properties": {"id": {"type": "integer", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "price": {"type": "number", "title": "Price"}, "quantity": {"type": "integer", "title": "Quantity"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "name", "description", "price", "quantity", "created_at", "updated_at"], "title": "ItemResponse"}, "ItemUpdate": {"properties": {"name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "price": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Price"}, "quantity": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Quantity"}}, "type": "object", "title": "ItemUpdate"}, "LifecycleEvent": {"properties": {"timestamp": {"type": "string", "format": "date-time", "title": "Timestamp"}, "event_type": {"type": "string", "title": "Event Type"}, "title": {"type": "string", "title": "Title"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Status"}, "resource_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Resource Id"}, "resource_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Resource Type"}, "metadata": {"anyOf": [{"additionalProperties": {"type": "string"}, "type": "object"}, {"type": "null"}], "title": "Metadata"}}, "type": "object", "required": ["timestamp", "event_type", "title"], "title": "LifecycleEvent", "description": "A single event in the subscription lifecycle timeline."}, "NextBillingDateResponse": {"properties": {"next_billing_date": {"type": "string", "format": "date-time", "title": "Next Billing Date"}, "current_period_started_at": {"type": "string", "format": "date-time", "title": "Current Period Started At"}, "interval": {"type": "string", "title": "Interval"}, "days_until_next_billing": {"type": "integer", "title": "Days Until Next Billing"}}, "type": "object", "required": ["next_billing_date", "current_period_started_at", "interval", "days_until_next_billing"], "title": "NextBillingDateResponse", "description": "Response for next billing date calculation."}, "OneOffInvoiceCreate": {"properties": {"customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "line_items": {"items": {"$ref": "#/components/schemas/InvoiceLineItem"}, "type": "array", "minItems": 1, "title": "Line Items"}, "due_date": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Due Date"}, "billing_entity_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Billing Entity Id"}}, "type": "object", "required": ["customer_id", "line_items"], "title": "OneOffInvoiceCreate"}, "OrganizationCreate": {"properties": {"name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "default_currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Default Currency", "default": "USD"}, "timezone": {"type": "string", "maxLength": 50, "title": "Timezone", "default": "UTC"}, "hmac_key": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Hmac Key"}, "document_number_prefix": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Document Number Prefix"}, "invoice_grace_period": {"type": "integer", "minimum": 0.0, "title": "Invoice Grace Period", "default": 0}, "net_payment_term": {"type": "integer", "minimum": 0.0, "title": "Net Payment Term", "default": 30}, "logo_url": {"anyOf": [{"type": "string", "maxLength": 2048}, {"type": "null"}], "title": "Logo Url"}, "email": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Email"}, "portal_accent_color": {"anyOf": [{"type": "string", "maxLength": 7}, {"type": "null"}], "title": "Portal Accent Color"}, "portal_welcome_message": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Portal Welcome Message"}, "legal_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "State"}, "zipcode": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Zipcode"}, "country": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Country"}}, "type": "object", "required": ["name"], "title": "OrganizationCreate"}, "OrganizationCreateResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "default_currency": {"type": "string", "title": "Default Currency"}, "timezone": {"type": "string", "title": "Timezone"}, "hmac_key": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Hmac Key"}, "document_number_prefix": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Document Number Prefix"}, "invoice_grace_period": {"type": "integer", "title": "Invoice Grace Period"}, "net_payment_term": {"type": "integer", "title": "Net Payment Term"}, "logo_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Logo Url"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "portal_accent_color": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Portal Accent Color"}, "portal_welcome_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Portal Welcome Message"}, "legal_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "State"}, "zipcode": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Zipcode"}, "country": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Country"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "api_key": {"$ref": "#/components/schemas/ApiKeyCreateResponse"}}, "type": "object", "required": ["id", "name", "default_currency", "timezone", "hmac_key", "document_number_prefix", "invoice_grace_period", "net_payment_term", "logo_url", "email", "portal_accent_color", "portal_welcome_message", "legal_name", "address_line1", "address_line2", "city", "state", "zipcode", "country", "created_at", "updated_at", "api_key"], "title": "OrganizationCreateResponse", "description": "Organization creation response that includes the initial API key."}, "OrganizationResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "default_currency": {"type": "string", "title": "Default Currency"}, "timezone": {"type": "string", "title": "Timezone"}, "hmac_key": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Hmac Key"}, "document_number_prefix": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Document Number Prefix"}, "invoice_grace_period": {"type": "integer", "title": "Invoice Grace Period"}, "net_payment_term": {"type": "integer", "title": "Net Payment Term"}, "logo_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Logo Url"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "portal_accent_color": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Portal Accent Color"}, "portal_welcome_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Portal Welcome Message"}, "legal_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "State"}, "zipcode": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Zipcode"}, "country": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Country"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "name", "default_currency", "timezone", "hmac_key", "document_number_prefix", "invoice_grace_period", "net_payment_term", "logo_url", "email", "portal_accent_color", "portal_welcome_message", "legal_name", "address_line1", "address_line2", "city", "state", "zipcode", "country", "created_at", "updated_at"], "title": "OrganizationResponse"}, "OrganizationUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "default_currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Default Currency"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone"}, "hmac_key": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Hmac Key"}, "document_number_prefix": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Document Number Prefix"}, "invoice_grace_period": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Invoice Grace Period"}, "net_payment_term": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Net Payment Term"}, "logo_url": {"anyOf": [{"type": "string", "maxLength": 2048}, {"type": "null"}], "title": "Logo Url"}, "email": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Email"}, "portal_accent_color": {"anyOf": [{"type": "string", "maxLength": 7}, {"type": "null"}], "title": "Portal Accent Color"}, "portal_welcome_message": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Portal Welcome Message"}, "legal_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Legal Name"}, "address_line1": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Address Line1"}, "address_line2": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Address Line2"}, "city": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "City"}, "state": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "State"}, "zipcode": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Zipcode"}, "country": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Country"}}, "type": "object", "title": "OrganizationUpdate"}, "PaymentAttemptEntry": {"properties": {"timestamp": {"type": "string", "format": "date-time", "title": "Timestamp"}, "action": {"type": "string", "title": "Action"}, "old_status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Old Status"}, "new_status": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "New Status"}, "attempt_number": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Attempt Number"}, "details": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Details"}}, "type": "object", "required": ["timestamp", "action"], "title": "PaymentAttemptEntry", "description": "A single entry in the payment attempt history."}, "PaymentAttemptHistoryResponse": {"properties": {"payment_request_id": {"type": "string", "format": "uuid", "title": "Payment Request Id"}, "current_status": {"type": "string", "title": "Current Status"}, "total_attempts": {"type": "integer", "title": "Total Attempts"}, "entries": {"items": {"$ref": "#/components/schemas/PaymentAttemptEntry"}, "type": "array", "title": "Entries"}}, "type": "object", "required": ["payment_request_id", "current_status", "total_attempts", "entries"], "title": "PaymentAttemptHistoryResponse", "description": "Response for payment request attempt history."}, "PaymentMethodCreate": {"properties": {"customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "provider": {"type": "string", "maxLength": 50, "minLength": 1, "title": "Provider"}, "provider_payment_method_id": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Provider Payment Method Id"}, "type": {"type": "string", "maxLength": 50, "minLength": 1, "title": "Type"}, "is_default": {"type": "boolean", "title": "Is Default", "default": false}, "details": {"additionalProperties": true, "type": "object", "title": "Details"}}, "type": "object", "required": ["customer_id", "provider", "provider_payment_method_id", "type"], "title": "PaymentMethodCreate"}, "PaymentMethodResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "provider": {"type": "string", "title": "Provider"}, "provider_payment_method_id": {"type": "string", "title": "Provider Payment Method Id"}, "type": {"type": "string", "title": "Type"}, "is_default": {"type": "boolean", "title": "Is Default"}, "details": {"additionalProperties": true, "type": "object", "title": "Details"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "organization_id", "customer_id", "provider", "provider_payment_method_id", "type", "is_default", "details", "created_at", "updated_at"], "title": "PaymentMethodResponse"}, "PaymentProvider": {"type": "string", "enum": ["stripe", "manual", "ucp", "gocardless", "adyen"], "title": "PaymentProvider", "description": "Supported payment providers."}, "PaymentRequestCreate": {"properties": {"customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "invoice_ids": {"items": {"type": "string", "format": "uuid"}, "type": "array", "minItems": 1, "title": "Invoice Ids"}}, "type": "object", "required": ["customer_id", "invoice_ids"], "title": "PaymentRequestCreate", "description": "Schema for creating a manual payment request."}, "PaymentRequestInvoiceResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "payment_request_id": {"type": "string", "format": "uuid", "title": "Payment Request Id"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}}, "type": "object", "required": ["id", "payment_request_id", "invoice_id", "created_at"], "title": "PaymentRequestInvoiceResponse", "description": "Schema for payment request invoice join response."}, "PaymentRequestResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "dunning_campaign_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Dunning Campaign Id"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "amount_currency": {"type": "string", "title": "Amount Currency"}, "payment_status": {"type": "string", "title": "Payment Status"}, "payment_attempts": {"type": "integer", "title": "Payment Attempts"}, "ready_for_payment_processing": {"type": "boolean", "title": "Ready For Payment Processing"}, "invoices": {"items": {"$ref": "#/components/schemas/PaymentRequestInvoiceResponse"}, "type": "array", "title": "Invoices"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "organization_id", "customer_id", "amount_cents", "amount_currency", "payment_status", "payment_attempts", "ready_for_payment_processing", "created_at", "updated_at"], "title": "PaymentRequestResponse", "description": "Schema for payment request response."}, "PaymentResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount"}, "currency": {"type": "string", "title": "Currency"}, "status": {"type": "string", "title": "Status"}, "provider": {"type": "string", "title": "Provider"}, "provider_payment_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Provider Payment Id"}, "provider_checkout_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Provider Checkout Id"}, "provider_checkout_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Provider Checkout Url"}, "failure_reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Failure Reason"}, "payment_metadata": {"anyOf": [{"additionalProperties": true, "type": "object"}, {"type": "null"}], "title": "Payment Metadata"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}, "completed_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Completed At"}}, "type": "object", "required": ["id", "invoice_id", "customer_id", "amount", "currency", "status", "provider", "created_at", "updated_at"], "title": "PaymentResponse", "description": "Schema for payment response."}, "PaymentStatus": {"type": "string", "enum": ["pending", "processing", "succeeded", "failed", "refunded", "canceled"], "title": "PaymentStatus", "description": "Payment status enum."}, "PlanCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "interval": {"$ref": "#/components/schemas/PlanInterval"}, "amount_cents": {"type": "integer", "minimum": 0.0, "title": "Amount Cents", "default": 0}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "trial_period_days": {"type": "integer", "minimum": 0.0, "title": "Trial Period Days", "default": 0}, "charges": {"items": {"$ref": "#/components/schemas/ChargeInput"}, "type": "array", "title": "Charges"}}, "type": "object", "required": ["code", "name", "interval"], "title": "PlanCreate"}, "PlanInterval": {"type": "string", "enum": ["weekly", "monthly", "quarterly", "yearly"], "title": "PlanInterval"}, "PlanResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "interval": {"$ref": "#/components/schemas/PlanInterval"}, "amount_cents": {"type": "integer", "title": "Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "trial_period_days": {"type": "integer", "title": "Trial Period Days"}, "charges": {"items": {"$ref": "#/components/schemas/ChargeOutput"}, "type": "array", "title": "Charges"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "description", "interval", "amount_cents", "currency", "trial_period_days", "created_at", "updated_at"], "title": "PlanResponse"}, "PlanRevenueBreakdown": {"properties": {"plan_name": {"type": "string", "title": "Plan Name"}, "revenue": {"type": "number", "title": "Revenue"}}, "type": "object", "required": ["plan_name", "revenue"], "title": "PlanRevenueBreakdown"}, "PlanSimulateRequest": {"properties": {"units": {"type": "number", "minimum": 0.0, "title": "Units", "description": "Number of usage units to simulate"}}, "type": "object", "required": ["units"], "title": "PlanSimulateRequest", "description": "Request body for pricing simulation."}, "PlanSimulateResponse": {"properties": {"plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "base_amount_cents": {"type": "integer", "title": "Base Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "charges": {"items": {"$ref": "#/components/schemas/ChargeSimulationResult"}, "type": "array", "title": "Charges"}, "total_amount_cents": {"type": "integer", "title": "Total Amount Cents"}}, "type": "object", "required": ["plan_id", "base_amount_cents", "currency", "charges", "total_amount_cents"], "title": "PlanSimulateResponse", "description": "Response for pricing simulation."}, "PlanSummary": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "code": {"type": "string", "title": "Code"}, "interval": {"type": "string", "title": "Interval"}, "amount_cents": {"type": "integer", "title": "Amount Cents"}, "currency": {"type": "string", "title": "Currency"}}, "type": "object", "required": ["id", "name", "code", "interval", "amount_cents", "currency"], "title": "PlanSummary", "description": "Summary of a plan for comparison."}, "PlanUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "amount_cents": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Amount Cents"}, "currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Currency"}, "trial_period_days": {"anyOf": [{"type": "integer", "minimum": 0.0}, {"type": "null"}], "title": "Trial Period Days"}, "charges": {"anyOf": [{"items": {"$ref": "#/components/schemas/ChargeInput"}, "type": "array"}, {"type": "null"}], "title": "Charges"}}, "type": "object", "title": "PlanUpdate"}, "PortalBrandingResponse": {"properties": {"name": {"type": "string", "title": "Name"}, "logo_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Logo Url"}, "accent_color": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Accent Color"}, "welcome_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Welcome Message"}}, "type": "object", "required": ["name", "logo_url", "accent_color", "welcome_message"], "title": "PortalBrandingResponse"}, "PortalProfileUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Name"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone"}}, "type": "object", "title": "PortalProfileUpdate"}, "PortalUrlResponse": {"properties": {"portal_url": {"type": "string", "title": "Portal Url"}}, "type": "object", "required": ["portal_url"], "title": "PortalUrlResponse"}, "ProrationDetail": {"properties": {"days_remaining": {"type": "integer", "title": "Days Remaining"}, "total_days": {"type": "integer", "title": "Total Days"}, "current_plan_credit_cents": {"type": "integer", "title": "Current Plan Credit Cents"}, "new_plan_charge_cents": {"type": "integer", "title": "New Plan Charge Cents"}, "net_amount_cents": {"type": "integer", "title": "Net Amount Cents"}}, "type": "object", "required": ["days_remaining", "total_days", "current_plan_credit_cents", "new_plan_charge_cents", "net_amount_cents"], "title": "ProrationDetail", "description": "Proration calculation detail."}, "RecentActivityResponse": {"properties": {"id": {"type": "string", "title": "Id"}, "type": {"type": "string", "title": "Type"}, "description": {"type": "string", "title": "Description"}, "timestamp": {"type": "string", "title": "Timestamp"}}, "type": "object", "required": ["id", "type", "description", "timestamp"], "title": "RecentActivityResponse"}, "RecentInvoiceItem": {"properties": {"id": {"type": "string", "title": "Id"}, "invoice_number": {"type": "string", "title": "Invoice Number"}, "customer_name": {"type": "string", "title": "Customer Name"}, "status": {"type": "string", "title": "Status"}, "total": {"type": "number", "title": "Total"}, "currency": {"type": "string", "title": "Currency"}, "created_at": {"type": "string", "title": "Created At"}}, "type": "object", "required": ["id", "invoice_number", "customer_name", "status", "total", "currency", "created_at"], "title": "RecentInvoiceItem"}, "RecentSubscriptionItem": {"properties": {"id": {"type": "string", "title": "Id"}, "external_id": {"type": "string", "title": "External Id"}, "customer_name": {"type": "string", "title": "Customer Name"}, "plan_name": {"type": "string", "title": "Plan Name"}, "status": {"type": "string", "title": "Status"}, "created_at": {"type": "string", "title": "Created At"}}, "type": "object", "required": ["id", "external_id", "customer_name", "plan_name", "status", "created_at"], "title": "RecentSubscriptionItem"}, "RefundRequest": {"properties": {"amount": {"anyOf": [{"type": "number", "exclusiveMinimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Amount", "description": "Amount to refund. If not provided, full refund is issued."}}, "type": "object", "title": "RefundRequest", "description": "Schema for refund request with optional partial amount."}, "RefundStatus": {"type": "string", "enum": ["pending", "succeeded", "failed"], "title": "RefundStatus"}, "RevenueByPlanResponse": {"properties": {"by_plan": {"items": {"$ref": "#/components/schemas/PlanRevenueBreakdown"}, "type": "array", "title": "By Plan"}, "currency": {"type": "string", "title": "Currency"}}, "type": "object", "required": ["by_plan", "currency"], "title": "RevenueByPlanResponse"}, "RevenueDataPoint": {"properties": {"month": {"type": "string", "title": "Month"}, "revenue": {"type": "number", "title": "Revenue"}}, "type": "object", "required": ["month", "revenue"], "title": "RevenueDataPoint"}, "RevenueResponse": {"properties": {"mrr": {"type": "number", "title": "Mrr"}, "total_revenue_this_month": {"type": "number", "title": "Total Revenue This Month"}, "outstanding_invoices": {"type": "number", "title": "Outstanding Invoices"}, "overdue_amount": {"type": "number", "title": "Overdue Amount"}, "currency": {"type": "string", "title": "Currency"}, "monthly_trend": {"items": {"$ref": "#/components/schemas/RevenueDataPoint"}, "type": "array", "title": "Monthly Trend"}, "mrr_trend": {"anyOf": [{"$ref": "#/components/schemas/TrendIndicator"}, {"type": "null"}]}}, "type": "object", "required": ["mrr", "total_revenue_this_month", "outstanding_invoices", "overdue_amount", "currency", "monthly_trend"], "title": "RevenueResponse"}, "SendReminderResponse": {"properties": {"sent": {"type": "boolean", "title": "Sent"}, "invoice_id": {"type": "string", "format": "uuid", "title": "Invoice Id"}}, "type": "object", "required": ["sent", "invoice_id"], "title": "SendReminderResponse"}, "SetupSessionCreate": {"properties": {"customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "success_url": {"type": "string", "title": "Success Url", "description": "URL to redirect after successful setup"}, "cancel_url": {"type": "string", "title": "Cancel Url", "description": "URL to redirect if setup is canceled"}, "provider": {"$ref": "#/components/schemas/PaymentProvider", "description": "Payment provider to use", "default": "stripe"}}, "type": "object", "required": ["customer_id", "success_url", "cancel_url"], "title": "SetupSessionCreate"}, "SetupSessionResponse": {"properties": {"setup_id": {"type": "string", "title": "Setup Id"}, "setup_url": {"type": "string", "title": "Setup Url"}, "provider": {"type": "string", "title": "Provider"}, "expires_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expires At"}}, "type": "object", "required": ["setup_id", "setup_url", "provider"], "title": "SetupSessionResponse"}, "SparklineData": {"properties": {"mrr": {"items": {"$ref": "#/components/schemas/SparklinePoint"}, "type": "array", "title": "Mrr"}, "new_customers": {"items": {"$ref": "#/components/schemas/SparklinePoint"}, "type": "array", "title": "New Customers"}, "new_subscriptions": {"items": {"$ref": "#/components/schemas/SparklinePoint"}, "type": "array", "title": "New Subscriptions"}}, "type": "object", "required": ["mrr", "new_customers", "new_subscriptions"], "title": "SparklineData"}, "SparklinePoint": {"properties": {"date": {"type": "string", "title": "Date"}, "value": {"type": "number", "title": "Value"}}, "type": "object", "required": ["date", "value"], "title": "SparklinePoint"}, "SubscriptionCreate": {"properties": {"external_id": {"type": "string", "maxLength": 255, "minLength": 1, "title": "External Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "started_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Started At"}, "billing_time": {"$ref": "#/components/schemas/BillingTime", "default": "calendar"}, "trial_period_days": {"type": "integer", "title": "Trial Period Days", "default": 0}, "subscription_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Subscription At"}, "pay_in_advance": {"type": "boolean", "title": "Pay In Advance", "default": false}, "on_termination_action": {"$ref": "#/components/schemas/TerminationAction", "default": "generate_invoice"}}, "type": "object", "required": ["external_id", "customer_id", "plan_id"], "title": "SubscriptionCreate"}, "SubscriptionLifecycleResponse": {"properties": {"events": {"items": {"$ref": "#/components/schemas/LifecycleEvent"}, "type": "array", "title": "Events"}}, "type": "object", "required": ["events"], "title": "SubscriptionLifecycleResponse", "description": "Full lifecycle timeline for a subscription."}, "SubscriptionMetricsResponse": {"properties": {"active": {"type": "integer", "title": "Active"}, "new_this_month": {"type": "integer", "title": "New This Month"}, "canceled_this_month": {"type": "integer", "title": "Canceled This Month"}, "by_plan": {"items": {"$ref": "#/components/schemas/SubscriptionPlanBreakdown"}, "type": "array", "title": "By Plan"}, "new_trend": {"anyOf": [{"$ref": "#/components/schemas/TrendIndicator"}, {"type": "null"}]}, "canceled_trend": {"anyOf": [{"$ref": "#/components/schemas/TrendIndicator"}, {"type": "null"}]}}, "type": "object", "required": ["active", "new_this_month", "canceled_this_month", "by_plan"], "title": "SubscriptionMetricsResponse"}, "SubscriptionPlanBreakdown": {"properties": {"plan_name": {"type": "string", "title": "Plan Name"}, "count": {"type": "integer", "title": "Count"}}, "type": "object", "required": ["plan_name", "count"], "title": "SubscriptionPlanBreakdown"}, "SubscriptionResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "external_id": {"type": "string", "title": "External Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "plan_id": {"type": "string", "format": "uuid", "title": "Plan Id"}, "status": {"$ref": "#/components/schemas/SubscriptionStatus"}, "billing_time": {"type": "string", "title": "Billing Time"}, "trial_period_days": {"type": "integer", "title": "Trial Period Days"}, "trial_ended_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Trial Ended At"}, "subscription_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Subscription At"}, "pay_in_advance": {"type": "boolean", "title": "Pay In Advance"}, "previous_plan_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Previous Plan Id"}, "downgraded_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Downgraded At"}, "on_termination_action": {"type": "string", "title": "On Termination Action"}, "started_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Started At"}, "ending_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Ending At"}, "canceled_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Canceled At"}, "paused_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Paused At"}, "resumed_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Resumed At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "external_id", "customer_id", "plan_id", "status", "billing_time", "trial_period_days", "trial_ended_at", "subscription_at", "pay_in_advance", "previous_plan_id", "downgraded_at", "on_termination_action", "started_at", "ending_at", "canceled_at", "paused_at", "resumed_at", "created_at", "updated_at"], "title": "SubscriptionResponse"}, "SubscriptionStatus": {"type": "string", "enum": ["pending", "active", "paused", "canceled", "terminated"], "title": "SubscriptionStatus"}, "SubscriptionUpdate": {"properties": {"plan_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Plan Id"}, "status": {"anyOf": [{"$ref": "#/components/schemas/SubscriptionStatus"}, {"type": "null"}]}, "ending_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Ending At"}, "canceled_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Canceled At"}, "billing_time": {"anyOf": [{"$ref": "#/components/schemas/BillingTime"}, {"type": "null"}]}, "trial_period_days": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Trial Period Days"}, "trial_ended_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Trial Ended At"}, "subscription_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Subscription At"}, "pay_in_advance": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Pay In Advance"}, "previous_plan_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Previous Plan Id"}, "downgraded_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Downgraded At"}, "on_termination_action": {"anyOf": [{"$ref": "#/components/schemas/TerminationAction"}, {"type": "null"}]}}, "type": "object", "title": "SubscriptionUpdate"}, "TaxApplicationCountsResponse": {"properties": {"counts": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Counts"}}, "type": "object", "required": ["counts"], "title": "TaxApplicationCountsResponse", "description": "Response for tax application counts."}, "TaxAppliedEntitiesResponse": {"properties": {"tax_id": {"type": "string", "format": "uuid", "title": "Tax Id"}, "tax_code": {"type": "string", "title": "Tax Code"}, "entities": {"items": {"additionalProperties": {"anyOf": [{"type": "string"}, {"type": "null"}]}, "type": "object"}, "type": "array", "title": "Entities"}}, "type": "object", "required": ["tax_id", "tax_code", "entities"], "title": "TaxAppliedEntitiesResponse", "description": "Response for listing entities a tax is applied to."}, "TaxCreate": {"properties": {"code": {"type": "string", "maxLength": 255, "title": "Code"}, "name": {"type": "string", "maxLength": 255, "title": "Name"}, "rate": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Rate"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "category": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Category"}, "applied_to_organization": {"type": "boolean", "title": "Applied To Organization", "default": false}}, "type": "object", "required": ["code", "name", "rate"], "title": "TaxCreate"}, "TaxResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "code": {"type": "string", "title": "Code"}, "name": {"type": "string", "title": "Name"}, "rate": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Rate"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "category": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Category"}, "applied_to_organization": {"type": "boolean", "title": "Applied To Organization"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "code", "name", "rate", "applied_to_organization", "created_at", "updated_at"], "title": "TaxResponse"}, "TaxUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "rate": {"anyOf": [{"type": "number"}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Rate"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "category": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Category"}, "applied_to_organization": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Applied To Organization"}}, "type": "object", "title": "TaxUpdate"}, "TerminationAction": {"type": "string", "enum": ["generate_invoice", "generate_credit_note", "skip"], "title": "TerminationAction"}, "TrendIndicator": {"properties": {"previous_value": {"type": "number", "title": "Previous Value"}, "change_percent": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Change Percent"}}, "type": "object", "required": ["previous_value", "change_percent"], "title": "TrendIndicator"}, "UsageAlertCreate": {"properties": {"subscription_id": {"type": "string", "format": "uuid", "title": "Subscription Id"}, "billable_metric_id": {"type": "string", "format": "uuid", "title": "Billable Metric Id"}, "threshold_value": {"anyOf": [{"type": "number", "exclusiveMinimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Threshold Value"}, "recurring": {"type": "boolean", "title": "Recurring", "default": false}, "name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}}, "type": "object", "required": ["subscription_id", "billable_metric_id", "threshold_value"], "title": "UsageAlertCreate"}, "UsageAlertResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "organization_id": {"type": "string", "format": "uuid", "title": "Organization Id"}, "subscription_id": {"type": "string", "format": "uuid", "title": "Subscription Id"}, "billable_metric_id": {"type": "string", "format": "uuid", "title": "Billable Metric Id"}, "threshold_value": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Threshold Value"}, "recurring": {"type": "boolean", "title": "Recurring"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "times_triggered": {"type": "integer", "title": "Times Triggered"}, "triggered_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Triggered At"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "organization_id", "subscription_id", "billable_metric_id", "threshold_value", "recurring", "times_triggered", "created_at", "updated_at"], "title": "UsageAlertResponse"}, "UsageAlertStatusResponse": {"properties": {"alert_id": {"type": "string", "format": "uuid", "title": "Alert Id"}, "current_usage": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Current Usage"}, "threshold_value": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Threshold Value"}, "usage_percentage": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Usage Percentage"}, "billing_period_start": {"type": "string", "format": "date-time", "title": "Billing Period Start"}, "billing_period_end": {"type": "string", "format": "date-time", "title": "Billing Period End"}}, "type": "object", "required": ["alert_id", "current_usage", "threshold_value", "usage_percentage", "billing_period_start", "billing_period_end"], "title": "UsageAlertStatusResponse"}, "UsageAlertTriggerResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "usage_alert_id": {"type": "string", "format": "uuid", "title": "Usage Alert Id"}, "current_usage": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Current Usage"}, "threshold_value": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Threshold Value"}, "metric_code": {"type": "string", "title": "Metric Code"}, "triggered_at": {"type": "string", "format": "date-time", "title": "Triggered At"}}, "type": "object", "required": ["id", "usage_alert_id", "current_usage", "threshold_value", "metric_code", "triggered_at"], "title": "UsageAlertTriggerResponse"}, "UsageAlertUpdate": {"properties": {"threshold_value": {"anyOf": [{"type": "number", "exclusiveMinimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Threshold Value"}, "name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "recurring": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Recurring"}}, "type": "object", "title": "UsageAlertUpdate"}, "UsageMetricVolume": {"properties": {"metric_name": {"type": "string", "title": "Metric Name"}, "metric_code": {"type": "string", "title": "Metric Code"}, "event_count": {"type": "integer", "title": "Event Count"}}, "type": "object", "required": ["metric_name", "metric_code", "event_count"], "title": "UsageMetricVolume"}, "UsageMetricsResponse": {"properties": {"top_metrics": {"items": {"$ref": "#/components/schemas/UsageMetricVolume"}, "type": "array", "title": "Top Metrics"}}, "type": "object", "required": ["top_metrics"], "title": "UsageMetricsResponse"}, "UsageThresholdCreateAPI": {"properties": {"amount_cents": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Amount Cents"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "recurring": {"type": "boolean", "title": "Recurring", "default": false}, "threshold_display_name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Threshold Display Name"}}, "type": "object", "required": ["amount_cents"], "title": "UsageThresholdCreateAPI"}, "UsageThresholdResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "plan_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Plan Id"}, "subscription_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Subscription Id"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "recurring": {"type": "boolean", "title": "Recurring"}, "threshold_display_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Threshold Display Name"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "amount_cents", "currency", "recurring", "created_at", "updated_at"], "title": "UsageThresholdResponse"}, "UsageTrendPoint": {"properties": {"date": {"type": "string", "format": "date", "title": "Date"}, "value": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Value"}, "events_count": {"type": "integer", "title": "Events Count"}}, "type": "object", "required": ["date", "value", "events_count"], "title": "UsageTrendPoint", "description": "A single data point in the usage trend."}, "UsageTrendResponse": {"properties": {"subscription_id": {"type": "string", "format": "uuid", "title": "Subscription Id"}, "start_date": {"type": "string", "format": "date", "title": "Start Date"}, "end_date": {"type": "string", "format": "date", "title": "End Date"}, "data_points": {"items": {"$ref": "#/components/schemas/UsageTrendPoint"}, "type": "array", "title": "Data Points"}}, "type": "object", "required": ["subscription_id", "start_date", "end_date", "data_points"], "title": "UsageTrendResponse", "description": "Response schema for subscription usage trend."}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}, "input": {"title": "Input"}, "ctx": {"type": "object", "title": "Context"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "WalletCreate": {"properties": {"customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "code": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Code"}, "rate_amount": {"anyOf": [{"type": "number", "exclusiveMinimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Rate Amount", "default": "1"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "default": "USD"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "priority": {"type": "integer", "maximum": 50.0, "minimum": 1.0, "title": "Priority", "default": 1}, "initial_granted_credits": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}, {"type": "null"}], "title": "Initial Granted Credits"}}, "type": "object", "required": ["customer_id"], "title": "WalletCreate"}, "WalletResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Name"}, "code": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Code"}, "status": {"type": "string", "title": "Status"}, "balance_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Balance Cents"}, "credits_balance": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Credits Balance"}, "consumed_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Consumed Amount Cents"}, "consumed_credits": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Consumed Credits"}, "rate_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Rate Amount"}, "currency": {"type": "string", "title": "Currency"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "priority": {"type": "integer", "title": "Priority"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "customer_id", "status", "balance_cents", "credits_balance", "consumed_amount_cents", "consumed_credits", "rate_amount", "currency", "priority", "created_at", "updated_at"], "title": "WalletResponse"}, "WalletStatus": {"type": "string", "enum": ["active", "terminated"], "title": "WalletStatus"}, "WalletTopUp": {"properties": {"credits": {"anyOf": [{"type": "number", "exclusiveMinimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Credits"}, "source": {"type": "string", "pattern": "^(manual|interval|threshold)$", "title": "Source", "default": "manual"}}, "type": "object", "required": ["credits"], "title": "WalletTopUp"}, "WalletTransactionResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "wallet_id": {"type": "string", "format": "uuid", "title": "Wallet Id"}, "customer_id": {"type": "string", "format": "uuid", "title": "Customer Id"}, "transaction_type": {"type": "string", "title": "Transaction Type"}, "transaction_status": {"type": "string", "title": "Transaction Status"}, "source": {"type": "string", "title": "Source"}, "status": {"type": "string", "title": "Status"}, "amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount"}, "credit_amount": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Credit Amount"}, "invoice_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Invoice Id"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "wallet_id", "customer_id", "transaction_type", "transaction_status", "source", "status", "amount", "credit_amount", "created_at", "updated_at"], "title": "WalletTransactionResponse"}, "WalletTransferRequest": {"properties": {"source_wallet_id": {"type": "string", "format": "uuid", "title": "Source Wallet Id"}, "target_wallet_id": {"type": "string", "format": "uuid", "title": "Target Wallet Id"}, "credits": {"anyOf": [{"type": "number", "exclusiveMinimum": 0.0}, {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}], "title": "Credits"}}, "type": "object", "required": ["source_wallet_id", "target_wallet_id", "credits"], "title": "WalletTransferRequest"}, "WalletTransferResponse": {"properties": {"source_wallet": {"$ref": "#/components/schemas/WalletResponse"}, "target_wallet": {"$ref": "#/components/schemas/WalletResponse"}, "credits_transferred": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Credits Transferred"}}, "type": "object", "required": ["source_wallet", "target_wallet", "credits_transferred"], "title": "WalletTransferResponse"}, "WalletUpdate": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 255}, {"type": "null"}], "title": "Name"}, "expiration_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Expiration At"}, "priority": {"anyOf": [{"type": "integer", "maximum": 50.0, "minimum": 1.0}, {"type": "null"}], "title": "Priority"}}, "type": "object", "title": "WalletUpdate"}, "WebhookDeliveryAttemptResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "webhook_id": {"type": "string", "format": "uuid", "title": "Webhook Id"}, "attempt_number": {"type": "integer", "title": "Attempt Number"}, "http_status": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Http Status"}, "response_body": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Response Body"}, "success": {"type": "boolean", "title": "Success"}, "error_message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Error Message"}, "attempted_at": {"type": "string", "format": "date-time", "title": "Attempted At"}}, "type": "object", "required": ["id", "webhook_id", "attempt_number", "success", "attempted_at"], "title": "WebhookDeliveryAttemptResponse"}, "WebhookEndpointCreate": {"properties": {"url": {"type": "string", "maxLength": 2048, "title": "Url"}, "signature_algo": {"type": "string", "maxLength": 50, "title": "Signature Algo", "default": "hmac"}}, "type": "object", "required": ["url"], "title": "WebhookEndpointCreate"}, "WebhookEndpointResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "url": {"type": "string", "title": "Url"}, "signature_algo": {"type": "string", "title": "Signature Algo"}, "status": {"type": "string", "title": "Status"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "url", "signature_algo", "status", "created_at", "updated_at"], "title": "WebhookEndpointResponse"}, "WebhookEndpointUpdate": {"properties": {"url": {"anyOf": [{"type": "string", "maxLength": 2048}, {"type": "null"}], "title": "Url"}, "signature_algo": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Signature Algo"}, "status": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Status"}}, "type": "object", "title": "WebhookEndpointUpdate"}, "WebhookResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "webhook_endpoint_id": {"type": "string", "format": "uuid", "title": "Webhook Endpoint Id"}, "webhook_type": {"type": "string", "title": "Webhook Type"}, "object_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Object Type"}, "object_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Object Id"}, "payload": {"additionalProperties": true, "type": "object", "title": "Payload"}, "status": {"type": "string", "title": "Status"}, "retries": {"type": "integer", "title": "Retries"}, "max_retries": {"type": "integer", "title": "Max Retries"}, "last_retried_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Retried At"}, "http_status": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Http Status"}, "response": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Response"}, "created_at": {"type": "string", "format": "date-time", "title": "Created At"}, "updated_at": {"type": "string", "format": "date-time", "title": "Updated At"}}, "type": "object", "required": ["id", "webhook_endpoint_id", "webhook_type", "payload", "status", "retries", "max_retries", "created_at", "updated_at"], "title": "WebhookResponse"}, "app__schemas__usage__CurrentUsageResponse": {"properties": {"from_datetime": {"type": "string", "format": "date-time", "title": "From Datetime"}, "to_datetime": {"type": "string", "format": "date-time", "title": "To Datetime"}, "amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Amount Cents"}, "currency": {"type": "string", "title": "Currency"}, "charges": {"items": {"$ref": "#/components/schemas/ChargeUsage"}, "type": "array", "title": "Charges"}}, "type": "object", "required": ["from_datetime", "to_datetime", "amount_cents", "currency", "charges"], "title": "CurrentUsageResponse"}, "app__schemas__usage_threshold__CurrentUsageResponse": {"properties": {"subscription_id": {"type": "string", "format": "uuid", "title": "Subscription Id"}, "current_usage_amount_cents": {"type": "string", "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$", "title": "Current Usage Amount Cents"}, "billing_period_start": {"type": "string", "format": "date-time", "title": "Billing Period Start"}, "billing_period_end": {"type": "string", "format": "date-time", "title": "Billing Period End"}}, "type": "object", "required": ["subscription_id", "current_usage_amount_cents", "billing_period_start", "billing_period_end"], "title": "CurrentUsageResponse"}}}, "tags": [{"name": "Dashboard", "description": "Analytics dashboard and overview statistics."}, {"name": "Customers", "description": "Create, read, update, and delete customers."}, {"name": "Plans", "description": "Create, read, update, and delete billing plans."}, {"name": "Subscriptions", "description": "Manage customer subscriptions to plans."}, {"name": "Events", "description": "Ingest and query usage events."}, {"name": "Fees", "description": "Query and manage invoice fees."}, {"name": "Invoices", "description": "Manage invoices and their lifecycle."}, {"name": "Payments", "description": "Process payments, checkout sessions, and refunds."}, {"name": "Payment Methods", "description": "Manage saved customer payment methods."}, {"name": "Wallets", "description": "Manage prepaid credit wallets for customers."}, {"name": "Coupons", "description": "Create and apply discount coupons."}, {"name": "Add-ons", "description": "Create and apply one-time add-on charges."}, {"name": "Credit Notes", "description": "Issue and manage credit notes against invoices."}, {"name": "Taxes", "description": "Configure tax rates and apply taxes to entities."}, {"name": "Webhooks", "description": "Manage webhook endpoints and monitor deliveries."}, {"name": "Organizations", "description": "Manage organization settings and API keys."}, {"name": "Dunning", "description": "Configure dunning campaigns for failed payments."}, {"name": "Payment Requests", "description": "Create and track manual payment requests."}, {"name": "Commitments", "description": "Manage minimum spend commitments on plans."}, {"name": "Thresholds", "description": "Configure usage-based billing thresholds."}, {"name": "Data Exports", "description": "Export billing data as CSV files."}, {"name": "Integrations", "description": "Connect and manage external system integrations."}, {"name": "Items", "description": "Internal item management."}, {"name": "Audit Logs", "description": "Query the audit trail for billing entities."}, {"name": "Billing Entities", "description": "Manage billing entities for multi-entity invoicing."}, {"name": "Features", "description": "Manage feature flags and entitlement definitions."}, {"name": "Entitlements", "description": "Manage plan entitlements for feature access control."}, {"name": "Usage Alerts", "description": "Configure usage monitoring alerts for subscriptions."}, {"name": "Portal", "description": "Customer self-service portal endpoints."}]}
